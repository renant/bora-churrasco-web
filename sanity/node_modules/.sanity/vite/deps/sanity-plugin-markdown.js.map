{
  "version": 3,
  "sources": ["../../../sanity-plugin-markdown/lib/index.esm.js", "../../../sanity-plugin-markdown/node_modules/@sanity/color/src/config.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/color/src/hues.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/color/src/constants.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/color/src/index.ts", "../../../sanity-plugin-markdown/node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.esm.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/constants.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/helpers.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/font/responsiveFont.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/font/codeFontStyle.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/font/headingFontStyle.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/font/labelFontStyle.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/font/textAlignStyle.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/font/textFontStyle.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/hooks/useArrayProp.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/hooks/useClickOutside.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/freeze.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/element.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/global.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/process.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/scheduler.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObservation.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverController.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserver.js", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/observers/resizeObserver.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/observers/elementSizeObserver.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/hooks/useElementSize.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/hooks/useElementRect/useElementRect.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/hooks/useGlobalKeyDown.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/lib/color-fns/blend/multiply.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/lib/color-fns/blend/screen.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/lib/color-fns/convert.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/lib/color-fns/parse.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/lib/color-fns/helpers/rgba.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/lib/theme/color/button/createButtonTones.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/lib/theme/color/button/createButtonModes.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/lib/theme/color/card/createCardStates.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/lib/theme/color/defaults.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/lib/theme/color/input/createInputModes.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/lib/theme/color/muted/createMuted.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/lib/theme/color/selectable/createSelectableTones.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/lib/theme/color/solid/createSolidTones.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/lib/theme/color/spot/createSpot.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/lib/theme/color/factory.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/studioTheme/helpers.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/studioTheme/color.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/studioTheme/fonts.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/studioTheme/theme.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/defaults.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/lib/globalScope.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/themeContext.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/themeProvider.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/lib/isRecord.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/useRootTheme.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/themeColorProvider.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/theme/useTheme.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/hooks/useMediaIndex/useMediaIndex.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/hooks/usePrefersDark.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/hooks/usePrefersReducedMotion.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/hooks/useIsomorphicEffect.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/hooks/useForwardedRef.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/hooks/useCustomValidity.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/border/borderStyle.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/box/boxStyle.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/flex/flexStyle.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/flex/flexItemStyle.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/focusRing/index.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/grid/gridStyle.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/grid/gridItemStyle.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/input/responsiveInputPaddingStyle.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/input/textInputStyle.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/margin/marginStyle.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/padding/paddingStyle.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/radius/radiusStyle.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/shadow/shadowStyle.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/text/styles.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/text/text.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/avatar/styles.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/avatar/avatar.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/avatar/avatarCounter.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/helpers.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/avatar/avatarStack.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/box/box.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/label/styles.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/label/label.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/badge/styles.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/badge/badge.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/flex/flex.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/spinner/spinner.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/styles/colorVars/colorVarsStyle.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/button/styles.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/button/button.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/card/styles.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/card/card.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/checkbox/styles.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/checkbox/checkbox.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/code/styles.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/code/code.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/container/styles.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/container/container.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/grid/grid.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/heading/styles.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/heading/heading.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/inline/styles.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/inline/inline.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/kbd/kbd.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/utils/boundaryElement/boundaryElementContext.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/utils/boundaryElement/boundaryElementProvider.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/utils/boundaryElement/useBoundaryElement.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/utils/elementQuery/helpers.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/utils/elementQuery/elementQuery.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/utils/errorBoundary.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/utils/layer/getLayerContext.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/utils/layer/layerContext.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/utils/layer/useLayer.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/helpers/animation.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/helpers/element.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/helpers/focus.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/helpers/scroll.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/utils/layer/layerProvider.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/utils/layer/layer.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/utils/portal/portalContext.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/utils/portal/usePortal.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/utils/portal/portal.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/hooks/_internal/useUnique.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/utils/portal/portalProvider.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/utils/srOnly/srOnly.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/utils/virtualList/virtualList.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/popover/constants.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/popover/floating-ui/size.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/popover/helpers.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/popover/popoverArrow.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/popover/popoverCard.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/popover/popover.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/radio/styles.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/radio/radio.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/select/styles.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/select/select.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/stack/styles.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/stack/stack.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/switch/styles.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/switch/switch.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/textArea/textArea.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/textInput/textInput.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/hooks/useDelayedState.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/tooltip/constants.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/tooltip/tooltipArrow.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/tooltip/tooltipDelayGroup/tooltipDelayGroupContext.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/tooltip/tooltipDelayGroup/useTooltipDelayGroup.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/tooltip/tooltipDelayGroup/tooltipDelayGroupProvider.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/tooltip/tooltip.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/autocomplete/autocomplete.styles.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/autocomplete/autocompleteOption.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/autocomplete/autocompleteReducer.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/autocomplete/constants.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/autocomplete/autocomplete.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/breadcrumbs/breadcrumbs.styles.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/breadcrumbs/breadcrumbs.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/dialog/styles.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/dialog/dialogContext.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/dialog/useDialog.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/dialog/dialog.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/dialog/dialogProvider.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/hotkeys/hotkeys.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/menu/menuContext.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/menu/helpers.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/menu/useMenuController.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/menu/menu.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/menu/menuButton.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/menu/menuDivider.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/_selectable/style.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/primitives/_selectable/selectable.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/menu/useMenu.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/menu/menuGroup.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/menu/menuItem.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/skeleton/styles.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/skeleton/skeleton.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/skeleton/textSkeleton.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/tab/tab.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/tab/tabList.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/tab/tabPanel.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/toast/toast.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/hooks/useMounted.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/toast/toastContext.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/toast/toastProvider.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/toast/useToast.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/tree/helpers.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/tree/treeContext.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/tree/tree.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/tree/style.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/tree/useTree.ts", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/tree/treeGroup.tsx", "../../../sanity-plugin-markdown/node_modules/@sanity/ui/src/components/tree/treeItem.tsx", "../../../sanity-plugin-markdown/src/components/MarkdownInputStyles.tsx", "../../../sanity-plugin-markdown/src/components/useSimpleMdeReact.tsx", "../../../sanity-plugin-markdown/src/components/MarkdownInput.tsx", "../../../sanity-plugin-markdown/src/schema.ts", "../../../sanity-plugin-markdown/src/plugin.tsx"],
  "sourcesContent": ["import 'easymde/dist/easymde.min.css';\nexport { MarkdownInput, defaultMdeTools, markdownSchema, markdownSchemaType } from './_chunks/plugin-ca10aa4c.js';\n//# sourceMappingURL=index.esm.js.map\n", "import {ColorHueConfig} from './types'\n\nexport const black = '#101112'\nexport const white = '#fff'\n\nexport const gray: ColorHueConfig = {\n  title: 'Gray',\n  darkest: black,\n  mid: '#8690A0',\n  lightest: white,\n  midPoint: 500,\n}\n\nexport const red: ColorHueConfig = {\n  title: 'Red',\n  darkest: black,\n  mid: '#F03E2F',\n  lightest: white,\n  midPoint: 500,\n}\n\nexport const orange: ColorHueConfig = {\n  title: 'Orange',\n  darkest: black,\n  mid: '#FB7D24',\n  lightest: white,\n  midPoint: 450,\n}\n\nexport const yellow: ColorHueConfig = {\n  title: 'Yellow',\n  darkest: black,\n  mid: '#FBD024',\n  lightest: white,\n  midPoint: 300,\n}\n\nexport const green: ColorHueConfig = {\n  title: 'Green',\n  darkest: black,\n  mid: '#43D675',\n  lightest: white,\n  midPoint: 400,\n}\n\nexport const cyan: ColorHueConfig = {\n  title: 'Cyan',\n  darkest: black,\n  mid: '#22DAF4',\n  lightest: white,\n  midPoint: 400,\n}\n\nexport const blue: ColorHueConfig = {\n  title: 'Blue',\n  darkest: black,\n  mid: '#2276FC',\n  lightest: white,\n  midPoint: 500,\n}\n\nexport const purple: ColorHueConfig = {\n  title: 'Purple',\n  darkest: black,\n  mid: '#C123FC',\n  lightest: white,\n  midPoint: 500,\n}\n\nexport const magenta: ColorHueConfig = {\n  title: 'Magenta',\n  darkest: black,\n  mid: '#E5389E',\n  lightest: white,\n  midPoint: 500,\n}\n", "/* THIS FILE IS AUTO-GENERATED – DO NOT EDIT */\n\nimport {ColorTints} from './types'\n\n/**\n * @public\n */\nexport const gray: ColorTints = {\n  '50': {\n    title: 'Gray 50',\n    hex: '#f2f3f5',\n  },\n  '100': {\n    title: 'Gray 100',\n    hex: '#e6e8ec',\n  },\n  '200': {\n    title: 'Gray 200',\n    hex: '#ced2d9',\n  },\n  '300': {\n    title: 'Gray 300',\n    hex: '#b6bcc6',\n  },\n  '400': {\n    title: 'Gray 400',\n    hex: '#9ea6b3',\n  },\n  '500': {\n    title: 'Gray 500',\n    hex: '#8690a0',\n  },\n  '600': {\n    title: 'Gray 600',\n    hex: '#6e7683',\n  },\n  '700': {\n    title: 'Gray 700',\n    hex: '#565d67',\n  },\n  '800': {\n    title: 'Gray 800',\n    hex: '#3f434a',\n  },\n  '900': {\n    title: 'Gray 900',\n    hex: '#272a2e',\n  },\n  '950': {\n    title: 'Gray 950',\n    hex: '#1b1d20',\n  },\n}\n\n/**\n * @public\n */\nexport const blue: ColorTints = {\n  '50': {\n    title: 'Blue 50',\n    hex: '#e8f1fe',\n  },\n  '100': {\n    title: 'Blue 100',\n    hex: '#d2e3fe',\n  },\n  '200': {\n    title: 'Blue 200',\n    hex: '#a6c8fd',\n  },\n  '300': {\n    title: 'Blue 300',\n    hex: '#7aacfd',\n  },\n  '400': {\n    title: 'Blue 400',\n    hex: '#4e91fc',\n  },\n  '500': {\n    title: 'Blue 500',\n    hex: '#2276fc',\n  },\n  '600': {\n    title: 'Blue 600',\n    hex: '#1e61cd',\n  },\n  '700': {\n    title: 'Blue 700',\n    hex: '#1a4d9e',\n  },\n  '800': {\n    title: 'Blue 800',\n    hex: '#17396f',\n  },\n  '900': {\n    title: 'Blue 900',\n    hex: '#132540',\n  },\n  '950': {\n    title: 'Blue 950',\n    hex: '#111b29',\n  },\n}\n\n/**\n * @public\n */\nexport const purple: ColorTints = {\n  '50': {\n    title: 'Purple 50',\n    hex: '#f8e9fe',\n  },\n  '100': {\n    title: 'Purple 100',\n    hex: '#f2d3fe',\n  },\n  '200': {\n    title: 'Purple 200',\n    hex: '#e6a7fd',\n  },\n  '300': {\n    title: 'Purple 300',\n    hex: '#d97bfd',\n  },\n  '400': {\n    title: 'Purple 400',\n    hex: '#cd4efc',\n  },\n  '500': {\n    title: 'Purple 500',\n    hex: '#c123fc',\n  },\n  '600': {\n    title: 'Purple 600',\n    hex: '#9d1fcd',\n  },\n  '700': {\n    title: 'Purple 700',\n    hex: '#7a1b9e',\n  },\n  '800': {\n    title: 'Purple 800',\n    hex: '#56186f',\n  },\n  '900': {\n    title: 'Purple 900',\n    hex: '#331440',\n  },\n  '950': {\n    title: 'Purple 950',\n    hex: '#211229',\n  },\n}\n\n/**\n * @public\n */\nexport const magenta: ColorTints = {\n  '50': {\n    title: 'Magenta 50',\n    hex: '#fcebf5',\n  },\n  '100': {\n    title: 'Magenta 100',\n    hex: '#f9d7eb',\n  },\n  '200': {\n    title: 'Magenta 200',\n    hex: '#f4afd8',\n  },\n  '300': {\n    title: 'Magenta 300',\n    hex: '#ef87c4',\n  },\n  '400': {\n    title: 'Magenta 400',\n    hex: '#ea5fb1',\n  },\n  '500': {\n    title: 'Magenta 500',\n    hex: '#e5389e',\n  },\n  '600': {\n    title: 'Magenta 600',\n    hex: '#ba3082',\n  },\n  '700': {\n    title: 'Magenta 700',\n    hex: '#8f2866',\n  },\n  '800': {\n    title: 'Magenta 800',\n    hex: '#65204a',\n  },\n  '900': {\n    title: 'Magenta 900',\n    hex: '#3a182d',\n  },\n  '950': {\n    title: 'Magenta 950',\n    hex: '#25141f',\n  },\n}\n\n/**\n * @public\n */\nexport const red: ColorTints = {\n  '50': {\n    title: 'Red 50',\n    hex: '#fdebea',\n  },\n  '100': {\n    title: 'Red 100',\n    hex: '#fcd8d5',\n  },\n  '200': {\n    title: 'Red 200',\n    hex: '#f9b1ab',\n  },\n  '300': {\n    title: 'Red 300',\n    hex: '#f68b82',\n  },\n  '400': {\n    title: 'Red 400',\n    hex: '#f36458',\n  },\n  '500': {\n    title: 'Red 500',\n    hex: '#f03e2f',\n  },\n  '600': {\n    title: 'Red 600',\n    hex: '#c33529',\n  },\n  '700': {\n    title: 'Red 700',\n    hex: '#962c23',\n  },\n  '800': {\n    title: 'Red 800',\n    hex: '#69231d',\n  },\n  '900': {\n    title: 'Red 900',\n    hex: '#3c1a17',\n  },\n  '950': {\n    title: 'Red 950',\n    hex: '#261514',\n  },\n}\n\n/**\n * @public\n */\nexport const orange: ColorTints = {\n  '50': {\n    title: 'Orange 50',\n    hex: '#fef0e6',\n  },\n  '100': {\n    title: 'Orange 100',\n    hex: '#fee2ce',\n  },\n  '200': {\n    title: 'Orange 200',\n    hex: '#fdc59d',\n  },\n  '300': {\n    title: 'Orange 300',\n    hex: '#fca86d',\n  },\n  '400': {\n    title: 'Orange 400',\n    hex: '#fb8b3c',\n  },\n  '500': {\n    title: 'Orange 500',\n    hex: '#e57322',\n  },\n  '600': {\n    title: 'Orange 600',\n    hex: '#ba5f1f',\n  },\n  '700': {\n    title: 'Orange 700',\n    hex: '#904b1b',\n  },\n  '800': {\n    title: 'Orange 800',\n    hex: '#653818',\n  },\n  '900': {\n    title: 'Orange 900',\n    hex: '#3a2415',\n  },\n  '950': {\n    title: 'Orange 950',\n    hex: '#251a13',\n  },\n}\n\n/**\n * @public\n */\nexport const yellow: ColorTints = {\n  '50': {\n    title: 'Yellow 50',\n    hex: '#fef7da',\n  },\n  '100': {\n    title: 'Yellow 100',\n    hex: '#fdefb6',\n  },\n  '200': {\n    title: 'Yellow 200',\n    hex: '#fcdf6d',\n  },\n  '300': {\n    title: 'Yellow 300',\n    hex: '#fbd024',\n  },\n  '400': {\n    title: 'Yellow 400',\n    hex: '#d9b421',\n  },\n  '500': {\n    title: 'Yellow 500',\n    hex: '#b7991e',\n  },\n  '600': {\n    title: 'Yellow 600',\n    hex: '#967e1c',\n  },\n  '700': {\n    title: 'Yellow 700',\n    hex: '#746219',\n  },\n  '800': {\n    title: 'Yellow 800',\n    hex: '#534717',\n  },\n  '900': {\n    title: 'Yellow 900',\n    hex: '#312c14',\n  },\n  '950': {\n    title: 'Yellow 950',\n    hex: '#201e13',\n  },\n}\n\n/**\n * @public\n */\nexport const green: ColorTints = {\n  '50': {\n    title: 'Green 50',\n    hex: '#e7f9ed',\n  },\n  '100': {\n    title: 'Green 100',\n    hex: '#d0f4dc',\n  },\n  '200': {\n    title: 'Green 200',\n    hex: '#a1eaba',\n  },\n  '300': {\n    title: 'Green 300',\n    hex: '#72e097',\n  },\n  '400': {\n    title: 'Green 400',\n    hex: '#43d675',\n  },\n  '500': {\n    title: 'Green 500',\n    hex: '#3ab564',\n  },\n  '600': {\n    title: 'Green 600',\n    hex: '#329454',\n  },\n  '700': {\n    title: 'Green 700',\n    hex: '#297343',\n  },\n  '800': {\n    title: 'Green 800',\n    hex: '#215233',\n  },\n  '900': {\n    title: 'Green 900',\n    hex: '#183122',\n  },\n  '950': {\n    title: 'Green 950',\n    hex: '#14211a',\n  },\n}\n\n/**\n * @public\n */\nexport const cyan: ColorTints = {\n  '50': {\n    title: 'Cyan 50',\n    hex: '#e3fafd',\n  },\n  '100': {\n    title: 'Cyan 100',\n    hex: '#c7f5fc',\n  },\n  '200': {\n    title: 'Cyan 200',\n    hex: '#90ecf9',\n  },\n  '300': {\n    title: 'Cyan 300',\n    hex: '#59e3f6',\n  },\n  '400': {\n    title: 'Cyan 400',\n    hex: '#22daf4',\n  },\n  '500': {\n    title: 'Cyan 500',\n    hex: '#1fb8ce',\n  },\n  '600': {\n    title: 'Cyan 600',\n    hex: '#1c97a8',\n  },\n  '700': {\n    title: 'Cyan 700',\n    hex: '#197583',\n  },\n  '800': {\n    title: 'Cyan 800',\n    hex: '#16545d',\n  },\n  '900': {\n    title: 'Cyan 900',\n    hex: '#133237',\n  },\n  '950': {\n    title: 'Cyan 950',\n    hex: '#112124',\n  },\n}\n\n/**\n * @public\n */\nexport const hues = {gray, blue, purple, magenta, red, orange, yellow, green, cyan}\n", "import {ColorHueKey, ColorTintKey} from './types'\n\n/**\n * The color hues provided by `@sanity/color`.\n * @public\n */\nexport const COLOR_HUES: ColorHueKey[] = [\n  'gray',\n  'blue',\n  'purple',\n  'magenta',\n  'red',\n  'orange',\n  'yellow',\n  'green',\n  'cyan',\n]\n\n/**\n * The color tints provided by `@sanity/color`\n * @public\n */\nexport const COLOR_TINTS: ColorTintKey[] = [\n  '50',\n  '100',\n  '200',\n  '300',\n  '400',\n  '500',\n  '600',\n  '700',\n  '800',\n  '900',\n  '950',\n]\n", "import {black as blackHex, white as whiteHex} from './config'\nimport {ColorValue} from './types'\n\nexport * from './hues'\nexport * from './constants'\nexport * from './types'\n\n/**\n * The black color value.\n * @public\n */\nexport const black: ColorValue = {title: 'Black', hex: blackHex}\n\n/**\n * The white color value.\n * @public\n */\nexport const white: ColorValue = {title: 'White', hex: whiteHex}\n", "import { arrow as arrow$1, computePosition } from '@floating-ui/dom';\nexport { autoPlacement, autoUpdate, computePosition, detectOverflow, flip, getOverflowAncestors, hide, inline, limitShift, offset, platform, shift, size } from '@floating-ui/dom';\nimport * as React from 'react';\nimport { useLayoutEffect, useEffect } from 'react';\nimport * as ReactDOM from 'react-dom';\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => {\n  const {\n    element,\n    padding\n  } = options;\n  function isRef(value) {\n    return {}.hasOwnProperty.call(value, 'current');\n  }\n  return {\n    name: 'arrow',\n    options,\n    fn(args) {\n      if (element && isRef(element)) {\n        if (element.current != null) {\n          return arrow$1({\n            element: element.current,\n            padding\n          }).fn(args);\n        }\n        return {};\n      } else if (element) {\n        return arrow$1({\n          element,\n          padding\n        }).fn(args);\n      }\n      return {};\n    }\n  };\n};\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\n// Fork of `fast-deep-equal` that only does the comparisons we need and compares\n// functions\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (typeof a === 'function' && a.toString() === b.toString()) {\n    return true;\n  }\n  let length, i, keys;\n  if (a && b && typeof a == 'object') {\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;) {\n        if (!deepEqual(a[i], b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) {\n      return false;\n    }\n    for (i = length; i-- !== 0;) {\n      if (!{}.hasOwnProperty.call(b, keys[i])) {\n        return false;\n      }\n    }\n    for (i = length; i-- !== 0;) {\n      const key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        continue;\n      }\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return a !== a && b !== b;\n}\n\nfunction getDPR(element) {\n  if (typeof window === 'undefined') {\n    return 1;\n  }\n  const win = element.ownerDocument.defaultView || window;\n  return win.devicePixelRatio || 1;\n}\n\nfunction roundByDPR(element, value) {\n  const dpr = getDPR(element);\n  return Math.round(value * dpr) / dpr;\n}\n\nfunction useLatestRef(value) {\n  const ref = React.useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\n/**\n * Provides data to position a floating element.\n * @see https://floating-ui.com/docs/react\n */\nfunction useFloating(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform,\n    elements: {\n      reference: externalReference,\n      floating: externalFloating\n    } = {},\n    transform = true,\n    whileElementsMounted,\n    open\n  } = options;\n  const [data, setData] = React.useState({\n    x: 0,\n    y: 0,\n    strategy,\n    placement,\n    middlewareData: {},\n    isPositioned: false\n  });\n  const [latestMiddleware, setLatestMiddleware] = React.useState(middleware);\n  if (!deepEqual(latestMiddleware, middleware)) {\n    setLatestMiddleware(middleware);\n  }\n  const [_reference, _setReference] = React.useState(null);\n  const [_floating, _setFloating] = React.useState(null);\n  const setReference = React.useCallback(node => {\n    if (node != referenceRef.current) {\n      referenceRef.current = node;\n      _setReference(node);\n    }\n  }, [_setReference]);\n  const setFloating = React.useCallback(node => {\n    if (node !== floatingRef.current) {\n      floatingRef.current = node;\n      _setFloating(node);\n    }\n  }, [_setFloating]);\n  const referenceEl = externalReference || _reference;\n  const floatingEl = externalFloating || _floating;\n  const referenceRef = React.useRef(null);\n  const floatingRef = React.useRef(null);\n  const dataRef = React.useRef(data);\n  const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n  const platformRef = useLatestRef(platform);\n  const update = React.useCallback(() => {\n    if (!referenceRef.current || !floatingRef.current) {\n      return;\n    }\n    const config = {\n      placement,\n      strategy,\n      middleware: latestMiddleware\n    };\n    if (platformRef.current) {\n      config.platform = platformRef.current;\n    }\n    computePosition(referenceRef.current, floatingRef.current, config).then(data => {\n      const fullData = {\n        ...data,\n        isPositioned: true\n      };\n      if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\n        dataRef.current = fullData;\n        ReactDOM.flushSync(() => {\n          setData(fullData);\n        });\n      }\n    });\n  }, [latestMiddleware, placement, strategy, platformRef]);\n  index(() => {\n    if (open === false && dataRef.current.isPositioned) {\n      dataRef.current.isPositioned = false;\n      setData(data => ({\n        ...data,\n        isPositioned: false\n      }));\n    }\n  }, [open]);\n  const isMountedRef = React.useRef(false);\n  index(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n  index(() => {\n    if (referenceEl) referenceRef.current = referenceEl;\n    if (floatingEl) floatingRef.current = floatingEl;\n    if (referenceEl && floatingEl) {\n      if (whileElementsMountedRef.current) {\n        return whileElementsMountedRef.current(referenceEl, floatingEl, update);\n      } else {\n        update();\n      }\n    }\n  }, [referenceEl, floatingEl, update, whileElementsMountedRef]);\n  const refs = React.useMemo(() => ({\n    reference: referenceRef,\n    floating: floatingRef,\n    setReference,\n    setFloating\n  }), [setReference, setFloating]);\n  const elements = React.useMemo(() => ({\n    reference: referenceEl,\n    floating: floatingEl\n  }), [referenceEl, floatingEl]);\n  const floatingStyles = React.useMemo(() => {\n    const initialStyles = {\n      position: strategy,\n      left: 0,\n      top: 0\n    };\n    if (!elements.floating) {\n      return initialStyles;\n    }\n    const x = roundByDPR(elements.floating, data.x);\n    const y = roundByDPR(elements.floating, data.y);\n    if (transform) {\n      return {\n        ...initialStyles,\n        transform: \"translate(\" + x + \"px, \" + y + \"px)\",\n        ...(getDPR(elements.floating) >= 1.5 && {\n          willChange: 'transform'\n        })\n      };\n    }\n    return {\n      position: strategy,\n      left: x,\n      top: y\n    };\n  }, [strategy, transform, elements.floating, data.x, data.y]);\n  return React.useMemo(() => ({\n    ...data,\n    update,\n    refs,\n    elements,\n    floatingStyles\n  }), [data, update, refs, elements, floatingStyles]);\n}\n\nexport { arrow, useFloating };\n", "/**\n * @internal\n */\nexport const EMPTY_ARRAY: never[] = []\n\n/**\n * @internal\n */\nexport const EMPTY_RECORD: Record<string, never> = {}\n\n/**\n * @internal\n */\nexport const FLOATING_STATIC_SIDES: Record<string, 'bottom' | 'left' | 'top' | 'right'> = {\n  top: 'bottom',\n  right: 'left',\n  bottom: 'top',\n  left: 'right',\n}\n", "import {EMPTY_ARRAY} from '../constants'\nimport {Theme} from '../theme'\nimport {CSSObject} from '../types/styled'\n\n/**\n * @internal\n */\nexport function _fillCSSObject(keys: string[], value: string | number | CSSObject): CSSObject {\n  return keys.reduce<CSSObject>((style, key) => {\n    style[key] = value\n\n    return style\n  }, {})\n}\n\n/**\n * @public\n */\nexport function rem(pixelValue: number): string | 0 {\n  if (pixelValue === 0) return 0\n\n  return `${pixelValue / 16}rem`\n}\n\n/**\n * @internal\n */\nexport function _responsive<T>(\n  media: number[],\n  values: T[],\n  callback: (value: T, index: number, array: T[]) => CSSObject,\n): CSSObject[] {\n  const statements = values?.map(callback) || []\n\n  return statements.map((statement, mediaIndex) => {\n    if (mediaIndex === 0) return statement\n\n    return {[`@media screen and (min-width: ${media[mediaIndex - 1]}px)`]: statement}\n  })\n}\n\n/**\n * @internal\n */\nexport function _getArrayProp<T = number>(val: T | T[] | undefined, defaultVal?: T[]): T[] {\n  if (val === undefined) return defaultVal || EMPTY_ARRAY\n\n  return Array.isArray(val) ? val : [val]\n}\n\n/**\n * @internal\n */\nexport function _getResponsiveSpace(\n  theme: Theme,\n  props: string[],\n  spaceIndexes: number[] = EMPTY_ARRAY,\n): CSSObject[] | null {\n  if (!Array.isArray(spaceIndexes)) {\n    throw new Error('the property must be array of numbers')\n  }\n\n  if (spaceIndexes.length === 0) {\n    return null\n  }\n\n  return _responsive(theme.sanity.media, spaceIndexes, (spaceIndex) =>\n    _fillCSSObject(props, rem(theme.sanity.space[spaceIndex])),\n  )\n}\n", "import {ThemeFontSize, ThemeFontKey} from '../../theme'\nimport {CSSObject} from '../../types/styled'\nimport {rem, _responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveFontStyleProps} from './types'\n\n/**\n * A utility function getting responsive font styles.\n * @internal\n */\nexport function responsiveFont(\n  fontKey: ThemeFontKey,\n  props: ResponsiveFontStyleProps & ThemeProps,\n): CSSObject[] {\n  const {$size, $weight, theme} = props\n  const {fonts, media} = theme.sanity\n  const {family, sizes, weights} = fonts[fontKey]\n  const fontWeight = ($weight && weights[$weight]) || weights.regular\n\n  // @todo: make this configurable\n  const defaultSize = sizes[2]\n\n  const base: CSSObject = {\n    position: 'relative',\n    fontFamily: family,\n    fontWeight,\n    padding: '1px 0',\n    margin: 0,\n\n    '&:before': {\n      content: '\"\"',\n      display: 'block',\n      height: 0,\n    },\n\n    '&:after': {\n      content: '\"\"',\n      display: 'block',\n      height: 0,\n    },\n\n    '& > code, & > span': {\n      display: 'block',\n    },\n\n    '&:not([hidden])': {\n      display: 'block',\n    },\n  }\n\n  // @TODO fix the real condition that is causing $size to be undefined sometimes\n  if (!$size) {\n    // @ts-expect-error: `warned` isn't typed, the underlying issue should be solved rather than typing it\n    if (!responsiveFont.warned) {\n      // eslint-disable-next-line no-console\n      console.warn('No size specified for responsive font', {fontKey, $size, props, base})\n      // @ts-expect-error: `warned` isn't typed, the underlying issue should be solved rather than typing it\n      responsiveFont.warned = true\n    }\n\n    return [base]\n  }\n\n  const resp = _responsive(media, $size, (sizeIndex) => fontSize(sizes[sizeIndex] || defaultSize))\n\n  return [base, ...resp]\n}\n\nexport function fontSize(size: ThemeFontSize): CSSObject {\n  const {ascenderHeight, descenderHeight, fontSize, iconSize, letterSpacing, lineHeight} = size\n  const negHeight = ascenderHeight + descenderHeight\n  const capHeight = lineHeight - negHeight\n  const iconOffset = (capHeight - iconSize) / 2\n  const customIconSize = Math.floor((fontSize * 1.125) / 2) * 2 + 1\n  const customIconOffset = (capHeight - customIconSize) / 2\n\n  return {\n    fontSize: rem(fontSize),\n    lineHeight: `calc(${lineHeight} / ${fontSize})`,\n    letterSpacing: rem(letterSpacing),\n    transform: `translateY(${rem(descenderHeight)})`,\n\n    '&:before': {\n      marginTop: `calc(${rem(0 - negHeight)} - 1px)`,\n    },\n\n    '&:after': {\n      marginBottom: '-1px',\n    },\n\n    '& svg:not([data-sanity-icon])': {\n      fontSize: `calc(${customIconSize} / 16 * 1rem)`,\n      margin: rem(customIconOffset),\n    },\n\n    '& [data-sanity-icon]': {\n      fontSize: `calc(${iconSize} / 16 * 1rem)`,\n      margin: rem(iconOffset),\n    },\n  }\n}\n", "import {CSSObject} from '../../types/styled'\nimport {ThemeProps} from '../types'\nimport {responsiveFont} from './responsiveFont'\nimport {ResponsiveFontStyleProps} from './types'\n\n/**\n * Get responsive CSS for the `code` font style.\n * @internal\n */\nexport function responsiveCodeFontStyle(props: ResponsiveFontStyleProps & ThemeProps): CSSObject[] {\n  return responsiveFont('code', props)\n}\n", "import {CSSObject} from '../../types/styled'\nimport {ThemeProps} from '../types'\nimport {responsiveFont} from './responsiveFont'\nimport {ResponsiveFontStyleProps} from './types'\n\n/**\n * Get responsive CSS for the `heading` font style.\n * @internal\n */\nexport function responsiveHeadingFont(props: ResponsiveFontStyleProps & ThemeProps): CSSObject[] {\n  return responsiveFont('heading', props)\n}\n", "import {CSSObject} from '../../types/styled'\nimport {ThemeProps} from '../types'\nimport {responsiveFont} from './responsiveFont'\nimport {ResponsiveFontStyleProps} from './types'\n\n/**\n * Get responsive CSS for the `label` font style.\n * @internal\n */\nexport function responsiveLabelFont(props: ResponsiveFontStyleProps & ThemeProps): CSSObject[] {\n  return responsiveFont('label', props)\n}\n", "import {CSSObject} from '../../types/styled'\nimport {_responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveTextAlignStyleProps} from './types'\n\n/**\n * Get responsive text align styles.\n * @internal\n */\nexport function responsiveTextAlignStyle(\n  props: ResponsiveTextAlignStyleProps & ThemeProps,\n): CSSObject[] {\n  const {theme} = props\n\n  return _responsive(theme.sanity.media, props.$align, (textAlign) => {\n    return {textAlign}\n  })\n}\n", "import {CSSObject} from '../../types/styled'\nimport {ThemeProps} from '../types'\nimport {responsiveFont} from './responsiveFont'\nimport {ResponsiveFontStyleProps} from './types'\n\n/**\n * Get responsive CSS for the `text` font style.\n * @internal\n */\nexport function responsiveTextFont(props: ResponsiveFontStyleProps & ThemeProps): CSSObject[] {\n  return responsiveFont('text', props)\n}\n", "import {useMemo} from 'react'\nimport {_getArrayProp} from '../styles'\n\n/** @beta */\nexport type ArrayPropPrimitive = string | number | boolean | undefined | null\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport function useArrayProp<T extends ArrayPropPrimitive = ArrayPropPrimitive>(\n  val: T | T[] | undefined,\n  defaultVal?: T[],\n): T[] {\n  // JSON.stringify is fast, but it's not faster than useMemo's referencial equality check\n  const __perf_hash__ = useMemo(() => JSON.stringify(val ?? defaultVal), [defaultVal, val])\n\n  return useMemo(\n    () => _getArrayProp(val, defaultVal),\n\n    // Improve performance: Keep object identify for a given hash of the value\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [__perf_hash__],\n  )\n}\n", "import {useEffect, useRef, useState} from 'react'\nimport {EMPTY_ARRAY} from '../constants'\n\n/**\n * @public\n */\nexport type ClickOutsideListener = (event: MouseEvent) => void\n\nfunction _getElements(\n  element: HTMLElement | null,\n  elementsArg: Array<HTMLElement | HTMLElement[] | null>,\n): HTMLElement[] {\n  const ret = [element]\n\n  for (const el of elementsArg) {\n    if (Array.isArray(el)) {\n      ret.push(...el)\n    } else {\n      ret.push(el)\n    }\n  }\n\n  return ret.filter(Boolean) as HTMLElement[]\n}\n\n/**\n * @public\n */\nexport function useClickOutside(\n  listener: ClickOutsideListener,\n  elementsArg: Array<HTMLElement | HTMLElement[] | null> = EMPTY_ARRAY,\n  boundaryElement?: HTMLElement | null,\n): (el: HTMLElement | null) => void {\n  const [element, setElement] = useState<HTMLElement | null>(null)\n  const [elements, setElements] = useState(() => _getElements(element, elementsArg))\n  const elementsRef = useRef(elements)\n\n  useEffect(() => {\n    const prevElements = elementsRef.current\n    const nextElements = _getElements(element, elementsArg)\n\n    if (prevElements.length !== nextElements.length) {\n      setElements(nextElements)\n      elementsRef.current = nextElements\n\n      return\n    }\n\n    for (const el of prevElements) {\n      if (!nextElements.includes(el)) {\n        setElements(nextElements)\n        elementsRef.current = nextElements\n\n        return\n      }\n    }\n\n    for (const el of nextElements) {\n      if (!prevElements.includes(el)) {\n        setElements(nextElements)\n        elementsRef.current = nextElements\n\n        return\n      }\n    }\n  }, [element, elementsArg])\n\n  useEffect(() => {\n    if (!listener) return undefined\n\n    const handleWindowMouseDown = (evt: MouseEvent) => {\n      const target = evt.target\n\n      if (!(target instanceof Node)) {\n        return\n      }\n\n      if (boundaryElement && !boundaryElement.contains(target)) {\n        return\n      }\n\n      for (const el of elements) {\n        if (target === el || el.contains(target)) {\n          return\n        }\n      }\n\n      listener(evt)\n    }\n\n    window.addEventListener('mousedown', handleWindowMouseDown)\n\n    return () => {\n      window.removeEventListener('mousedown', handleWindowMouseDown)\n    }\n  }, [boundaryElement, listener, elements])\n\n  return setElement\n}\n", "var resizeObservers = [];\nexport { resizeObservers };\n", "import { resizeObservers } from '../utils/resizeObservers';\nvar hasActiveObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\nexport { hasActiveObservations };\n", "import { resizeObservers } from '../utils/resizeObservers';\nvar hasSkippedObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\nexport { hasSkippedObservations };\n", "var msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\nexport { deliverResizeLoopError };\n", "var ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\nexport { ResizeObserverBoxOptions };\n", "export var freeze = function (obj) { return Object.freeze(obj); };\n", "import { freeze } from './utils/freeze';\nvar ResizeObserverSize = (function () {\n    function ResizeObserverSize(inlineSize, blockSize) {\n        this.inlineSize = inlineSize;\n        this.blockSize = blockSize;\n        freeze(this);\n    }\n    return ResizeObserverSize;\n}());\nexport { ResizeObserverSize };\n", "import { freeze } from './utils/freeze';\nvar DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return freeze(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\nexport { DOMRectReadOnly };\n", "var isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a;\n    if (obj instanceof Element) {\n        return true;\n    }\n    var scope = (_a = obj === null || obj === void 0 ? void 0 : obj.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\nexport { isSVG, isHidden, isElement, isReplacedElement };\n", "export var global = typeof window !== 'undefined' ? window : {};\n", "import { ResizeObserverBoxOptions } from '../ResizeObserverBoxOptions';\nimport { ResizeObserverSize } from '../ResizeObserverSize';\nimport { DOMRectReadOnly } from '../DOMRectReadOnly';\nimport { isSVG, isHidden } from '../utils/element';\nimport { freeze } from '../utils/freeze';\nimport { global } from '../utils/global';\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(global.navigator && global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return new ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n};\nvar zeroBoxes = freeze({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if (isHidden(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = freeze({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\nexport { calculateBoxSize, calculateBoxSizes };\n", "import { calculateBoxSizes } from './algorithms/calculateBoxSize';\nimport { freeze } from './utils/freeze';\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = calculateBoxSizes(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = freeze([boxes.borderBoxSize]);\n        this.contentBoxSize = freeze([boxes.contentBoxSize]);\n        this.devicePixelContentBoxSize = freeze([boxes.devicePixelContentBoxSize]);\n    }\n    return ResizeObserverEntry;\n}());\nexport { ResizeObserverEntry };\n", "import { isHidden } from '../utils/element';\nvar calculateDepthForNode = function (node) {\n    if (isHidden(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\nexport { calculateDepthForNode };\n", "import { resizeObservers } from '../utils/resizeObservers';\nimport { ResizeObserverEntry } from '../ResizeObserverEntry';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { calculateBoxSize } from './calculateBoxSize';\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new ResizeObserverEntry(ot.target);\n            var targetDepth = calculateDepthForNode(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\nexport { broadcastActiveObservations };\n", "import { resizeObservers } from '../utils/resizeObservers';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nvar gatherActiveObservationsAtDepth = function (depth) {\n    resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if (calculateDepthForNode(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\nexport { gatherActiveObservationsAtDepth };\n", "import { hasActiveObservations } from '../algorithms/hasActiveObservations';\nimport { hasSkippedObservations } from '../algorithms/hasSkippedObservations';\nimport { deliverResizeLoopError } from '../algorithms/deliverResizeLoopError';\nimport { broadcastActiveObservations } from '../algorithms/broadcastActiveObservations';\nimport { gatherActiveObservationsAtDepth } from '../algorithms/gatherActiveObservationsAtDepth';\nvar process = function () {\n    var depth = 0;\n    gatherActiveObservationsAtDepth(depth);\n    while (hasActiveObservations()) {\n        depth = broadcastActiveObservations();\n        gatherActiveObservationsAtDepth(depth);\n    }\n    if (hasSkippedObservations()) {\n        deliverResizeLoopError();\n    }\n    return depth > 0;\n};\nexport { process };\n", "var trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\".concat(toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\nexport { queueMicroTask };\n", "import { queueMicroTask } from './queueMicroTask';\nvar queueResizeObserver = function (cb) {\n    queueMicroTask(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\nexport { queueResizeObserver };\n", "import { process } from './process';\nimport { global } from './global';\nimport { queueResizeObserver } from './queueResizeObserver';\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        queueResizeObserver(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = process();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\nexport { scheduler, updateCount };\n", "import { ResizeObserverBoxOptions } from './ResizeObserverBoxOptions';\nimport { calculateBoxSize } from './algorithms/calculateBoxSize';\nimport { isSVG, isReplacedElement } from './utils/element';\nvar skipNotifyOnElement = function (target) {\n    return !isSVG(target)\n        && !isReplacedElement(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = calculateBoxSize(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\nexport { ResizeObservation };\n", "var ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\nexport { ResizeObserverDetail };\n", "import { scheduler, updateCount } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { resizeObservers } from './utils/resizeObservers';\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new ResizeObserverDetail(resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && resizeObservers.push(detail);\n            detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n            updateCount(1);\n            scheduler.schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            updateCount(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\nexport { ResizeObserverController };\n", "import { ResizeObserverController } from './ResizeObserverController';\nimport { isElement } from './utils/element';\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\nexport { ResizeObserver };\n", "import {ResizeObserver as ResizeObserverPolyfill} from '@juggle/resize-observer'\n\n/**\n * @internal\n */\nexport const _ResizeObserver: typeof ResizeObserver =\n  typeof document !== 'undefined' && typeof window !== 'undefined' && window.ResizeObserver\n    ? window.ResizeObserver\n    : ResizeObserverPolyfill\n", "import {_ResizeObserver} from './resizeObserver'\n\n/**\n * @beta\n */\nexport interface ElementRectValue {\n  width: number\n  height: number\n}\n\n/**\n * @beta\n */\nexport interface ElementSize {\n  content: ElementRectValue\n  border: ElementRectValue\n\n  /** @deprecated INTERNAL ONLY */\n  _contentRect: DOMRectReadOnly\n}\n\n/**\n * @internal\n */\nexport type _ElementSizeSubscriber = (elementRect: ElementSize) => void\n\n/**\n * @internal\n */\nexport interface _ElementSizeObserver {\n  subscribe: (element: HTMLElement, subscriber: _ElementSizeSubscriber) => () => void\n}\n\n/**\n * @internal\n */\nexport interface _ElementSizeListener {\n  subscribe: (element: HTMLElement, subscriber: _ElementSizeSubscriber) => () => void\n}\n\n// Initialize element size observer\n// NOTE: this should NOT have size effects\n/**\n * @internal\n */\nexport const _elementSizeObserver = _createElementSizeObserver()\n\nfunction _createElementRectValueListener(): _ElementSizeListener {\n  return {\n    subscribe(element, subscriber) {\n      const resizeObserver = new _ResizeObserver(([entry]) => {\n        subscriber({\n          _contentRect: entry.contentRect,\n          border: {\n            width: entry.borderBoxSize[0].inlineSize,\n            height: entry.borderBoxSize[0].blockSize,\n          },\n          content: {\n            width: entry.contentRect.width,\n            height: entry.contentRect.height,\n          },\n        })\n      })\n\n      resizeObserver.observe(element)\n\n      return () => {\n        resizeObserver.unobserve(element)\n        resizeObserver.disconnect()\n      }\n    },\n  }\n}\n\nfunction _createElementSizeObserver(): _ElementSizeObserver {\n  const disposeCache = new WeakMap<HTMLElement, () => void>()\n  const subscribersCache = new WeakMap<HTMLElement, _ElementSizeSubscriber[]>()\n\n  return {\n    subscribe(element, subscriber) {\n      const subscribers = subscribersCache.get(element) || []\n\n      let dispose = disposeCache.get(element)\n\n      if (!subscribersCache.has(element)) {\n        subscribersCache.set(element, subscribers)\n\n        const listener = _createElementRectValueListener()\n\n        // listen\n        dispose = listener.subscribe(element, (elementRect) => {\n          for (const sub of subscribers) {\n            sub(elementRect)\n          }\n        })\n      }\n\n      subscribers.push(subscriber)\n\n      return () => {\n        // dispose\n\n        const idx = subscribers.indexOf(subscriber)\n\n        if (idx > -1) {\n          subscribers.splice(idx, 1)\n        }\n\n        if (subscribers.length === 0) {\n          // unlisten\n          if (dispose) dispose()\n        }\n      }\n    },\n  }\n}\n", "import {useEffect, useState} from 'react'\nimport {ElementSize, _elementSizeObserver} from '../observers/elementSizeObserver'\n\n/**\n * Subscribe to the size of a DOM element.\n * @beta\n */\nexport function useElementSize(element: HTMLElement | null): ElementSize | null {\n  const [size, setSize] = useState<ElementSize | null>(null)\n\n  useEffect(() => {\n    if (!element) return undefined\n\n    return _elementSizeObserver.subscribe(element, setSize)\n  }, [element])\n\n  return size\n}\n", "import {useElementSize} from '../useElementSize'\n\n/**\n * Subscribe to the rect of a DOM element.\n * @beta\n *\n * @deprecated Use `useElementSize` instead\n */\nexport function useElementRect(element: HTMLElement | null): DOMRectReadOnly | null {\n  const elementSize = useElementSize(element)\n\n  return elementSize?._contentRect || null\n}\n", "import {useEffect} from 'react'\n\n/**\n * @beta\n */\nexport function useGlobalKeyDown(onKeyDown: (event: KeyboardEvent) => void): void {\n  return useEffect(() => {\n    addEventListener('keydown', onKeyDown)\n\n    return () => removeEventListener('keydown', onKeyDown)\n  }, [onKeyDown])\n}\n", "import {RGB} from '../types'\n\nfunction multiplyChannel(b: number, s: number) {\n  return b * s\n}\n\n/**\n * Apply the \\`multiply\\` blend mode\n * Source: https://www.w3.org/TR/compositing-1/#blendingmultiply\n * @internal\n */\nexport function multiply(b: RGB, s: RGB): RGB {\n  return {\n    r: Math.round(clamp(multiplyChannel(b.r / 255, s.r / 255) * 255)),\n    g: Math.round(clamp(multiplyChannel(b.g / 255, s.g / 255) * 255)),\n    b: Math.round(clamp(multiplyChannel(b.b / 255, s.b / 255) * 255)),\n  }\n}\n\nfunction clamp(num: number) {\n  return Math.max(Math.min(num, 255), 0)\n}\n", "import {RGB} from '../types'\n\nfunction screenChannel(b: number, s: number) {\n  return b + s - b * s\n}\n\n/**\n * Apply the \\`screen\\` blend mode\n * Source: https://www.w3.org/TR/compositing-1/#blendingscreen\n * @internal\n */\nexport function screen(b: RGB, s: RGB): RGB {\n  return {\n    r: Math.round(clamp(screenChannel(b.r / 255, s.r / 255) * 255)),\n    g: Math.round(clamp(screenChannel(b.g / 255, s.g / 255) * 255)),\n    b: Math.round(clamp(screenChannel(b.b / 255, s.b / 255) * 255)),\n  }\n}\n\nfunction clamp(num: number) {\n  return Math.max(Math.min(num, 255), 0)\n}\n", "import {HSL, RGB} from './types'\n\n/**\n * @internal\n */\nexport function hexToRgb(hex: string): RGB {\n  if (hex.length === 4) {\n    const hexR = hex.slice(1, 2)\n    const hexG = hex.slice(2, 3)\n    const hexB = hex.slice(3, 4)\n\n    return {\n      r: parseInt(hexR + hexR, 16),\n      g: parseInt(hexG + hexG, 16),\n      b: parseInt(hexB + hexB, 16),\n    }\n  }\n\n  return {\n    r: parseInt(hex.slice(1, 3), 16),\n    g: parseInt(hex.slice(3, 5), 16),\n    b: parseInt(hex.slice(5, 7), 16),\n  }\n}\n\n/**\n * @internal\n */\nexport function rgbToHex({r, g, b}: RGB): string {\n  return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1)\n}\n\n/**\n * @internal\n * @see https://css-tricks.com/converting-color-spaces-in-javascript/\n */\nexport function rgbToHsl({r, g, b}: RGB): HSL {\n  // Make r, g, and b fractions of 1\n  r /= 255\n  g /= 255\n  b /= 255\n\n  // Find greatest and smallest channel values\n  const cmin = Math.min(r, g, b)\n  const cmax = Math.max(r, g, b)\n  const delta = cmax - cmin\n\n  let h = 0\n  let s = 0\n  let l = 0\n\n  // Calculate hue\n  // No difference\n  if (delta == 0) h = 0\n  // Red is max\n  else if (cmax == r) h = ((g - b) / delta) % 6\n  // Green is max\n  else if (cmax == g) h = (b - r) / delta + 2\n  // Blue is max\n  else h = (r - g) / delta + 4\n\n  h = Math.round(h * 60)\n\n  // Make negative hues positive behind 360°\n  if (h < 0) h += 360\n\n  // Calculate lightness\n  l = (cmax + cmin) / 2\n\n  // Calculate saturation\n  s = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l - 1))\n\n  // Multiply l and s by 100\n  s = +(s * 100).toFixed(1)\n  l = +(l * 100).toFixed(1)\n\n  return {h, s, l}\n}\n\n/**\n * @internal\n */\nexport function hslToRgb(hsl: HSL): RGB {\n  // Must be fractions of 1\n  const s = hsl.s / 100\n  const l = hsl.l / 100\n\n  const c = (1 - Math.abs(2 * l - 1)) * s\n  const x = c * (1 - Math.abs(((hsl.h / 60) % 2) - 1))\n  const m = l - c / 2\n\n  let r = 0\n  let g = 0\n  let b = 0\n\n  if (0 <= hsl.h && hsl.h < 60) {\n    r = c\n    g = x\n    b = 0\n  } else if (60 <= hsl.h && hsl.h < 120) {\n    r = x\n    g = c\n    b = 0\n  } else if (120 <= hsl.h && hsl.h < 180) {\n    r = 0\n    g = c\n    b = x\n  } else if (180 <= hsl.h && hsl.h < 240) {\n    r = 0\n    g = x\n    b = c\n  } else if (240 <= hsl.h && hsl.h < 300) {\n    r = x\n    g = 0\n    b = c\n  } else if (300 <= hsl.h && hsl.h < 360) {\n    r = c\n    g = 0\n    b = x\n  }\n\n  return {\n    r: Math.round((r + m) * 255),\n    g: Math.round((g + m) * 255),\n    b: Math.round((b + m) * 255),\n  }\n}\n", "import {hexToRgb, hslToRgb} from './convert'\nimport {HSL, RGB} from './types'\n\nconst HEX_CHARS = '0123456789ABCDEFabcdef'\n\nconst HSL_RE = /hsl\\(\\s*(\\d+)\\s*,\\s*((\\d+(?:\\.\\d+)?)%)\\s*,\\s*((\\d+(?:\\.\\d+)?)%)\\s*\\)/i\n\nfunction isHexChars(str: string) {\n  for (const c of str) {\n    if (HEX_CHARS.indexOf(c) === -1) {\n      return false\n    }\n  }\n\n  return true\n}\n\nfunction isHex(str: string) {\n  if (str[0] !== '#') return false\n\n  // Accept both #000 and #000000\n  if (!(str.length === 4 || str.length === 7)) return false\n\n  return isHexChars(str.slice(1))\n}\n\nfunction parseHsl(str: string): HSL {\n  const res = HSL_RE.exec(str)\n\n  if (!res) {\n    throw new Error(`parseHsl: string is not a HSL color: \"${str}\"`)\n  }\n\n  return {h: parseInt(res[1]), s: parseFloat(res[3]), l: parseFloat(res[5])}\n}\n\n/**\n * @internal\n */\nexport function parseColor(color: unknown): RGB {\n  if (!color) return {r: 0, g: 0, b: 0}\n\n  if (typeof color !== 'string') {\n    throw new Error('parseColor: expected a string')\n  }\n\n  if (isHex(color)) {\n    return hexToRgb(color)\n  }\n\n  if (color.startsWith('hsl(')) {\n    return hslToRgb(parseHsl(color))\n  }\n\n  throw new Error(`parseColor: unexpected color format: \"${color}\"`)\n}\n", "import {parseColor} from '../parse'\n\n/**\n * @internal\n */\nexport function rgba(color: unknown, a: number): string {\n  const rgb = parseColor(color)\n\n  return `rgba(${rgb.r},${rgb.g},${rgb.b},${a})`\n}\n", "import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorMuted} from '../muted'\nimport {ThemeColorSolid} from '../solid'\nimport {ThemeColorButtonModeKey, ThemeColorButtonTones} from './types'\n\nexport function createButtonTones(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  solid: ThemeColorSolid,\n  muted: ThemeColorMuted,\n  mode: ThemeColorButtonModeKey,\n): ThemeColorButtonTones {\n  return {\n    default: opts.button({\n      base,\n      dark,\n      solid: solid.default,\n      muted: muted.default,\n      mode,\n    }),\n    primary: opts.button({\n      base,\n      dark,\n      solid: solid.primary,\n      muted: muted.primary,\n      mode,\n    }),\n    positive: opts.button({\n      base,\n      dark,\n      solid: solid.positive,\n      muted: muted.positive,\n      mode,\n    }),\n    caution: opts.button({\n      base,\n      dark,\n      solid: solid.caution,\n      muted: muted.caution,\n      mode,\n    }),\n    critical: opts.button({\n      base,\n      dark,\n      solid: solid.critical,\n      muted: muted.critical,\n      mode,\n    }),\n  }\n}\n", "import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorMuted} from '../muted'\nimport {ThemeColorSolid} from '../solid'\nimport {createButtonTones} from './createButtonTones'\nimport {ThemeColorButton} from './types'\n\nexport function createButtonModes(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  solid: ThemeColorSolid,\n  muted: ThemeColorMuted,\n): ThemeColorButton {\n  return {\n    default: createButtonTones(opts, base, dark, solid, muted, 'default'),\n    ghost: createButtonTones(opts, base, dark, solid, muted, 'ghost'),\n    bleed: createButtonTones(opts, base, dark, solid, muted, 'bleed'),\n  }\n}\n", "import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorMuted} from '../muted'\nimport {ThemeColorSolid} from '../solid'\nimport {ThemeColorName} from '../types'\nimport {ThemeColorCard} from './types'\n\nexport function createCardStates(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  name: ThemeColorName,\n  solid: ThemeColorSolid,\n  muted: ThemeColorMuted,\n): ThemeColorCard {\n  return {\n    enabled: opts.card({\n      base,\n      dark,\n      name,\n      state: 'enabled',\n      solid,\n      muted,\n    }),\n    disabled: opts.card({\n      base,\n      dark,\n      name,\n      state: 'disabled',\n      solid,\n      muted,\n    }),\n    hovered: opts.card({\n      base,\n      dark,\n      name,\n      state: 'hovered',\n      solid,\n      muted,\n    }),\n    pressed: opts.card({\n      base,\n      dark,\n      name,\n      state: 'pressed',\n      solid,\n      muted,\n    }),\n    selected: opts.card({\n      base,\n      dark,\n      name,\n      state: 'selected',\n      solid,\n      muted,\n    }),\n  }\n}\n", "import {ThemeColorBuilderOpts} from './factory'\n\nconst black = 'hsl(0, 0%, 0%)'\nconst white = 'hsl(0, 0%, 100%)'\n\nconst colors = {\n  default: {\n    lightest: 'hsl(0, 0%, 95%)',\n    lighter: 'hsl(0, 0%, 70%)',\n    light: 'hsl(0, 0%, 65%)',\n    base: 'hsl(0, 0%, 50%)',\n    dark: 'hsl(0, 0%, 35%)',\n    darker: 'hsl(0, 0%, 20%)',\n    darkest: 'hsl(0, 0%, 5%)',\n  },\n  transparent: {\n    lightest: 'hsl(240, 100%, 95%)',\n    lighter: 'hsl(240, 100%, 70%)',\n    light: 'hsl(240, 100%, 65%)',\n    base: 'hsl(240, 100%, 50%)',\n    dark: 'hsl(240, 100%, 35%)',\n    darker: 'hsl(240, 100%, 20%)',\n    darkest: 'hsl(240, 100%, 5%)',\n  },\n  primary: {\n    lightest: 'hsl(240, 100%, 95%)',\n    lighter: 'hsl(240, 100%, 70%)',\n    light: 'hsl(240, 100%, 65%)',\n    base: 'hsl(240, 100%, 50%)',\n    dark: 'hsl(240, 100%, 35%)',\n    darker: 'hsl(240, 100%, 20%)',\n    darkest: 'hsl(240, 100%, 5%)',\n  },\n  positive: {\n    lightest: 'hsl(120, 100%, 95%)',\n    lighter: 'hsl(120, 100%, 70%)',\n    light: 'hsl(120, 100%, 65%)',\n    base: 'hsl(120, 100%, 50%)',\n    dark: 'hsl(120, 100%, 35%)',\n    darker: 'hsl(120, 100%, 20%)',\n    darkest: 'hsl(120, 100%, 5%)',\n  },\n  caution: {\n    lightest: 'hsl(60, 100%, 95%)',\n    lighter: 'hsl(60, 100%, 70%)',\n    light: 'hsl(60, 100%, 65%)',\n    base: 'hsl(60, 100%, 50%)',\n    dark: 'hsl(60, 100%, 35%)',\n    darker: 'hsl(60, 100%, 20%)',\n    darkest: 'hsl(60, 100%, 5%)',\n  },\n  critical: {\n    lightest: 'hsl(0, 100%, 95%)',\n    lighter: 'hsl(0, 100%, 70%)',\n    light: 'hsl(0, 100%, 65%)',\n    base: 'hsl(0, 100%, 50%)',\n    dark: 'hsl(0, 100%, 35%)',\n    darker: 'hsl(0, 100%, 20%)',\n    darkest: 'hsl(0, 100%, 5%)',\n  },\n}\n\nconst spots = {\n  gray: 'hsl(0, 0%, 50%)',\n  red: 'hsl(0, 100%, 50%)',\n  orange: 'hsl(30, 100%, 50%)',\n  yellow: 'hsl(60, 100%, 50%)',\n  green: 'hsl(120, 100%, 50%)',\n  cyan: 'hsl(180, 100%, 50%)',\n  blue: 'hsl(240, 100%, 50%)',\n  purple: 'hsl(270, 100%, 50%)',\n  magenta: 'hsl(300, 100%, 50%)',\n}\n\nconst tones = {\n  transparent: {\n    bg: [colors.transparent.darkest, colors.transparent.lightest],\n    fg: [colors.transparent.lightest, colors.transparent.darkest],\n    border: [colors.transparent.darker, colors.transparent.lighter],\n    focusRing: [colors.transparent.base, colors.transparent.base],\n  },\n  primary: {\n    bg: [colors.primary.darkest, colors.primary.lightest],\n    fg: [colors.primary.lightest, colors.primary.darkest],\n    border: [colors.primary.darker, colors.primary.lighter],\n    focusRing: [colors.primary.base, colors.primary.base],\n  },\n  positive: {\n    bg: [colors.positive.darkest, colors.positive.lightest],\n    fg: [colors.positive.lightest, colors.positive.darkest],\n    border: [colors.positive.darker, colors.positive.lighter],\n    focusRing: [colors.positive.base, colors.positive.base],\n  },\n  caution: {\n    bg: [colors.caution.darkest, colors.caution.lightest],\n    fg: [colors.caution.lightest, colors.caution.darkest],\n    border: [colors.caution.darker, colors.caution.lighter],\n    focusRing: [colors.caution.base, colors.caution.base],\n  },\n  critical: {\n    bg: [colors.critical.darkest, colors.critical.lightest],\n    fg: [colors.critical.lightest, colors.critical.darkest],\n    border: [colors.critical.darker, colors.critical.lighter],\n    focusRing: [colors.critical.base, colors.critical.base],\n  },\n}\n\nexport const defaultOpts: ThemeColorBuilderOpts = {\n  base: ({dark, name}) => {\n    if (name === 'default') {\n      return {\n        bg: dark ? black : white,\n        fg: dark ? white : black,\n        border: dark ? colors.default.darkest : colors.default.lightest,\n        focusRing: colors.primary.base,\n        shadow: {\n          outline: black,\n          umbra: black,\n          penumbra: black,\n          ambient: black,\n        },\n        skeleton: {\n          from: dark ? white : black,\n          to: dark ? white : black,\n        },\n      }\n    }\n\n    // Variants:\n    // - primary\n    // - positive\n    // - caution\n    // - critical\n    return {\n      bg: tones[name].bg[dark ? 0 : 1],\n      fg: tones[name].fg[dark ? 0 : 1],\n      border: tones[name].border[dark ? 0 : 1],\n      focusRing: tones[name].focusRing[dark ? 0 : 1],\n      shadow: {\n        outline: black,\n        umbra: black,\n        penumbra: black,\n        ambient: black,\n      },\n      skeleton: {\n        from: dark ? white : black,\n        to: dark ? white : black,\n      },\n    }\n  },\n\n  solid: ({base, dark, state, tone}) => {\n    const color = colors[tone]\n\n    if (state === 'hovered') {\n      return {\n        bg: dark ? color.light : color.dark,\n        bg2: dark ? color.light : color.dark,\n        border: dark ? color.lighter : color.darker,\n        fg: dark ? color.darkest : color.lightest,\n        muted: {\n          fg: black,\n        },\n        accent: {\n          fg: black,\n        },\n        link: {\n          fg: black,\n        },\n        code: {\n          bg: black,\n          fg: black,\n        },\n        skeleton: base.skeleton,\n      }\n    }\n\n    return {\n      bg: color.base,\n      bg2: color.base,\n      border: dark ? color.light : color.dark,\n      fg: dark ? color.darkest : color.lightest,\n      muted: {\n        fg: black,\n      },\n      accent: {\n        fg: black,\n      },\n      link: {\n        fg: black,\n      },\n      code: {\n        bg: black,\n        fg: black,\n      },\n      skeleton: base.skeleton,\n    }\n  },\n\n  muted: ({base, dark, state, tone}) => {\n    const color = colors[tone]\n\n    if (state === 'hovered') {\n      return {\n        bg: dark ? color.darker : color.lighter,\n        bg2: dark ? color.darker : color.lighter,\n        border: dark ? color.lighter : color.darker,\n        fg: dark ? color.lightest : color.darkest,\n        muted: {\n          fg: black,\n        },\n        accent: {\n          fg: black,\n        },\n        link: {\n          fg: black,\n        },\n        code: {\n          bg: black,\n          fg: black,\n        },\n        skeleton: base.skeleton,\n      }\n    }\n\n    return {\n      bg: dark ? color.darkest : color.lightest,\n      bg2: dark ? color.darkest : color.lightest,\n      border: dark ? color.darker : color.lighter,\n      fg: dark ? color.lighter : color.darker,\n      muted: {\n        fg: black,\n      },\n      accent: {\n        fg: black,\n      },\n      link: {\n        fg: black,\n      },\n      code: {\n        bg: black,\n        fg: black,\n      },\n      skeleton: base.skeleton,\n    }\n  },\n\n  button: ({base, mode, muted, solid}) => {\n    if (mode === 'bleed') {\n      return {\n        ...muted,\n        enabled: {\n          bg: 'transparent',\n          bg2: 'transparent',\n          fg: muted.enabled.fg,\n          border: 'transparent',\n          muted: {\n            fg: black,\n          },\n          accent: {\n            fg: black,\n          },\n          link: {\n            fg: black,\n          },\n          code: {\n            bg: black,\n            fg: black,\n          },\n          skeleton: base.skeleton,\n        },\n        hovered: {\n          bg: muted.enabled.bg,\n          bg2: muted.enabled.bg,\n          fg: muted.hovered.fg,\n          border: 'transparent',\n          muted: {\n            fg: black,\n          },\n          accent: {\n            fg: black,\n          },\n          link: {\n            fg: black,\n          },\n          code: {\n            bg: black,\n            fg: black,\n          },\n          skeleton: base.skeleton,\n        },\n      }\n    }\n\n    if (mode === 'ghost')\n      return {\n        ...solid,\n        enabled: muted.enabled,\n      }\n\n    return solid\n  },\n\n  card: ({base}) => {\n    return {\n      bg: black,\n      bg2: black,\n      fg: black,\n      border: black,\n      muted: {\n        fg: black,\n      },\n      accent: {\n        fg: black,\n      },\n      link: {\n        fg: black,\n      },\n      code: {\n        bg: black,\n        fg: black,\n      },\n      skeleton: base.skeleton,\n    }\n  },\n\n  input: () => {\n    return {\n      bg: black,\n      fg: black,\n      border: black,\n      placeholder: black,\n    }\n  },\n\n  selectable: ({muted, state, tone}) => {\n    return muted[tone][state]\n  },\n\n  spot: ({key}) => {\n    return spots[key]\n  },\n\n  syntax: () => ({\n    atrule: black,\n    attrName: black,\n    attrValue: black,\n    attribute: black,\n    boolean: black,\n    builtin: black,\n    cdata: black,\n    char: black,\n    class: black,\n    className: black,\n    comment: black,\n    constant: black,\n    deleted: black,\n    doctype: black,\n    entity: black,\n    function: black,\n    hexcode: black,\n    id: black,\n    important: black,\n    inserted: black,\n    keyword: black,\n    number: black,\n    operator: black,\n    prolog: black,\n    property: black,\n    pseudoClass: black,\n    pseudoElement: black,\n    punctuation: black,\n    regex: black,\n    selector: black,\n    string: black,\n    symbol: black,\n    tag: black,\n    unit: black,\n    url: black,\n    variable: black,\n  }),\n}\n", "import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorMuted} from '../muted'\nimport {ThemeColorSolid} from '../solid'\nimport {ThemeColorInput} from './types'\n\nexport function createInputModes(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  solid: ThemeColorSolid,\n  muted: ThemeColorMuted,\n): ThemeColorInput {\n  return {\n    default: {\n      enabled: opts.input({\n        base,\n        dark,\n        mode: 'default',\n        state: 'enabled',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n      disabled: opts.input({\n        base,\n        dark,\n        mode: 'default',\n        state: 'disabled',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n      hovered: opts.input({\n        base,\n        dark,\n        mode: 'default',\n        state: 'hovered',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n      readOnly: opts.input({\n        base,\n        dark,\n        mode: 'default',\n        state: 'readOnly',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n    },\n    invalid: {\n      enabled: opts.input({\n        base,\n        dark,\n        mode: 'invalid',\n        state: 'enabled',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n      disabled: opts.input({\n        base,\n        dark,\n        mode: 'invalid',\n        state: 'disabled',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n      hovered: opts.input({\n        base,\n        dark,\n        mode: 'invalid',\n        state: 'hovered',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n      readOnly: opts.input({\n        base,\n        dark,\n        mode: 'invalid',\n        state: 'readOnly',\n        solid: solid.default,\n        muted: muted.default,\n      }),\n    },\n  }\n}\n", "import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorName} from '../types'\nimport {ThemeColorMuted} from './types'\n\nexport function createMutedTones(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  name: ThemeColorName,\n): ThemeColorMuted {\n  return {\n    default: {\n      enabled: opts.muted({base, dark, tone: 'default', name, state: 'enabled'}),\n      disabled: opts.muted({base, dark, tone: 'default', name, state: 'disabled'}),\n      hovered: opts.muted({base, dark, tone: 'default', name, state: 'hovered'}),\n      pressed: opts.muted({base, dark, tone: 'default', name, state: 'pressed'}),\n      selected: opts.muted({base, dark, tone: 'default', name, state: 'selected'}),\n    },\n    transparent: {\n      enabled: opts.muted({base, dark, tone: 'transparent', name, state: 'enabled'}),\n      disabled: opts.muted({base, dark, tone: 'transparent', name, state: 'disabled'}),\n      hovered: opts.muted({base, dark, tone: 'transparent', name, state: 'hovered'}),\n      pressed: opts.muted({base, dark, tone: 'transparent', name, state: 'pressed'}),\n      selected: opts.muted({base, dark, tone: 'transparent', name, state: 'selected'}),\n    },\n    primary: {\n      enabled: opts.muted({base, dark, tone: 'primary', name, state: 'enabled'}),\n      disabled: opts.muted({base, dark, tone: 'primary', name, state: 'disabled'}),\n      hovered: opts.muted({base, dark, tone: 'primary', name, state: 'hovered'}),\n      pressed: opts.muted({base, dark, tone: 'primary', name, state: 'pressed'}),\n      selected: opts.muted({base, dark, tone: 'primary', name, state: 'selected'}),\n    },\n    positive: {\n      enabled: opts.muted({base, dark, tone: 'positive', name, state: 'enabled'}),\n      disabled: opts.muted({base, dark, tone: 'positive', name, state: 'disabled'}),\n      hovered: opts.muted({base, dark, tone: 'positive', name, state: 'hovered'}),\n      pressed: opts.muted({base, dark, tone: 'positive', name, state: 'pressed'}),\n      selected: opts.muted({base, dark, tone: 'positive', name, state: 'selected'}),\n    },\n    caution: {\n      enabled: opts.muted({base, dark, tone: 'caution', name, state: 'enabled'}),\n      disabled: opts.muted({base, dark, tone: 'caution', name, state: 'disabled'}),\n      hovered: opts.muted({base, dark, tone: 'caution', name, state: 'hovered'}),\n      pressed: opts.muted({base, dark, tone: 'caution', name, state: 'pressed'}),\n      selected: opts.muted({base, dark, tone: 'caution', name, state: 'selected'}),\n    },\n    critical: {\n      enabled: opts.muted({base, dark, tone: 'critical', name, state: 'enabled'}),\n      disabled: opts.muted({base, dark, tone: 'critical', name, state: 'disabled'}),\n      hovered: opts.muted({base, dark, tone: 'critical', name, state: 'hovered'}),\n      pressed: opts.muted({base, dark, tone: 'critical', name, state: 'pressed'}),\n      selected: opts.muted({base, dark, tone: 'critical', name, state: 'selected'}),\n    },\n  }\n}\n", "import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorMuted} from '../muted'\nimport {ThemeColorSolid} from '../solid'\nimport {ThemeColorSelectable, ThemeColorSelectableStates} from './types'\n\nexport function createSelectableTones(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  solid: ThemeColorSolid,\n  muted: ThemeColorMuted,\n): ThemeColorSelectable {\n  return {\n    default: _createSelectableStates(opts, base, dark, solid, muted, 'default'),\n    primary: _createSelectableStates(opts, base, dark, solid, muted, 'primary'),\n    positive: _createSelectableStates(opts, base, dark, solid, muted, 'positive'),\n    caution: _createSelectableStates(opts, base, dark, solid, muted, 'caution'),\n    critical: _createSelectableStates(opts, base, dark, solid, muted, 'critical'),\n  }\n}\n\nfunction _createSelectableStates(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  solid: ThemeColorSolid,\n  muted: ThemeColorMuted,\n  tone: 'default' | 'primary' | 'positive' | 'caution' | 'critical',\n): ThemeColorSelectableStates {\n  return {\n    enabled: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: 'enabled',\n      tone,\n    }),\n    hovered: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: 'hovered',\n      tone,\n    }),\n    pressed: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: 'pressed',\n      tone,\n    }),\n    selected: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: 'selected',\n      tone,\n    }),\n    disabled: opts.selectable({\n      base,\n      dark,\n      solid,\n      muted,\n      state: 'disabled',\n      tone,\n    }),\n  }\n}\n", "import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorName} from '../types'\nimport {ThemeColorSolid} from './types'\n\nexport function createSolidTones(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n  name: ThemeColorName,\n): ThemeColorSolid {\n  return {\n    default: {\n      enabled: opts.solid({base, dark, tone: 'default', name, state: 'enabled'}),\n      disabled: opts.solid({base, dark, tone: 'default', name, state: 'disabled'}),\n      hovered: opts.solid({base, dark, tone: 'default', name, state: 'hovered'}),\n      pressed: opts.solid({base, dark, tone: 'default', name, state: 'pressed'}),\n      selected: opts.solid({base, dark, tone: 'default', name, state: 'selected'}),\n    },\n    transparent: {\n      enabled: opts.solid({base, dark, tone: 'transparent', name, state: 'enabled'}),\n      disabled: opts.solid({base, dark, tone: 'transparent', name, state: 'disabled'}),\n      hovered: opts.solid({base, dark, tone: 'transparent', name, state: 'hovered'}),\n      pressed: opts.solid({base, dark, tone: 'transparent', name, state: 'pressed'}),\n      selected: opts.solid({base, dark, tone: 'transparent', name, state: 'selected'}),\n    },\n    primary: {\n      enabled: opts.solid({base, dark, tone: 'primary', name, state: 'enabled'}),\n      disabled: opts.solid({base, dark, tone: 'primary', name, state: 'disabled'}),\n      hovered: opts.solid({base, dark, tone: 'primary', name, state: 'hovered'}),\n      pressed: opts.solid({base, dark, tone: 'primary', name, state: 'pressed'}),\n      selected: opts.solid({base, dark, tone: 'primary', name, state: 'selected'}),\n    },\n    positive: {\n      enabled: opts.solid({base, dark, tone: 'positive', name, state: 'enabled'}),\n      disabled: opts.solid({base, dark, tone: 'positive', name, state: 'disabled'}),\n      hovered: opts.solid({base, dark, tone: 'positive', name, state: 'hovered'}),\n      pressed: opts.solid({base, dark, tone: 'positive', name, state: 'pressed'}),\n      selected: opts.solid({base, dark, tone: 'positive', name, state: 'selected'}),\n    },\n    caution: {\n      enabled: opts.solid({base, dark, tone: 'caution', name, state: 'enabled'}),\n      disabled: opts.solid({base, dark, tone: 'caution', name, state: 'disabled'}),\n      hovered: opts.solid({base, dark, tone: 'caution', name, state: 'hovered'}),\n      pressed: opts.solid({base, dark, tone: 'caution', name, state: 'pressed'}),\n      selected: opts.solid({base, dark, tone: 'caution', name, state: 'selected'}),\n    },\n    critical: {\n      enabled: opts.solid({base, dark, tone: 'critical', name, state: 'enabled'}),\n      disabled: opts.solid({base, dark, tone: 'critical', name, state: 'disabled'}),\n      hovered: opts.solid({base, dark, tone: 'critical', name, state: 'hovered'}),\n      pressed: opts.solid({base, dark, tone: 'critical', name, state: 'pressed'}),\n      selected: opts.solid({base, dark, tone: 'critical', name, state: 'selected'}),\n    },\n  }\n}\n", "import {ThemeColorBase} from '../base'\nimport {ThemeColorBuilderOpts} from '../factory'\nimport {ThemeColorSpot} from './types'\n\nexport function createSpot(\n  opts: ThemeColorBuilderOpts,\n  base: ThemeColorBase,\n  dark: boolean,\n): ThemeColorSpot {\n  return {\n    gray: opts.spot({base, dark, key: 'gray'}),\n    blue: opts.spot({base, dark, key: 'blue'}),\n    purple: opts.spot({base, dark, key: 'purple'}),\n    magenta: opts.spot({base, dark, key: 'magenta'}),\n    red: opts.spot({base, dark, key: 'red'}),\n    orange: opts.spot({base, dark, key: 'orange'}),\n    yellow: opts.spot({base, dark, key: 'yellow'}),\n    green: opts.spot({base, dark, key: 'green'}),\n    cyan: opts.spot({base, dark, key: 'cyan'}),\n  }\n}\n", "import {ThemeColorGenericState} from './_generic'\nimport {ThemeColorBase} from './base'\nimport {ThemeColorButtonModeKey, ThemeColorButtonStates} from './button'\nimport {createButtonModes} from './button/createButtonModes'\nimport {ThemeColorCardState} from './card'\nimport {createCardStates} from './card/createCardStates'\nimport {defaultOpts} from './defaults'\nimport {ThemeColorInputState} from './input'\nimport {createInputModes} from './input/createInputModes'\nimport {ThemeColorMuted, ThemeColorMutedTone} from './muted'\nimport {createMutedTones} from './muted/createMuted'\nimport {ThemeColorSelectableState} from './selectable'\nimport {createSelectableTones} from './selectable/createSelectableTones'\nimport {ThemeColorSolid, ThemeColorSolidTone} from './solid'\nimport {createSolidTones} from './solid/createSolidTones'\nimport {ThemeColorSpotKey} from './spot'\nimport {createSpot} from './spot/createSpot'\nimport {ThemeColorSyntax} from './syntax'\nimport {\n  ThemeColorName,\n  ThemeColorScheme,\n  ThemeColorSchemes,\n  ThemeColor,\n  ThemeColorToneKey,\n} from './types'\n\n/**\n * @public\n */\nexport interface ThemeColorBuilderOpts {\n  base: (opts: {dark: boolean; name: ThemeColorName}) => ThemeColorBase\n  solid: (opts: {\n    base: ThemeColorBase\n    dark: boolean\n    tone: ThemeColorToneKey\n    name: ThemeColorName\n    state: 'enabled' | 'disabled' | 'hovered' | 'pressed' | 'selected'\n  }) => ThemeColorGenericState\n  muted: (opts: {\n    base: ThemeColorBase\n    dark: boolean\n    tone: ThemeColorToneKey\n    name: ThemeColorName\n    state: 'enabled' | 'disabled' | 'hovered' | 'pressed' | 'selected'\n  }) => ThemeColorGenericState\n  card: (opts: {\n    base: ThemeColorBase\n    dark: boolean\n    muted: ThemeColorMuted\n    name: ThemeColorName\n    solid: ThemeColorSolid\n    state: 'enabled' | 'disabled' | 'hovered' | 'pressed' | 'selected'\n  }) => ThemeColorCardState\n  button: (opts: {\n    dark: boolean\n    mode: ThemeColorButtonModeKey\n    base: ThemeColorBase\n    solid: ThemeColorSolidTone\n    muted: ThemeColorMutedTone\n  }) => ThemeColorButtonStates\n  input: (opts: {\n    base: ThemeColorBase\n    solid: ThemeColorSolidTone\n    muted: ThemeColorMutedTone\n    dark: boolean\n    mode: 'default' | 'invalid'\n    state: 'enabled' | 'disabled' | 'hovered' | 'readOnly'\n  }) => ThemeColorInputState\n  selectable: (opts: {\n    dark: boolean\n    base: ThemeColorBase\n    solid: ThemeColorSolid\n    muted: ThemeColorMuted\n    state: 'enabled' | 'disabled' | 'hovered' | 'pressed' | 'selected'\n    tone: 'default' | 'primary' | 'positive' | 'caution' | 'critical'\n  }) => ThemeColorSelectableState\n  syntax: (opts: {base: ThemeColorBase; dark: boolean}) => ThemeColorSyntax\n  spot: (opts: {base: ThemeColorBase; dark: boolean; key: ThemeColorSpotKey}) => string\n}\n\n/**\n * @public\n */\nexport type PartialThemeColorBuilderOpts = Partial<ThemeColorBuilderOpts>\n\n/**\n * @public\n */\nexport function createColorTheme(\n  partialOpts: PartialThemeColorBuilderOpts = {},\n): ThemeColorSchemes {\n  const builders: ThemeColorBuilderOpts = {...defaultOpts, ...partialOpts}\n\n  return {\n    light: _createColorScheme(builders, false),\n    dark: _createColorScheme(builders, true),\n  }\n}\n\n/**\n * @internal\n */\nfunction _createColorScheme(opts: ThemeColorBuilderOpts, dark: boolean): ThemeColorScheme {\n  return {\n    default: _createColor(opts, dark, 'default'),\n    transparent: _createColor(opts, dark, 'transparent'),\n    primary: _createColor(opts, dark, 'primary'),\n    positive: _createColor(opts, dark, 'positive'),\n    caution: _createColor(opts, dark, 'caution'),\n    critical: _createColor(opts, dark, 'critical'),\n  }\n}\n\n/**\n * @internal\n */\nfunction _createColor(\n  opts: ThemeColorBuilderOpts,\n  dark: boolean,\n  name: ThemeColorName,\n): ThemeColor {\n  const base = opts.base({dark, name})\n  const solid = createSolidTones(opts, base, dark, name)\n  const muted = createMutedTones(opts, base, dark, name)\n\n  return {\n    base,\n    button: createButtonModes(opts, base, dark, solid, muted),\n    card: createCardStates(opts, base, dark, name, solid, muted),\n    dark,\n    input: createInputModes(opts, base, dark, solid, muted),\n    selectable: createSelectableTones(opts, base, dark, solid, muted),\n    spot: createSpot(opts, base, dark),\n    syntax: opts.syntax({base, dark}),\n    solid,\n    muted,\n  }\n}\n", "import {parseColor, rgbToHex, screen as _screen, multiply as _multiply} from '../lib/color-fns'\n\nexport function multiply(bg: string, fg: string): string {\n  const b = parseColor(bg)\n  const s = parseColor(fg)\n  const hex = rgbToHex(_multiply(b, s))\n\n  return hex\n}\n\nexport function screen(bg: string, fg: string): string {\n  const b = parseColor(bg)\n  const s = parseColor(fg)\n  const hex = rgbToHex(_screen(b, s))\n\n  return hex\n}\n", "import {black, ColorTints, hues, white} from '@sanity/color'\nimport {rgba} from '../lib/color-fns'\nimport {createColorTheme} from '../lib/theme'\nimport {multiply, screen} from './helpers'\n\nconst tones: {[key: string]: ColorTints} = {\n  default: hues.gray,\n  transparent: hues.gray,\n  primary: hues.blue,\n  positive: hues.green,\n  caution: hues.yellow,\n  critical: hues.red,\n}\n\nconst NEUTRAL_TONES = ['default', 'transparent']\n\nexport const color = createColorTheme({\n  base: ({dark, name}) => {\n    if (name === 'default') {\n      const tints = hues.gray\n      const skeletonFrom = dark ? tints[900].hex : tints[100].hex\n\n      return {\n        fg: dark ? white.hex : black.hex,\n        bg: dark ? black.hex : white.hex,\n        border: tints[dark ? 800 : 200].hex,\n        focusRing: hues.blue[dark ? 500 : 500].hex,\n        shadow: {\n          outline: rgba(tints[500].hex, 0.4),\n          umbra: dark ? rgba(tints[950].hex, 0.4) : rgba(tints[500].hex, 0.2),\n          penumbra: dark ? rgba(tints[950].hex, 0.28) : rgba(tints[500].hex, 0.14),\n          ambient: dark ? rgba(tints[950].hex, 0.24) : rgba(tints[500].hex, 0.12),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    if (name === 'transparent') {\n      const tints = tones.default\n      const skeletonFrom = tints[dark ? 800 : 200].hex\n\n      return {\n        fg: tints[dark ? 100 : 900].hex,\n        bg: tints[dark ? 950 : 50].hex,\n        border: tints[dark ? 800 : 300].hex,\n        focusRing: hues.blue[500].hex,\n        shadow: {\n          outline: rgba(tints[500].hex, 0.4),\n          umbra: dark ? rgba(tints[900].hex, 0.4) : rgba(tints[500].hex, 0.2),\n          penumbra: dark ? rgba(tints[900].hex, 0.28) : rgba(tints[500].hex, 0.14),\n          ambient: dark ? rgba(tints[900].hex, 0.24) : rgba(tints[500].hex, 0.12),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    const tints = tones[name] || tones.default\n    const skeletonFrom = tints[dark ? 800 : 200].hex\n\n    return {\n      fg: tints[dark ? 100 : 900].hex,\n      bg: tints[dark ? 950 : 50].hex,\n      border: tints[dark ? 800 : 200].hex,\n      focusRing: tints[500].hex,\n      shadow: {\n        outline: rgba(tints[500].hex, 0.4),\n        umbra: dark ? rgba(tints[900].hex, 0.4) : rgba(tints[500].hex, 0.2),\n        penumbra: dark ? rgba(tints[900].hex, 0.28) : rgba(tints[500].hex, 0.14),\n        ambient: dark ? rgba(tints[900].hex, 0.24) : rgba(tints[500].hex, 0.12),\n      },\n      skeleton: {\n        from: skeletonFrom,\n        to: rgba(skeletonFrom, 0.5),\n      },\n    }\n  },\n\n  solid: ({base, dark, name, state, tone}) => {\n    const mix = dark ? screen : multiply\n    const mix2 = dark ? multiply : screen\n    const defaultTints = tones[name] || tones.default\n    const isNeutral = NEUTRAL_TONES.includes(name) && NEUTRAL_TONES.includes(tone)\n\n    let tints = tones[tone === 'default' ? name : tone] || defaultTints\n\n    if (state === 'disabled') {\n      tints = defaultTints\n\n      const bg = mix(base.bg, tints[dark ? 800 : 200].hex)\n      const skeletonFrom = mix2(bg, tints[dark ? 200 : 800].hex)\n\n      return {\n        bg,\n        bg2: mix2(bg, tints[dark ? 50 : 950].hex),\n        border: mix(base.bg, tints[dark ? 800 : 200].hex),\n        fg: mix(base.bg, dark ? black.hex : white.hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        },\n        accent: {\n          fg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        },\n        link: {\n          fg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        },\n        code: {\n          bg,\n          fg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    if (state === 'hovered') {\n      const bg = mix(base.bg, tints[dark ? 300 : 600].hex)\n      const skeletonFrom = mix2(bg, tints[dark ? 200 : 800].hex)\n\n      return {\n        bg,\n        bg2: mix2(bg, tints[dark ? 50 : 950].hex),\n        border: mix(base.bg, tints[dark ? 300 : 600].hex),\n        fg: mix(base.bg, dark ? black.hex : white.hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 800 : 200].hex),\n        },\n        accent: {\n          fg: mix2(bg, hues.red[dark ? 800 : 200].hex),\n        },\n        link: {\n          fg: mix2(bg, hues.blue[dark ? 800 : 200].hex),\n        },\n        code: {\n          bg: mix(bg, tints[dark ? 950 : 50].hex),\n          fg: mix(base.bg, tints[dark ? 800 : 200].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    if (state === 'pressed') {\n      const bg = mix(base.bg, tints[dark ? 200 : 800].hex)\n      const skeletonFrom = mix2(bg, tints[dark ? 200 : 800].hex)\n\n      return {\n        bg: mix(base.bg, tints[dark ? 200 : 800].hex),\n        bg2: mix2(bg, tints[dark ? 50 : 950].hex),\n        border: mix(base.bg, tints[dark ? 200 : 800].hex),\n        fg: mix(base.bg, dark ? black.hex : white.hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 800 : 200].hex),\n        },\n        accent: {\n          fg: mix2(bg, hues.red[dark ? 800 : 200].hex),\n        },\n        link: {\n          fg: mix2(bg, hues.blue[dark ? 800 : 200].hex),\n        },\n        code: {\n          bg: mix(bg, tints[dark ? 950 : 50].hex),\n          fg: mix(base.bg, tints[dark ? 800 : 200].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    if (state === 'selected') {\n      if (isNeutral) {\n        tints = tones.primary\n      }\n\n      const bg = mix(base.bg, tints[dark ? 200 : 800].hex)\n      const skeletonFrom = mix2(bg, tints[dark ? 200 : 800].hex)\n\n      return {\n        bg,\n        bg2: mix2(bg, tints[dark ? 50 : 950].hex),\n        border: mix(base.bg, tints[dark ? 200 : 800].hex),\n        fg: mix(base.bg, dark ? black.hex : white.hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 800 : 200].hex),\n        },\n        accent: {\n          fg: mix2(bg, hues.red[dark ? 800 : 200].hex),\n        },\n        link: {\n          fg: mix2(bg, hues.blue[dark ? 800 : 200].hex),\n        },\n        code: {\n          bg: mix(bg, tints[dark ? 950 : 50].hex),\n          fg: mix(base.bg, tints[dark ? 800 : 200].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    // state: \"enabled\" | unknown\n    const bg = mix(base.bg, tints[dark ? 400 : 500].hex)\n    const skeletonFrom = mix2(bg, tints[dark ? 200 : 800].hex)\n\n    return {\n      bg,\n      bg2: mix2(bg, tints[dark ? 50 : 950].hex),\n      border: mix(base.bg, tints[dark ? 400 : 500].hex),\n      fg: mix(base.bg, dark ? black.hex : white.hex),\n      muted: {\n        fg: mix(base.bg, tints[dark ? 900 : 100].hex),\n      },\n      accent: {\n        fg: mix2(bg, hues.red[dark ? 900 : 100].hex),\n      },\n      link: {\n        fg: mix2(bg, hues.blue[dark ? 900 : 100].hex),\n      },\n      code: {\n        bg: mix(bg, tints[dark ? 950 : 50].hex),\n        fg: mix(base.bg, tints[dark ? 900 : 100].hex),\n      },\n      skeleton: {\n        from: skeletonFrom,\n        to: rgba(skeletonFrom, 0.5),\n      },\n    }\n  },\n\n  muted: ({base, dark, name, state, tone}) => {\n    const mix = dark ? screen : multiply\n    const defaultTints = tones[name] || tones.default\n    const isNeutral = NEUTRAL_TONES.includes(name) && NEUTRAL_TONES.includes(tone)\n\n    let tints = tones[tone === 'default' ? name : tone] || defaultTints\n\n    if (state === 'disabled') {\n      tints = defaultTints\n\n      const bg = base.bg\n      const skeletonFrom = mix(bg, tints[dark ? 900 : 100].hex)\n\n      return {\n        bg,\n        bg2: mix(bg, tints[dark ? 950 : 50].hex),\n        border: mix(bg, tints[dark ? 950 : 50].hex),\n        fg: mix(bg, tints[dark ? 800 : 200].hex),\n        muted: {\n          fg: mix(bg, tints[dark ? 900 : 100].hex),\n        },\n        accent: {\n          fg: mix(bg, tints[dark ? 900 : 100].hex),\n        },\n        link: {\n          fg: mix(bg, tints[dark ? 900 : 100].hex),\n        },\n        code: {\n          bg,\n          fg: mix(bg, tints[dark ? 900 : 100].hex),\n        },\n        skeleton: {\n          from: rgba(skeletonFrom, 0.5),\n          to: rgba(skeletonFrom, 0.25),\n        },\n      }\n    }\n\n    if (state === 'hovered') {\n      // if (isNeutral) {\n      //   tints = tones.primary\n      // }\n\n      const bg = mix(base.bg, tints[dark ? 950 : 50].hex)\n      const skeletonFrom = mix(bg, tints[dark ? 900 : 100].hex)\n\n      return {\n        bg,\n        bg2: mix(bg, tints[dark ? 950 : 50].hex),\n        border: mix(bg, tints[dark ? 900 : 100].hex),\n        fg: mix(base.bg, tints[dark ? 200 : 800].hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        },\n        accent: {\n          fg: mix(base.bg, hues.red[dark ? 400 : 500].hex),\n        },\n        link: {\n          fg: mix(base.bg, hues.blue[dark ? 400 : 600].hex),\n        },\n        code: {\n          bg: mix(bg, tints[dark ? 950 : 50].hex),\n          fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    if (state === 'pressed') {\n      if (isNeutral) {\n        tints = tones.primary\n      }\n\n      const bg = mix(base.bg, tints[dark ? 900 : 100].hex)\n      const skeletonFrom = mix(bg, tints[dark ? 900 : 100].hex)\n\n      return {\n        bg,\n        bg2: mix(bg, tints[dark ? 950 : 50].hex),\n        border: mix(bg, tints[dark ? 900 : 100].hex),\n        fg: mix(base.bg, tints[dark ? 200 : 800].hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        },\n        accent: {\n          fg: mix(bg, hues.red[dark ? 400 : 500].hex),\n        },\n        link: {\n          fg: mix(bg, hues.blue[dark ? 400 : 600].hex),\n        },\n        code: {\n          bg: mix(bg, tints[dark ? 950 : 50].hex),\n          fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    if (state === 'selected') {\n      if (isNeutral) {\n        tints = tones.primary\n      }\n\n      const bg = mix(base.bg, tints[dark ? 900 : 100].hex)\n      const skeletonFrom = mix(bg, tints[dark ? 900 : 100].hex)\n\n      return {\n        bg,\n        bg2: mix(bg, tints[dark ? 950 : 50].hex),\n        border: mix(bg, tints[dark ? 900 : 100].hex),\n        fg: mix(base.bg, tints[dark ? 200 : 800].hex),\n        muted: {\n          fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        },\n        accent: {\n          fg: mix(bg, hues.red[dark ? 400 : 500].hex),\n        },\n        link: {\n          fg: mix(bg, hues.blue[dark ? 400 : 600].hex),\n        },\n        code: {\n          bg: mix(bg, tints[dark ? 950 : 50].hex),\n          fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        },\n        skeleton: {\n          from: skeletonFrom,\n          to: rgba(skeletonFrom, 0.5),\n        },\n      }\n    }\n\n    const bg = base.bg\n    const skeletonFrom = mix(bg, tints[dark ? 900 : 100].hex)\n\n    return {\n      bg,\n      bg2: mix(bg, tints[dark ? 950 : 50].hex),\n      border: mix(bg, tints[dark ? 900 : 100].hex),\n      fg: mix(base.bg, tints[dark ? 300 : 700].hex),\n      muted: {\n        fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n      },\n      accent: {\n        fg: mix(base.bg, hues.red[dark ? 400 : 500].hex),\n      },\n      link: {\n        fg: mix(base.bg, hues.blue[dark ? 400 : 600].hex),\n      },\n      code: {\n        bg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n      },\n      skeleton: {\n        from: skeletonFrom,\n        to: rgba(skeletonFrom, 0.5),\n      },\n    }\n  },\n\n  button: ({base, mode, muted, solid}) => {\n    if (mode === 'bleed') {\n      return {\n        enabled: {\n          ...muted.enabled,\n          border: muted.enabled.bg,\n        },\n        hovered: {\n          ...muted.hovered,\n          border: muted.hovered.bg,\n        },\n        pressed: {\n          ...muted.pressed,\n          border: muted.pressed.bg,\n        },\n        selected: {\n          ...muted.selected,\n          border: muted.selected.bg,\n        },\n        disabled: {\n          ...muted.disabled,\n          border: muted.disabled.bg,\n        },\n      }\n    }\n\n    if (mode === 'ghost') {\n      return {\n        ...solid,\n        enabled: {\n          ...muted.enabled,\n          border: base.border,\n        },\n        disabled: muted.disabled,\n      }\n    }\n\n    return solid\n  },\n\n  card: ({base, dark, muted, name, solid, state}) => {\n    if (state === 'hovered') {\n      return muted[name].hovered\n    }\n\n    if (state === 'disabled') {\n      return muted[name].disabled\n    }\n\n    const isNeutral = NEUTRAL_TONES.includes(name)\n    const tints = tones[name] || tones.default\n    const mix = dark ? screen : multiply\n\n    if (state === 'pressed') {\n      if (isNeutral) {\n        return muted.primary.pressed\n      }\n\n      return muted[name].pressed\n    }\n\n    if (state === 'selected') {\n      if (isNeutral) {\n        return solid.primary.enabled\n      }\n\n      return solid[name].enabled\n    }\n\n    const bg = base.bg\n    const skeletonFrom = mix(base.bg, tints[dark ? 900 : 100].hex)\n\n    return {\n      bg,\n      bg2: mix(bg, tints[dark ? 950 : 50].hex),\n      fg: base.fg,\n      border: base.border,\n      muted: {\n        fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n      },\n      accent: {\n        fg: mix(base.bg, hues.red[dark ? 400 : 500].hex),\n      },\n      link: {\n        fg: mix(base.bg, hues.blue[dark ? 400 : 600].hex),\n      },\n      code: {\n        bg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        fg: tints[dark ? 400 : 600].hex,\n      },\n      skeleton: {\n        from: skeletonFrom,\n        to: rgba(skeletonFrom, 0.5),\n      },\n    }\n  },\n\n  input: ({base, dark, mode, state}) => {\n    const mix = dark ? screen : multiply\n\n    if (mode === 'invalid') {\n      const tints = tones.critical\n\n      return {\n        bg: mix(base.bg, tints[dark ? 950 : 50].hex),\n        fg: mix(base.bg, tints[dark ? 400 : 600].hex),\n        border: mix(base.bg, tints[dark ? 800 : 200].hex),\n        placeholder: mix(base.bg, tints[dark ? 600 : 400].hex),\n      }\n    }\n\n    if (state === 'hovered') {\n      return {\n        bg: base.bg,\n        fg: base.fg,\n        border: mix(base.bg, hues.gray[dark ? 700 : 300].hex),\n        placeholder: mix(base.bg, hues.gray[dark ? 600 : 400].hex),\n      }\n    }\n\n    if (state === 'disabled') {\n      return {\n        bg: mix(base.bg, hues.gray[dark ? 950 : 50].hex),\n        fg: mix(base.bg, hues.gray[dark ? 700 : 300].hex),\n        border: mix(base.bg, hues.gray[dark ? 900 : 100].hex),\n        placeholder: mix(base.bg, hues.gray[dark ? 800 : 200].hex),\n      }\n    }\n\n    if (state === 'readOnly') {\n      return {\n        bg: mix(base.bg, hues.gray[dark ? 950 : 50].hex),\n        fg: mix(base.bg, hues.gray[dark ? 200 : 800].hex),\n        border: mix(base.bg, hues.gray[dark ? 800 : 200].hex),\n        placeholder: mix(base.bg, hues.gray[dark ? 600 : 400].hex),\n      }\n    }\n\n    return {\n      bg: base.bg,\n      fg: base.fg,\n      border: base.border,\n      placeholder: mix(base.bg, hues.gray[dark ? 600 : 400].hex),\n    }\n  },\n\n  selectable: ({base, muted, tone, solid, state}) => {\n    if (state === 'enabled') {\n      return {\n        ...muted[tone].enabled,\n        bg: base.bg,\n      }\n    }\n\n    if (state === 'pressed') {\n      if (tone === 'default') {\n        return muted.primary.pressed\n      }\n\n      return muted[tone].pressed\n    }\n\n    if (state === 'selected') {\n      if (tone === 'default') {\n        return solid.primary.enabled\n      }\n\n      return solid[tone].enabled\n    }\n\n    if (state === 'disabled') {\n      return {\n        ...muted[tone].disabled,\n        bg: base.bg,\n      }\n    }\n\n    return muted[tone][state]\n  },\n\n  spot: ({base, dark, key}) => {\n    const mix = dark ? screen : multiply\n\n    return mix(base.bg, hues[key][dark ? 400 : 500].hex)\n  },\n\n  syntax: ({base, dark}) => {\n    const mix = dark ? screen : multiply\n    const mainShade = dark ? 400 : 600\n    const secondaryShade = dark ? 600 : 400\n\n    return {\n      atrule: mix(base.bg, hues.purple[mainShade].hex),\n      attrName: mix(base.bg, hues.green[mainShade].hex),\n      attrValue: mix(base.bg, hues.yellow[mainShade].hex),\n      attribute: mix(base.bg, hues.yellow[mainShade].hex),\n      boolean: mix(base.bg, hues.purple[mainShade].hex),\n      builtin: mix(base.bg, hues.purple[mainShade].hex),\n      cdata: mix(base.bg, hues.yellow[mainShade].hex),\n      char: mix(base.bg, hues.yellow[mainShade].hex),\n      class: mix(base.bg, hues.orange[mainShade].hex),\n      className: mix(base.bg, hues.cyan[mainShade].hex),\n      comment: mix(base.bg, hues.gray[secondaryShade].hex),\n      constant: mix(base.bg, hues.purple[mainShade].hex),\n      deleted: mix(base.bg, hues.red[mainShade].hex),\n      doctype: mix(base.bg, hues.gray[secondaryShade].hex),\n      entity: mix(base.bg, hues.red[mainShade].hex),\n      function: mix(base.bg, hues.green[mainShade].hex),\n      hexcode: mix(base.bg, hues.blue[mainShade].hex),\n      id: mix(base.bg, hues.purple[mainShade].hex),\n      important: mix(base.bg, hues.purple[mainShade].hex),\n      inserted: mix(base.bg, hues.yellow[mainShade].hex),\n      keyword: mix(base.bg, hues.magenta[mainShade].hex),\n      number: mix(base.bg, hues.purple[mainShade].hex),\n      operator: mix(base.bg, hues.magenta[mainShade].hex),\n      prolog: mix(base.bg, hues.gray[secondaryShade].hex),\n      property: mix(base.bg, hues.blue[mainShade].hex),\n      pseudoClass: mix(base.bg, hues.yellow[mainShade].hex),\n      pseudoElement: mix(base.bg, hues.yellow[mainShade].hex),\n      punctuation: mix(base.bg, hues.gray[mainShade].hex),\n      regex: mix(base.bg, hues.blue[mainShade].hex),\n      selector: mix(base.bg, hues.red[mainShade].hex),\n      string: mix(base.bg, hues.yellow[mainShade].hex),\n      symbol: mix(base.bg, hues.purple[mainShade].hex),\n      tag: mix(base.bg, hues.red[mainShade].hex),\n      unit: mix(base.bg, hues.orange[mainShade].hex),\n      url: mix(base.bg, hues.red[mainShade].hex),\n      variable: mix(base.bg, hues.red[mainShade].hex),\n    }\n  },\n})\n", "import {ThemeFonts} from '../lib/theme'\n\nexport const fonts: ThemeFonts = {\n  code: {\n    family: 'ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace',\n    weights: {\n      regular: 400,\n      medium: 500,\n      semibold: 600,\n      bold: 700,\n    },\n    sizes: [\n      {\n        ascenderHeight: 3,\n        descenderHeight: 3,\n        fontSize: 10,\n        iconSize: 17,\n        lineHeight: 13,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 4,\n        descenderHeight: 4,\n        fontSize: 13,\n        iconSize: 21,\n        lineHeight: 17,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 5,\n        descenderHeight: 5,\n        fontSize: 16,\n        iconSize: 25,\n        lineHeight: 21,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 6,\n        descenderHeight: 6,\n        fontSize: 19,\n        iconSize: 29,\n        lineHeight: 25,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 7,\n        descenderHeight: 7,\n        fontSize: 22,\n        iconSize: 33,\n        lineHeight: 29,\n        letterSpacing: 0,\n      },\n    ],\n  },\n  heading: {\n    family:\n      '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", \"Liberation Sans\", Helvetica, Arial, system-ui, sans-serif',\n    weights: {\n      regular: 700,\n      medium: 800,\n      semibold: 900,\n      bold: 900,\n    },\n    sizes: [\n      {\n        ascenderHeight: 4,\n        descenderHeight: 4,\n        fontSize: 12,\n        iconSize: 17,\n        lineHeight: 17,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 5,\n        descenderHeight: 5,\n        fontSize: 16,\n        iconSize: 25,\n        lineHeight: 21,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 6,\n        descenderHeight: 6,\n        fontSize: 21,\n        iconSize: 33,\n        lineHeight: 27,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 7,\n        descenderHeight: 7,\n        fontSize: 27,\n        iconSize: 41,\n        lineHeight: 33,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 8,\n        descenderHeight: 8,\n        fontSize: 33,\n        iconSize: 49,\n        lineHeight: 39,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 9,\n        descenderHeight: 9,\n        fontSize: 38,\n        iconSize: 53,\n        lineHeight: 45,\n        letterSpacing: 0,\n      },\n    ],\n  },\n  label: {\n    family:\n      '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", \"Liberation Sans\", system-ui, sans-serif',\n    weights: {\n      regular: 600,\n      medium: 700,\n      semibold: 800,\n      bold: 900,\n    },\n    sizes: [\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 9.8,\n        iconSize: 15,\n        lineHeight: 11,\n        letterSpacing: 0.5,\n      },\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 11.25,\n        iconSize: 17,\n        lineHeight: 12,\n        letterSpacing: 0.5,\n      },\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 12.75,\n        iconSize: 19,\n        lineHeight: 13,\n        letterSpacing: 0.5,\n      },\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 14,\n        iconSize: 21,\n        lineHeight: 14,\n        letterSpacing: 0.5,\n      },\n      {\n        ascenderHeight: 2,\n        descenderHeight: 2,\n        fontSize: 15.5,\n        iconSize: 23,\n        lineHeight: 15,\n        letterSpacing: 0.5,\n      },\n    ],\n  },\n  text: {\n    family:\n      '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", \"Liberation Sans\", Helvetica, Arial, system-ui, sans-serif',\n    weights: {\n      regular: 400,\n      medium: 500,\n      semibold: 600,\n      bold: 700,\n    },\n    sizes: [\n      {\n        ascenderHeight: 3,\n        descenderHeight: 3,\n        fontSize: 10,\n        iconSize: 17,\n        lineHeight: 13,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 4,\n        descenderHeight: 4,\n        fontSize: 13,\n        iconSize: 21,\n        lineHeight: 17,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 5,\n        descenderHeight: 5,\n        fontSize: 16,\n        iconSize: 25,\n        lineHeight: 21,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 6,\n        descenderHeight: 6,\n        fontSize: 19,\n        iconSize: 29,\n        lineHeight: 25,\n        letterSpacing: 0,\n      },\n      {\n        ascenderHeight: 7,\n        descenderHeight: 7,\n        fontSize: 22,\n        iconSize: 33,\n        lineHeight: 29,\n        letterSpacing: 0,\n      },\n    ],\n  },\n}\n", "import {RootTheme} from '../types'\nimport {color} from './color'\nimport {fonts} from './fonts'\n\n/**\n * @public\n */\nexport const studioTheme: RootTheme = {\n  avatar: {\n    sizes: [\n      {distance: -3, size: 25},\n      {distance: -6, size: 35},\n      {distance: -9, size: 55},\n    ],\n  },\n  button: {\n    textWeight: 'medium',\n  },\n  color,\n  container: [320, 640, 960, 1280, 1600, 1920],\n  focusRing: {\n    offset: 1,\n    width: 2,\n  },\n  fonts,\n  media: [360, 600, 900, 1200, 1800, 2400],\n  radius: [0, 1, 3, 6, 9, 12, 21],\n  shadows: [\n    null,\n    {umbra: [0, 0, 0, 0], penumbra: [0, 0, 0, 0], ambient: [0, 0, 0, 0]},\n    {umbra: [0, 3, 5, -1], penumbra: [0, 6, 10, 0], ambient: [0, 1, 18, 0]},\n    {umbra: [0, 7, 8, -4], penumbra: [0, 12, 17, 2], ambient: [0, 5, 22, 4]},\n    {umbra: [0, 9, 11, -5], penumbra: [0, 18, 28, 2], ambient: [0, 7, 34, 6]},\n    {umbra: [0, 11, 15, -7], penumbra: [0, 24, 38, 3], ambient: [0, 9, 46, 8]},\n  ],\n  space: [0, 4, 8, 12, 20, 32, 52, 84, 136, 220],\n  input: {\n    checkbox: {\n      size: 17,\n    },\n    radio: {\n      size: 17,\n      markSize: 9,\n    },\n    switch: {\n      width: 33,\n      height: 17,\n      padding: 4,\n      transitionDurationMs: 150,\n      transitionTimingFunction: 'ease-out',\n    },\n    border: {\n      width: 1,\n    },\n  },\n  // styles: {\n  //   button: {\n  //     root: {\n  //       transition: 'background-color 100ms,border-color 100ms,color 100ms',\n  //     },\n  //   },\n  //   card: {\n  //     root: {\n  //       transition: 'background-color 100ms,border-color 100ms,color 100ms',\n  //     },\n  //   },\n  // },\n}\n", "import {ThemeLayer} from './lib/theme/layer'\n\nexport const DEFAULT_THEME_LAYER: ThemeLayer = {\n  dialog: {zOffset: 600},\n  popover: {zOffset: 400},\n  tooltip: {zOffset: 200},\n}\n", "/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * Gets the global scope instance in a given environment.\n *\n * The strategy is to return the most modern, and if not, the most common:\n * - The `globalThis` variable is the modern approach to accessing the global scope\n * - The `window` variable is the global scope in a web browser\n * - The `self` variable is the global scope in workers and others\n * - The `global` variable is the global scope in Node.js\n */\nfunction getGlobalScope() {\n  if (typeof globalThis !== 'undefined') return globalThis\n  if (typeof window !== 'undefined') return window\n  if (typeof self !== 'undefined') return self\n  if (typeof global !== 'undefined') return global\n\n  throw new Error('@sanity/ui: could not locate global scope')\n}\n\nexport const globalScope = getGlobalScope() as any\n", "import {createContext} from 'react'\nimport {globalScope} from '../lib/globalScope'\nimport {ThemeContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/theme')\n\nglobalScope[key] = globalScope[key] || createContext<ThemeContextValue | null>(null)\n\n/**\n * @internal\n */\nexport const ThemeContext: React.Context<ThemeContextValue | null> = globalScope[key]\n", "import {useContext, useMemo} from 'react'\nimport {ThemeProvider as StyledThemeProvider} from 'styled-components'\nimport {DEFAULT_THEME_LAYER} from './defaults'\nimport {ThemeColorSchemeKey, ThemeColorName} from './lib/theme'\nimport {ThemeContext} from './themeContext'\nimport {RootTheme, Theme, ThemeContextValue} from './types'\n\n/**\n * @public\n */\nexport interface ThemeProviderProps {\n  children?: React.ReactNode\n  scheme?: ThemeColorSchemeKey\n  theme?: RootTheme\n  tone?: ThemeColorName\n}\n\n/**\n * @public\n */\nexport function ThemeProvider(props: ThemeProviderProps): React.ReactElement {\n  const parentTheme = useContext(ThemeContext)\n  const {\n    children,\n    scheme = parentTheme?.scheme || 'light',\n    theme: themeProp = parentTheme?.theme || null,\n    tone = parentTheme?.tone || 'default',\n  } = props\n\n  const theme: Theme | null = useMemo(() => {\n    if (!themeProp) return null\n\n    const {color: rootColor, layer: rootLayer, ...restTheme} = themeProp\n    const colorScheme = rootColor[scheme] || rootColor.light\n    const color = colorScheme[tone] || colorScheme.default\n    const layer = rootLayer || DEFAULT_THEME_LAYER\n\n    return {sanity: {...restTheme, color, layer}}\n  }, [scheme, themeProp, tone])\n\n  const value: ThemeContextValue | null = useMemo(\n    () =>\n      themeProp && {\n        version: 0.0,\n        theme: themeProp,\n        scheme,\n        tone,\n      },\n    [themeProp, scheme, tone],\n  )\n\n  if (!theme) {\n    return <pre>ThemeProvider: no \"theme\" property provided</pre>\n  }\n\n  return (\n    <ThemeContext.Provider value={value}>\n      <StyledThemeProvider theme={theme}>{children}</StyledThemeProvider>\n    </ThemeContext.Provider>\n  )\n}\n", "export function isRecord(value: unknown): value is Record<string, unknown> {\n  return Boolean(value && typeof value === 'object')\n}\n", "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport {useContext} from 'react'\nimport {isRecord} from '../lib/isRecord'\nimport {ThemeContext} from './themeContext'\nimport {ThemeContextValue} from './types'\n\n/**\n * @public\n */\nexport function useRootTheme(): ThemeContextValue {\n  const value: unknown = useContext(ThemeContext)\n\n  if (!value) {\n    throw new Error('useRootTheme(): missing context value')\n  }\n\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (!isRecord(value) || value.version !== 0.0) {\n    throw new Error('useRootTheme(): the context value is not compatible')\n  }\n\n  return value as any as ThemeContextValue\n}\n", "import {ThemeColorName, ThemeColorSchemeKey} from './lib/theme'\nimport {ThemeProvider} from './themeProvider'\nimport {useRootTheme} from './useRootTheme'\n\n/**\n * @public\n */\nexport interface ThemeColorProviderProps {\n  children?: React.ReactNode\n  scheme?: ThemeColorSchemeKey\n  tone?: ThemeColorName\n}\n\n/**\n * @public\n */\nexport function ThemeColorProvider(props: ThemeColorProviderProps): React.ReactElement {\n  const {children, scheme, tone} = props\n  const root = useRootTheme()\n\n  return (\n    <ThemeProvider scheme={scheme || root.scheme} theme={root.theme} tone={tone}>\n      {children}\n    </ThemeProvider>\n  )\n}\n", "import {useTheme as useStyledTheme} from 'styled-components'\n\nimport {Theme} from './types'\n\n/**\n * @public\n */\nexport function useTheme(): Theme {\n  return useStyledTheme() as Theme\n}\n", "import {useSyncExternalStore} from 'react'\nimport {useTheme} from '../../theme'\n\n/**\n * @internal\n */\nexport interface _MediaStore {\n  subscribe: (onStoreChange: () => void) => () => void\n  getSnapshot: () => number\n}\n\nconst MEDIA_STORE_CACHE = new WeakMap<number[], _MediaStore>()\n\ntype MediaQueryMinWidth = `(min-width: ${number}px)`\ntype MediaQueryMaxWidth = `(max-width: ${number}px)`\ntype MediaQueryMinMaxWidth = `${MediaQueryMinWidth} and ${MediaQueryMaxWidth}`\ntype MediaQuery = `screen and ${MediaQueryMinWidth | MediaQueryMaxWidth | MediaQueryMinMaxWidth}`\n\nfunction _getMediaQuery(media: number[], index: number): MediaQuery {\n  if (index === 0) {\n    return `screen and (max-width: ${media[index] - 1}px)`\n  }\n\n  if (index === media.length) {\n    return `screen and (min-width: ${media[index - 1]}px)`\n  }\n\n  return `screen and (min-width: ${media[index - 1]}px) and (max-width: ${media[index] - 1}px)`\n}\n\nfunction _createMediaStore(media: number[]): _MediaStore {\n  const mediaLen = media.length\n  let sizes: {mq: MediaQueryList; index: number}[]\n\n  // The _createMediaStore function is called in both server and client environments.\n  // However since subscribe and getSnapshot are only called on the client we lazy init what we need for them\n  // so that we don't need to run checks for wether it's safe to call `window.matchMedia`\n  const getSizes = () => {\n    if (!sizes) {\n      sizes = []\n\n      for (let index = mediaLen; index > -1; index -= 1) {\n        const mediaQuery = _getMediaQuery(media, index)\n\n        sizes.push({index, mq: window.matchMedia(mediaQuery)})\n      }\n    }\n\n    return sizes\n  }\n\n  const getSnapshot = () => {\n    for (const {index, mq} of getSizes()) {\n      if (mq.matches) return index\n    }\n\n    return 0\n  }\n\n  const subscribe = (onStoreChange: () => void) => {\n    const disposeFns: (() => void)[] = []\n\n    for (const {mq} of getSizes()) {\n      const handleChange = () => {\n        if (mq.matches) onStoreChange()\n      }\n\n      mq.addEventListener('change', handleChange)\n\n      disposeFns.push(() => mq.removeEventListener('change', handleChange))\n    }\n\n    return () => {\n      for (const disposeFn of disposeFns) {\n        disposeFn()\n      }\n    }\n  }\n\n  return {getSnapshot, subscribe}\n}\n\n/**\n * Only called during server-side rendering, and hydration if using hydrateRoot\n * Since the server environment doesn't have access to the DOM, we can't determine the current value of the media query\n * and we assume `(prefers-color-scheme: light)` since it's the most common scheme\n *\n * @link https://beta.reactjs.org/apis/react/useSyncExternalStore#adding-support-for-server-rendering\n */\nfunction getServerSnapshot() {\n  return 0\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport function useMediaIndex(): number {\n  const theme = useTheme()\n  const {media} = theme.sanity\n\n  let store = MEDIA_STORE_CACHE.get(media)\n\n  if (!store) {\n    store = _createMediaStore(media)\n    MEDIA_STORE_CACHE.set(media, store)\n  }\n\n  return useSyncExternalStore(store.subscribe, store.getSnapshot, getServerSnapshot)\n}\n", "import {useSyncExternalStore} from 'react'\n\nlet MEDIA_QUERY_CACHE: MediaQueryList | undefined\n\n/**\n * Lazy init the matchMedia instance\n */\nfunction getMatchMedia(): MediaQueryList {\n  if (!MEDIA_QUERY_CACHE) {\n    // As this function is only called during `subscribe` and `getSnapshot`, we can assume that the\n    // the `window` global is available and we're in a browser environment\n    MEDIA_QUERY_CACHE = window.matchMedia('(prefers-color-scheme: dark)')\n  }\n\n  return MEDIA_QUERY_CACHE\n}\n\n/**\n * As the query is the same for all instances of this hook, we can cache the matchMedia instance\n * and have cheap `change` event listeners, while getSnapshot always reads from the same\n * matchMedia instance and we don't get any tearing.\n * Tearing in this context means the bad edge case in React concurrent render mdoe\n * where you sometimes would end up with some components doing render while seeing `usePrefersDark() === true` while others would see `usePrefersDark() === false`\n * during the same render.\n * By using `useSyncExternalStore` every component only sees the same value during the same render, and always re-render when it changes no matter\n * what React.memo boundaries there might be between the layers..\n */\nfunction subscribe(onStoreChange: () => void): () => void {\n  const matchMedia = getMatchMedia()\n\n  matchMedia.addEventListener('change', onStoreChange)\n\n  return () => matchMedia.removeEventListener('change', onStoreChange)\n}\n\n/**\n * Only called client-side, when using createRoot, or after hydration is complete when using hydrateRoot.\n * It's important that this function does not create new objects or arrays when called:\n * https://beta.reactjs.org/apis/react/useSyncExternalStore#im-getting-an-error-the-result-of-getsnapshot-should-be-cached\n */\nfunction getSnapshot() {\n  return getMatchMedia().matches\n}\n\n/**\n * Only called during server-side rendering, and hydration if using hydrateRoot\n * Since the server environment doesn't have access to the DOM, we can't determine the current value of the media query\n * and we assume `(prefers-color-scheme: light)` since it's the most common scheme\n *\n * @link https://beta.reactjs.org/apis/react/useSyncExternalStore#adding-support-for-server-rendering\n */\nfunction getServerSnapshot() {\n  return false\n}\n\n/**\n * @public\n */\nexport function usePrefersDark(): boolean {\n  return useSyncExternalStore(subscribe, getSnapshot, getServerSnapshot)\n}\n", "import {useSyncExternalStore} from 'react'\n\nlet MEDIA_QUERY_CACHE: MediaQueryList | undefined\n\n/**\n * Lazy init the matchMedia instance\n */\nfunction getMatchMedia(): MediaQueryList {\n  if (!MEDIA_QUERY_CACHE) {\n    // As this function is only called during `subscribe` and `getSnapshot`, we can assume that the\n    // the `window` global is available and we're in a browser environment\n    MEDIA_QUERY_CACHE = window.matchMedia('(prefers-reduced-motion: reduce)')\n  }\n\n  return MEDIA_QUERY_CACHE\n}\n\n/**\n * As the query is the same for all instances of this hook, we can cache the matchMedia instance\n * and have cheap `change` event listeners, while getSnapshot always reads from the same\n * matchMedia instance and we don't get any tearing.\n * Tearing in this context means the bad edge case in React concurrent render mdoe\n * where you sometimes would end up with some components doing render while seeing `usePrefersDark() === true` while others would see `usePrefersDark() === false`\n * during the same render.\n * By using `useSyncExternalStore` every component only sees the same value during the same render, and always re-render when it changes no matter\n * what React.memo boundaries there might be between the layers..\n */\nfunction subscribe(onStoreChange: () => void): () => void {\n  const matchMedia = getMatchMedia()\n\n  matchMedia.addEventListener('change', onStoreChange)\n\n  return () => matchMedia.removeEventListener('change', onStoreChange)\n}\n\n/**\n * Only called client-side, when using createRoot, or after hydration is complete when using hydrateRoot.\n * It's important that this function does not create new objects or arrays when called:\n * https://beta.reactjs.org/apis/react/useSyncExternalStore#im-getting-an-error-the-result-of-getsnapshot-should-be-cached\n */\nfunction getSnapshot() {\n  return getMatchMedia().matches\n}\n\n/**\n * Only called during server-side rendering, and hydration if using hydrateRoot\n * Since the server environment doesn't have access to the DOM, we can't determine the current value of the media query\n * and we assume `(prefers-reduced-motion: no-preference)` since it's the most common scheme\n *\n * @link https://beta.reactjs.org/apis/react/useSyncExternalStore#adding-support-for-server-rendering\n */\nfunction getServerSnapshot() {\n  return false\n}\n\n/**\n * Returns true if motion should be reduced\n * @public\n */\nexport function usePrefersReducedMotion(): boolean {\n  return useSyncExternalStore(subscribe, getSnapshot, getServerSnapshot)\n}\n", "import {useEffect, useLayoutEffect} from 'react'\n\n/**\n * @beta\n */\nexport const useIsomorphicEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect\n", "import {useRef} from 'react'\nimport {useIsomorphicEffect} from './useIsomorphicEffect'\n\n/**\n * @beta\n */\nexport function useForwardedRef<T>(ref: React.ForwardedRef<T>): React.MutableRefObject<T | null> {\n  const innerRef = useRef<T | null>(null)\n\n  useIsomorphicEffect(() => {\n    if (!ref) return\n\n    if (typeof ref === 'function') {\n      ref(innerRef.current)\n    } else {\n      ref.current = innerRef.current\n    }\n  })\n\n  return innerRef\n}\n", "import {useEffect} from 'react'\n\n/**\n * @beta\n */\nexport function useCustomValidity(\n  ref: {current: null | {setCustomValidity: (validity: string) => void}},\n  customValidity: string | undefined,\n): void {\n  useEffect(() => {\n    if (ref.current) {\n      ref.current.setCustomValidity(customValidity || '')\n    }\n  }, [customValidity, ref])\n}\n", "import {CSSObject} from '../../types/styled'\nimport {_responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveBorderStyleProps} from './types'\n\nconst BORDER_VALUE = '1px solid var(--card-border-color)'\n\nexport function responsiveBorderStyle(): Array<\n  (props: ResponsiveBorderStyleProps & ThemeProps) => CSSObject[]\n> {\n  return [border, borderTop, borderRight, borderBottom, borderLeft]\n}\n\nfunction border(props: ResponsiveBorderStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$border, (value) =>\n    value ? {'&&': {border: BORDER_VALUE}} : {'&&': {border: 0}},\n  )\n}\n\nfunction borderTop(props: ResponsiveBorderStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$borderTop, (value) =>\n    value ? {'&&': {borderTop: BORDER_VALUE}} : {'&&': {borderTop: 0}},\n  )\n}\n\nfunction borderRight(props: ResponsiveBorderStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$borderRight, (value) =>\n    value ? {'&&': {borderRight: BORDER_VALUE}} : {'&&': {borderRight: 0}},\n  )\n}\n\nfunction borderBottom(props: ResponsiveBorderStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$borderBottom, (value) =>\n    value ? {'&&': {borderBottom: BORDER_VALUE}} : {'&&': {borderBottom: 0}},\n  )\n}\n\nfunction borderLeft(props: ResponsiveBorderStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$borderLeft, (value) =>\n    value ? {'&&': {borderLeft: BORDER_VALUE}} : {'&&': {borderLeft: 0}},\n  )\n}\n", "import {Property} from 'csstype'\nimport {CSSObject} from '../../types/styled'\nimport {_responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveBoxStyleProps} from './types'\n\nconst BASE_STYLE: CSSObject = {\n  '&[data-as=\"ul\"],&[data-as=\"ol\"]': {\n    listStyle: 'none',\n  },\n}\n\nconst BOX_SIZING: {[key: string]: Property.BoxSizing} = {\n  content: 'content-box',\n  border: 'border-box',\n}\n\nconst BOX_HEIGHT = {\n  stretch: 'stretch',\n  fill: '100%',\n}\n\nexport function boxStyle(): CSSObject {\n  return BASE_STYLE\n}\n\nexport function responsiveBoxStyle(): Array<\n  (props: ResponsiveBoxStyleProps & ThemeProps) => CSSObject[]\n> {\n  return [\n    responsiveBoxSizingStyle,\n    responsiveBoxHeightStyle,\n    responsiveBoxOverflowStyle,\n    responsiveBoxDisplayStyle,\n  ]\n}\n\nfunction responsiveBoxDisplayStyle(props: ResponsiveBoxStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$display, (display) => ({\n    '&:not([hidden])': {display},\n  }))\n}\n\nfunction responsiveBoxSizingStyle(props: ResponsiveBoxStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$sizing, (sizing) => ({\n    boxSizing: BOX_SIZING[sizing],\n  }))\n}\n\nfunction responsiveBoxHeightStyle(props: ResponsiveBoxStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$height, (height) => ({\n    height: BOX_HEIGHT[height],\n  }))\n}\n\nfunction responsiveBoxOverflowStyle(props: ResponsiveBoxStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$overflow, (overflow) => ({\n    overflow,\n  }))\n}\n", "import {CSSObject} from '../../types/styled'\nimport {rem, _responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveFlexStyleProps} from './types'\n\nconst BASE_STYLE: CSSObject = {\n  '&&:not([hidden])': {\n    display: 'flex',\n  },\n}\n\nexport function responsiveFlexStyle(): Array<\n  CSSObject | ((props: ResponsiveFlexStyleProps & ThemeProps) => CSSObject[])\n> {\n  return [\n    BASE_STYLE,\n    responsiveFlexAlignStyle,\n    responsiveFlexGapStyle,\n    responsiveFlexWrapStyle,\n    responsiveFlexJustifyStyle,\n    responsiveFlexDirectionStyle,\n  ]\n}\n\nexport function responsiveFlexAlignStyle(\n  props: ResponsiveFlexStyleProps & ThemeProps,\n): CSSObject[] {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$align, (align) => {\n    return {alignItems: align}\n  })\n}\n\nfunction responsiveFlexGapStyle(props: ResponsiveFlexStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media, space} = theme.sanity\n\n  return _responsive(media, props.$gap, (gap) => ({\n    gap: gap ? rem(space[gap]) : undefined,\n  }))\n}\n\nexport function responsiveFlexWrapStyle(props: ResponsiveFlexStyleProps & ThemeProps): CSSObject[] {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$wrap, (wrap) => {\n    return {flexWrap: wrap}\n  })\n}\n\nexport function responsiveFlexJustifyStyle(\n  props: ResponsiveFlexStyleProps & ThemeProps,\n): CSSObject[] {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$justify, (justify) => {\n    return {justifyContent: justify}\n  })\n}\n\nexport function responsiveFlexDirectionStyle(\n  props: ResponsiveFlexStyleProps & ThemeProps,\n): CSSObject[] {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$direction, (direction) => {\n    return {flexDirection: direction}\n  })\n}\n", "import {EMPTY_ARRAY} from '../../constants'\nimport {CSSObject} from '../../types/styled'\nimport {_responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveFlexItemStyleProps} from './types'\n\nconst BASE_STYLE: CSSObject = {\n  minWidth: 0,\n  minHeight: 0,\n}\n\nexport function flexItemStyle(): Array<\n  CSSObject | ((props: ResponsiveFlexItemStyleProps & ThemeProps) => CSSObject[])\n> {\n  return [BASE_STYLE, responsiveFlexItemStyle]\n}\n\nexport function responsiveFlexItemStyle(\n  props: ResponsiveFlexItemStyleProps & ThemeProps,\n): CSSObject[] {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  if (!props.$flex) return EMPTY_ARRAY\n\n  return _responsive(media, props.$flex, (flex) => ({flex}))\n}\n", "export function focusRingBorderStyle(border: {color: string; width: number}): string {\n  return `inset 0 0 0 ${border.width}px ${border.color}`\n}\n\nexport function focusRingStyle(opts: {\n  base?: {bg: string}\n  border?: {color: string; width: number}\n  focusRing: {offset: number; width: number}\n}): string {\n  const {base, border, focusRing} = opts\n  const focusRingOutsetWidth = focusRing.offset + focusRing.width\n  const focusRingInsetWidth = 0 - focusRing.offset\n  const bgColor = base ? base.bg : 'var(--card-bg-color)'\n\n  return [\n    focusRingInsetWidth > 0 && `inset 0 0 0 ${focusRingInsetWidth}px var(--card-focus-ring-color)`,\n    border && focusRingBorderStyle(border),\n    focusRingInsetWidth < 0 && `0 0 0 ${0 - focusRingInsetWidth}px ${bgColor}`,\n    focusRingOutsetWidth > 0 && `0 0 0 ${focusRingOutsetWidth}px var(--card-focus-ring-color)`,\n  ]\n    .filter(Boolean)\n    .join(',')\n}\n", "import {CSSObject} from '../../types/styled'\nimport {rem, _responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveGridStyleProps} from './types'\n\nconst GRID_CSS = {\n  '&&:not([hidden])': {\n    display: 'grid',\n  },\n  '&[data-as=\"ul\"],&[data-as=\"ol\"]': {\n    listStyle: 'none',\n  },\n}\n\nconst GRID_AUTO_COLUMS = {\n  auto: 'auto',\n  min: 'min-content',\n  max: 'max-content',\n  fr: 'minmax(0, 1fr)',\n}\n\nconst GRID_AUTO_ROWS = {\n  auto: 'auto',\n  min: 'min-content',\n  max: 'max-content',\n  fr: 'minmax(0, 1fr)',\n}\n\nexport function responsiveGridStyle(): Array<\n  CSSObject | ((props: ResponsiveGridStyleProps & ThemeProps) => CSSObject[])\n> {\n  return [\n    GRID_CSS,\n    responsiveGridAutoFlowStyle,\n    responsiveGridAutoRowsStyle,\n    responsiveGridAutoColsStyle,\n    responsiveGridColumnsStyle,\n    responsiveGridRowsStyle,\n    responsiveGridGapStyle,\n    responsiveGridGapXStyle,\n    responsiveGridGapYStyle,\n  ]\n}\n\nfunction responsiveGridAutoFlowStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$autoFlow, (autoFlow) => ({\n    gridAutoFlow: autoFlow,\n  }))\n}\n\nfunction responsiveGridAutoRowsStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$autoRows, (autoRows) => ({\n    gridAutoRows: autoRows && GRID_AUTO_ROWS[autoRows],\n  }))\n}\n\nfunction responsiveGridAutoColsStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$autoCols, (autoCols) => ({\n    gridAutoColumns: autoCols && GRID_AUTO_COLUMS[autoCols],\n  }))\n}\n\nfunction responsiveGridColumnsStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$columns, (columns) => ({\n    gridTemplateColumns: columns && `repeat(${columns},minmax(0,1fr));`,\n  }))\n}\n\nfunction responsiveGridRowsStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$rows, (rows) => ({\n    gridTemplateRows: rows && `repeat(${rows},minmax(0,1fr));`,\n  }))\n}\n\nfunction responsiveGridGapStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media, space} = theme.sanity\n\n  return _responsive(media, props.$gap, (gap) => ({\n    gridGap: gap ? rem(space[gap]) : undefined,\n  }))\n}\n\nfunction responsiveGridGapXStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media, space} = theme.sanity\n\n  return _responsive(media, props.$gapX, (gapX) => ({\n    columnGap: gapX ? rem(space[gapX]) : undefined,\n  }))\n}\n\nfunction responsiveGridGapYStyle(props: ResponsiveGridStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media, space} = theme.sanity\n\n  return _responsive(media, props.$gapY, (gapY) => ({\n    rowGap: gapY ? rem(space[gapY]) : undefined,\n  }))\n}\n", "import {CSSObject} from '../../types/styled'\nimport {_responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveGridItemStyleProps} from './types'\n\nexport function responsiveGridItemStyle(): Array<\n  (props: ResponsiveGridItemStyleProps & ThemeProps) => CSSObject[]\n> {\n  return [\n    responsiveGridItemRowStyle,\n    responsiveGridItemRowStartStyle,\n    responsiveGridItemRowEndStyle,\n    responsiveGridItemColumnStyle,\n    responsiveGridItemColumnStartStyle,\n    responsiveGridItemColumnEndStyle,\n  ]\n}\n\nconst GRID_ITEM_ROW = {\n  auto: 'auto',\n  full: '1 / -1',\n}\n\nconst GRID_ITEM_COLUMN = {\n  auto: 'auto',\n  full: '1 / -1',\n}\n\nfunction responsiveGridItemRowStyle(props: ResponsiveGridItemStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$row, (row) => {\n    if (typeof row === 'number') {\n      return {gridRow: `span ${row} / span ${row}`}\n    }\n\n    return {gridRow: GRID_ITEM_ROW[row]}\n  })\n}\n\nfunction responsiveGridItemRowStartStyle(props: ResponsiveGridItemStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$rowStart, (rowStart) => ({\n    gridRowStart: rowStart,\n  }))\n}\n\nfunction responsiveGridItemRowEndStyle(props: ResponsiveGridItemStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$rowEnd, (rowEnd) => ({gridRowEnd: rowEnd}))\n}\n\nfunction responsiveGridItemColumnStyle(props: ResponsiveGridItemStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$column, (column) => {\n    if (typeof column === 'number') {\n      return {gridColumn: `span ${column} / span ${column}`}\n    }\n\n    return {gridColumn: GRID_ITEM_COLUMN[column]}\n  })\n}\n\nfunction responsiveGridItemColumnStartStyle(props: ResponsiveGridItemStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$columnStart, (columnStart) => ({\n    gridColumnStart: columnStart,\n  }))\n}\n\nfunction responsiveGridItemColumnEndStyle(props: ResponsiveGridItemStyleProps & ThemeProps) {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$columnEnd, (columnEnd) => ({\n    gridColumnEnd: columnEnd,\n  }))\n}\n", "import {CSSObject} from '../../types/styled'\nimport {rem, _responsive} from '../helpers'\nimport {ThemeProps} from '../types'\n\nexport interface TextInputResponsivePaddingStyleProps {\n  $fontSize: number[]\n  $iconLeft?: boolean\n  $iconRight?: boolean\n  $padding: number[]\n  $space: number[]\n}\n\nexport function responsiveInputPaddingStyle(\n  props: TextInputResponsivePaddingStyleProps & ThemeProps,\n): CSSObject[] {\n  const {$fontSize, $iconLeft, $iconRight, $padding, $space, theme} = props\n  const {fonts, media, space: spaceScale} = theme.sanity\n  const len = Math.max($padding.length, $space.length, $fontSize.length)\n  const _padding: number[] = []\n  const _space: number[] = []\n  const _fontSize: number[] = []\n\n  for (let i = 0; i < len; i += 1) {\n    _fontSize[i] = $fontSize[i] === undefined ? _fontSize[i - 1] : $fontSize[i]\n    _padding[i] = $padding[i] === undefined ? _padding[i - 1] : $padding[i]\n    _space[i] = $space[i] === undefined ? _space[i - 1] : $space[i]\n  }\n\n  return _responsive(media, _padding, (_, i) => {\n    const size = fonts.text.sizes[_fontSize[i]] || fonts.text.sizes[2]\n    const emSize = size.lineHeight - size.ascenderHeight - size.descenderHeight\n    const p = spaceScale[_padding[i]]\n    const s = spaceScale[_space[i]]\n\n    const styles = {\n      paddingTop: rem(p - size.ascenderHeight),\n      paddingRight: rem(p),\n      paddingBottom: rem(p - size.descenderHeight),\n      paddingLeft: rem(p),\n    }\n\n    if ($iconRight) styles.paddingRight = rem(p + emSize + s)\n    if ($iconLeft) styles.paddingLeft = rem(p + emSize + s)\n\n    return styles\n  })\n}\n\nexport function responsiveInputPaddingIconsStyle(\n  props: {\n    $fontSize: number[]\n    $padding: number[]\n    $space: number[]\n  } & ThemeProps,\n): CSSObject[] {\n  return responsiveInputPaddingStyle({...props, $iconLeft: true, $iconRight: true})\n}\n\nexport function responsiveInputPaddingIconLeftStyle(\n  props: {\n    $fontSize: number[]\n    $padding: number[]\n    $space: number[]\n  } & ThemeProps,\n): CSSObject[] {\n  return responsiveInputPaddingStyle({...props, $iconLeft: true})\n}\n\nexport function responsiveInputPaddingIconRightStyle(\n  props: {\n    $fontSize: number[]\n    $padding: number[]\n    $space: number[]\n  } & ThemeProps,\n): CSSObject[] {\n  return responsiveInputPaddingStyle({...props, $iconRight: true})\n}\n", "import {css} from 'styled-components'\nimport {ThemeColorSchemeKey, ThemeFontWeightKey} from '../../theme'\nimport {CardTone} from '../../types'\nimport {CSSObject} from '../../types/styled'\nimport {focusRingBorderStyle, focusRingStyle} from '../focusRing'\nimport {rem, _responsive} from '../helpers'\nimport {ThemeProps} from '../types'\n\n/**\n * @internal\n */\nexport interface TextInputInputStyleProps {\n  $fontSize: number[]\n  $scheme: ThemeColorSchemeKey\n  $tone: CardTone\n  $weight?: ThemeFontWeightKey\n}\n\n/**\n * @internal\n */\nexport interface TextInputRepresentationStyleProps {\n  $hasPrefix?: boolean\n  $hasSuffix?: boolean\n  $scheme: ThemeColorSchemeKey\n  $tone: CardTone\n}\n\nconst ROOT_STYLE = css`\n  &:not([hidden]) {\n    display: flex;\n  }\n\n  align-items: center;\n`\n\nexport function textInputRootStyle(): ReturnType<typeof css> {\n  return ROOT_STYLE\n}\n\nexport function textInputBaseStyle(\n  props: TextInputInputStyleProps & ThemeProps,\n): ReturnType<typeof css> {\n  const {theme, $scheme, $tone, $weight} = props\n  const font = theme.sanity.fonts.text\n  const color = theme.sanity.color.input\n\n  return css`\n    appearance: none;\n    background: none;\n    border: 0;\n    border-radius: 0;\n    outline: none;\n    width: 100%;\n    box-sizing: border-box;\n    font-family: ${font.family};\n    font-weight: ${($weight && font.weights[$weight]) || font.weights.regular};\n    margin: 0;\n    position: relative;\n    z-index: 1;\n    display: block;\n\n    /* NOTE: This is a hack to disable Chrome’s autofill styles */\n    &:-webkit-autofill,\n    &:-webkit-autofill:hover,\n    &:-webkit-autofill:focus,\n    &:-webkit-autofill:active {\n      -webkit-text-fill-color: var(--input-fg-color) !important;\n      transition: background-color 5000s;\n      transition-delay: 86400s /* 24h */;\n    }\n\n    /* &:is(textarea) */\n    &[data-as='textarea'] {\n      resize: none;\n    }\n\n    color: var(--input-fg-color);\n\n    &::placeholder {\n      color: var(--input-placeholder-color);\n    }\n\n    &[data-scheme='${$scheme}'][data-tone='${$tone}'] {\n      --input-fg-color: ${color.default.enabled.fg};\n      --input-placeholder-color: ${color.default.enabled.placeholder};\n\n      /* enabled */\n      &:not(:invalid):not(:disabled):not(:read-only) {\n        --input-fg-color: ${color.default.enabled.fg};\n        --input-placeholder-color: ${color.default.enabled.placeholder};\n      }\n\n      /* disabled */\n      &:not(:invalid):disabled {\n        --input-fg-color: ${color.default.disabled.fg};\n        --input-placeholder-color: ${color.default.disabled.placeholder};\n      }\n\n      /* invalid */\n      &:invalid {\n        --input-fg-color: ${color.invalid.enabled.fg};\n        --input-placeholder-color: ${color.invalid.enabled.placeholder};\n      }\n\n      /* readOnly */\n      &:read-only {\n        --input-fg-color: ${color.default.readOnly.fg};\n        --input-placeholder-color: ${color.default.readOnly.placeholder};\n      }\n    }\n  `\n}\n\nexport function textInputFontSizeStyle(props: TextInputInputStyleProps & ThemeProps): CSSObject[] {\n  const {theme} = props\n  const {fonts, media} = theme.sanity\n\n  return _responsive(media, props.$fontSize, (sizeIndex) => {\n    const size = fonts.text.sizes[sizeIndex] || fonts.text.sizes[2]\n\n    return {\n      fontSize: rem(size.fontSize),\n      lineHeight: size.lineHeight / size.fontSize,\n    }\n  })\n}\n\nexport function textInputRepresentationStyle(\n  props: TextInputRepresentationStyleProps & ThemeProps,\n): ReturnType<typeof css> {\n  const {$hasPrefix, $hasSuffix, $scheme, $tone, theme} = props\n  const {focusRing, input} = theme.sanity\n  const color = theme.sanity.color.input\n\n  return css`\n    --input-box-shadow: none;\n\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: block;\n    pointer-events: none;\n    z-index: 0;\n\n    background-color: var(--card-bg-color);\n    box-shadow: var(--input-box-shadow);\n\n    border-top-left-radius: ${$hasPrefix ? 0 : undefined};\n    border-bottom-left-radius: ${$hasPrefix ? 0 : undefined};\n    border-top-right-radius: ${$hasSuffix ? 0 : undefined};\n    border-bottom-right-radius: ${$hasSuffix ? 0 : undefined};\n\n    &[data-scheme='${$scheme}'][data-tone='${$tone}'] {\n      --card-bg-color: ${color.default.enabled.bg};\n      --card-fg-color: ${color.default.enabled.fg};\n\n      /* enabled */\n      *:not(:disabled) + &[data-border] {\n        --input-box-shadow: ${focusRingBorderStyle({\n          color: color.default.enabled.border,\n          width: input.border.width,\n        })};\n      }\n\n      /* invalid */\n      *:not(:disabled):invalid + & {\n        --card-bg-color: ${color.invalid.enabled.bg};\n        --card-fg-color: ${color.invalid.enabled.fg};\n\n        &[data-border] {\n          --input-box-shadow: ${focusRingBorderStyle({\n            color: color.invalid.enabled.border,\n            width: input.border.width,\n          })};\n        }\n      }\n\n      /* focused */\n      *:not(:disabled):focus + & {\n        &[data-border] {\n          --input-box-shadow: ${focusRingStyle({\n            border: {color: color.default.enabled.border, width: input.border.width},\n            focusRing,\n          })};\n        }\n\n        &:not([data-border]) {\n          --input-box-shadow: ${focusRingStyle({focusRing})};\n        }\n      }\n\n      /* disabled */\n      *:disabled + & {\n        --card-bg-color: ${color.default.disabled.bg} !important;\n        --card-fg-color: ${color.default.disabled.fg} !important;\n\n        &[data-border] {\n          --input-box-shadow: ${focusRingBorderStyle({\n            color: color.default.disabled.border,\n            width: input.border.width,\n          })};\n        }\n      }\n\n      /* readOnly */\n      *:read-only + & {\n        --card-bg-color: ${color.default.readOnly.bg} !important;\n        --card-fg-color: ${color.default.readOnly.fg} !important;\n      }\n\n      /* hovered */\n      @media (hover: hover) {\n        *:not(:disabled):not(:read-only):not(:invalid):hover + & {\n          --card-bg-color: ${color.default.hovered.bg};\n          --card-fg-color: ${color.default.hovered.fg};\n        }\n\n        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {\n          --input-box-shadow: ${focusRingBorderStyle({\n            color: color.default.hovered.border,\n            width: input.border.width,\n          })};\n        }\n      }\n    }\n  `\n}\n", "import {CSSObject} from '../../types/styled'\nimport {_getResponsiveSpace} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveMarginStyleProps} from './types'\n\nexport function responsiveMarginStyle(\n  props: ResponsiveMarginStyleProps & ThemeProps,\n): CSSObject[][] {\n  const {theme} = props\n\n  return [\n    _getResponsiveSpace(theme, ['margin'], props.$margin),\n    _getResponsiveSpace(theme, ['marginLeft', 'marginRight'], props.$marginX),\n    _getResponsiveSpace(theme, ['marginTop', 'marginBottom'], props.$marginY),\n    _getResponsiveSpace(theme, ['marginTop'], props.$marginTop),\n    _getResponsiveSpace(theme, ['marginRight'], props.$marginRight),\n    _getResponsiveSpace(theme, ['marginBottom'], props.$marginBottom),\n    _getResponsiveSpace(theme, ['marginLeft'], props.$marginLeft),\n  ].filter(Boolean) as CSSObject[][]\n}\n", "import {CSSObject} from '../../types/styled'\nimport {_getResponsiveSpace} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsivePaddingStyleProps} from './types'\n\nexport function responsivePaddingStyle(\n  props: ResponsivePaddingStyleProps & ThemeProps,\n): CSSObject[][] {\n  const {theme} = props\n\n  return [\n    _getResponsiveSpace(theme, ['padding'], props.$padding),\n    _getResponsiveSpace(theme, ['paddingLeft', 'paddingRight'], props.$paddingX),\n    _getResponsiveSpace(theme, ['paddingTop', 'paddingBottom'], props.$paddingY),\n    _getResponsiveSpace(theme, ['paddingTop'], props.$paddingTop),\n    _getResponsiveSpace(theme, ['paddingRight'], props.$paddingRight),\n    _getResponsiveSpace(theme, ['paddingBottom'], props.$paddingBottom),\n    _getResponsiveSpace(theme, ['paddingLeft'], props.$paddingLeft),\n  ].filter(Boolean) as CSSObject[][]\n}\n", "import {CSSObject} from '../../types/styled'\nimport {rem, _responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveRadiusStyleProps} from './types'\n\nexport function responsiveRadiusStyle(props: ResponsiveRadiusStyleProps & ThemeProps): CSSObject[] {\n  const {theme} = props\n  const {media, radius} = theme.sanity\n\n  return _responsive(media, props.$radius, (radiusIndex) => ({\n    borderRadius: rem(radius[radiusIndex]),\n  }))\n}\n", "import {EMPTY_RECORD} from '../../constants'\nimport {BoxShadow, ThemeShadow} from '../../theme'\nimport {CSSObject} from '../../types/styled'\nimport {rem, _responsive} from '../helpers'\nimport {ThemeProps} from '../types'\nimport {ResponsiveShadowStyleProps} from './types'\n\nfunction toBoxShadow(shadow: BoxShadow, color: string) {\n  return `${shadow.map(rem).join(' ')} ${color}`\n}\n\nfunction shadowStyle(shadow: ThemeShadow | null): CSSObject {\n  if (!shadow) return EMPTY_RECORD\n\n  const outline = `0 0 0 ${rem(1)} var(--card-shadow-outline-color)`\n  const umbra = toBoxShadow(shadow.umbra, 'var(--card-shadow-umbra-color)')\n  const penumbra = toBoxShadow(shadow.penumbra, 'var(--card-shadow-penumbra-color)')\n  const ambient = toBoxShadow(shadow.ambient, 'var(--card-shadow-ambient-color)')\n\n  return {boxShadow: `${outline}, ${umbra}, ${penumbra}, ${ambient}`}\n}\n\nexport function responsiveShadowStyle(props: ResponsiveShadowStyleProps & ThemeProps): CSSObject[] {\n  const {theme} = props\n  const {media, shadows} = theme.sanity\n\n  return _responsive(media, props.$shadow, (shadow) => shadowStyle(shadows[shadow]))\n}\n", "import {css} from 'styled-components'\nimport {ThemeProps} from '../../styles'\n\nexport function textBaseStyle(\n  props: {$accent?: boolean; $muted?: boolean} & ThemeProps,\n): ReturnType<typeof css> {\n  const {$accent, $muted, theme} = props\n  const {weights} = theme.sanity.fonts.text\n\n  return css`\n    color: var(--card-fg-color);\n\n    ${$accent &&\n    css`\n      color: var(--card-accent-fg-color);\n    `}\n\n    ${$muted &&\n    css`\n      color: var(--card-muted-fg-color);\n    `}\n\n    & code {\n      font-family: ${theme.sanity.fonts.code.family};\n      border-radius: 1px;\n      background-color: var(--card-code-bg-color);\n      color: var(--card-code-fg-color);\n    }\n\n    & a {\n      text-decoration: none;\n      border-radius: 1px;\n      color: var(--card-link-color);\n      outline: none;\n\n      @media (hover: hover) {\n        &:hover {\n          text-decoration: underline;\n        }\n      }\n\n      &:focus {\n        box-shadow:\n          0 0 0 1px var(--card-bg-color),\n          0 0 0 3px var(--card-focus-ring-color);\n      }\n\n      &:focus:not(:focus-visible) {\n        box-shadow: none;\n      }\n    }\n\n    & strong {\n      font-weight: ${weights.bold};\n    }\n\n    & svg {\n      /* Certain popular CSS libraries changes the defaults for SVG display */\n      /* Make sure SVGs are rendered as inline elements */\n      display: inline;\n    }\n\n    & [data-sanity-icon] {\n      vertical-align: baseline;\n    }\n  `\n}\n", "import {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {\n  ResponsiveFontStyleProps,\n  responsiveTextAlignStyle,\n  responsiveTextFont,\n} from '../../styles/internal'\nimport {ThemeFontWeightKey} from '../../theme'\nimport {TextAlign} from '../../types'\nimport {textBaseStyle} from './styles'\n\n/**\n * @public\n */\nexport interface TextProps {\n  accent?: boolean\n  align?: TextAlign | TextAlign[]\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  muted?: boolean\n  size?: number | number[]\n  /**\n   * Controls how overflowing text is treated.\n   * Use `textOverflow=\"ellipsis\"` to render text as a single line which is concatenated with a `…` symbol.\n   * @beta\n   */\n  textOverflow?: 'ellipsis'\n  weight?: ThemeFontWeightKey\n}\n\nconst Root = styled.div<ResponsiveFontStyleProps>(\n  responsiveTextFont,\n  responsiveTextAlignStyle,\n  textBaseStyle,\n)\n\nconst SpanWithTextOverflow = styled.span`\n  display: block;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  overflow: clip;\n`\n\n/**\n * @public\n */\nexport const Text = forwardRef(function Text(\n  props: TextProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'size'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {\n    accent = false,\n    align,\n    children: childrenProp,\n    muted = false,\n    size = 2,\n    textOverflow,\n    weight,\n    ...restProps\n  } = props\n\n  let children = childrenProp\n\n  if (textOverflow === 'ellipsis') {\n    children = <SpanWithTextOverflow>{children}</SpanWithTextOverflow>\n  }\n\n  return (\n    <Root\n      data-ui=\"Text\"\n      {...restProps}\n      $accent={accent}\n      $align={useArrayProp(align)}\n      $muted={muted}\n      ref={ref}\n      $size={useArrayProp(size)}\n      $weight={weight}\n    >\n      <span>{children}</span>\n    </Root>\n  )\n})\n", "import {rem, _responsive, ThemeProps} from '../../styles'\nimport {focusRingStyle} from '../../styles/internal'\nimport {CSSObject} from '../../types/styled'\nimport {AvatarRootStyleProps, ResponsiveAvatarSizeStyleProps} from './types'\n\nexport const avatarStyle = {\n  root: avatarRootStyle,\n  arrow: avatarArrowStyle,\n  bgStroke: avatarBgStrokeStyle,\n  stroke: avatarStrokeStyle,\n  initials: avatarInitialsStyle,\n}\n\nfunction avatarArrowStyle(): CSSObject {\n  return {\n    position: 'absolute',\n    boxSizing: 'border-box',\n    zIndex: 0,\n    opacity: 0,\n    transition: 'all 0.2s linear',\n    transform: 'rotate(-90deg) translate3d(0, 6px, 0)',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n\n    '& > svg': {\n      width: '11px',\n      height: '7px',\n      position: 'absolute',\n      top: '-5px',\n      left: '50%',\n      transform: 'translateX(-6px)',\n\n      // @ts-expect-error -- TODO wait for CSSObject types to be fixed in `styled-components` itself\n      '&:not([hidden])': {\n        display: 'block',\n      },\n    },\n\n    \"[data-arrow-position='inside'] > &\": {\n      transform: 'rotate(-90deg) translate3d(0, 6px, 0)',\n      opacity: 0,\n    },\n\n    \"[data-arrow-position='top'] > &\": {\n      opacity: 1,\n      transform: 'rotate(0deg)',\n    },\n\n    \"[data-arrow-position='bottom'] > &\": {\n      opacity: 1,\n      transform: 'rotate(-180deg)',\n    },\n  }\n}\n\nexport function avatarRootStyle(props: AvatarRootStyleProps & ThemeProps): CSSObject {\n  const {$color, theme} = props\n  const {focusRing} = theme.sanity\n\n  return {\n    backgroundColor: $color,\n    position: 'relative',\n    boxSizing: 'border-box',\n    userSelect: 'none',\n    boxShadow: '0 0 0 1px var(--card-bg-color)',\n\n    '&[data-status=\"inactive\"]': {\n      opacity: 0.5,\n    },\n\n    '&>svg': {\n      // @ts-expect-error -- TODO wait for CSSObject types to be fixed in `styled-components` itself\n      '&:not([hidden])': {\n        display: 'block',\n      },\n    },\n\n    /* &:is(button) */\n    '&[data-as=\"button\"]': {\n      WebkitFontSmoothing: 'inherit',\n      appearance: 'none',\n      margin: 0,\n      padding: 0,\n      border: 0,\n      font: 'inherit',\n      color: 'inherit',\n      outline: 'none',\n\n      // @ts-expect-error -- TODO wait for CSSObject types to be fixed in `styled-components` itself\n      '&:focus': {\n        boxShadow: focusRingStyle({focusRing}),\n      },\n\n      '&:focus:not(:focus-visible)': {\n        boxShadow: 'none',\n      },\n    },\n  }\n}\n\nexport function responsiveAvatarSizeStyle(\n  props: ResponsiveAvatarSizeStyleProps & ThemeProps,\n): CSSObject[] {\n  const {theme} = props\n  const {avatar, media} = theme.sanity\n\n  return _responsive(media, props.$size, (size) => {\n    const avatarSize = avatar.sizes[size] || avatar.sizes[0]\n\n    return {\n      width: rem(avatarSize.size),\n      height: rem(avatarSize.size),\n      borderRadius: rem(avatarSize.size / 2),\n\n      '&>svg': {\n        width: rem(avatarSize.size),\n        height: rem(avatarSize.size),\n        borderRadius: rem(avatarSize.size / 2),\n      },\n    }\n  })\n}\n\nexport function avatarInitialsStyle(props: ThemeProps): CSSObject {\n  const {theme} = props\n  const {base} = theme.sanity.color\n\n  return {\n    width: '100%',\n    height: '100%',\n    color: base.fg,\n    alignItems: 'center',\n    justifyContent: 'center',\n    textTransform: 'uppercase',\n    textAlign: 'center',\n    borderRadius: '50%',\n\n    '&:not([hidden])': {\n      display: 'flex',\n    },\n  }\n}\n\nfunction avatarBgStrokeStyle(): CSSObject {\n  return {\n    strokeWidth: '4px',\n    stroke: 'var(--card-bg-color)',\n  }\n}\n\nfunction avatarStrokeStyle(): CSSObject {\n  return {\n    strokeWidth: '3px',\n\n    '[data-status=\"editing\"] &': {\n      strokeDasharray: '2 4',\n      strokeLinecap: 'round',\n    },\n  }\n}\n", "import {forwardRef, useCallback, useEffect, useId, useMemo, useState} from 'react'\nimport ReactIs from 'react-is'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {ThemeColorSpotKey, useTheme} from '../../theme'\nimport {AvatarPosition, AvatarSize, AvatarStatus} from '../../types'\nimport {Text} from '../text'\nimport {avatarStyle, responsiveAvatarSizeStyle} from './styles'\n\n/**\n * @public\n */\nexport interface AvatarProps {\n  animateArrowFrom?: AvatarPosition\n  arrowPosition?: AvatarPosition\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  color?: ThemeColorSpotKey\n  initials?: string\n  onImageLoadError?: (event: Error) => void\n  size?: AvatarSize | AvatarSize[]\n  src?: string\n  /**\n   * The status of the entity this Avatar represents.\n   * @alpha\n   */\n  status?: AvatarStatus\n  title?: string\n}\n\nconst Root = styled.div<{$color: string; $size: AvatarSize[]}>(\n  responsiveAvatarSizeStyle,\n  avatarStyle.root,\n)\n\nconst Arrow = styled.div(avatarStyle.arrow)\n\nconst BgStroke = styled.ellipse(avatarStyle.bgStroke)\n\nconst Stroke = styled.ellipse(avatarStyle.stroke)\n\nconst Initials = styled.div(avatarStyle.initials)\n\n/**\n * @public\n */\nexport const Avatar = forwardRef(function Avatar(\n  props: AvatarProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'ref'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {\n    as: asProp,\n    color: colorKey = 'gray',\n    src,\n    title,\n    initials,\n    onImageLoadError,\n    arrowPosition: arrowPositionProp,\n    animateArrowFrom,\n    status = 'online',\n    size: sizeProp = 0,\n    ...restProps\n  } = props\n  const as = ReactIs.isValidElementType(asProp) ? asProp : 'div'\n  const size = useArrayProp(sizeProp)\n  const theme = useTheme()\n  const color = theme.sanity.color.spot[colorKey] || theme.sanity.color.spot.gray\n\n  // @todo: remove this\n  const avatarSize = theme.sanity.avatar.sizes[size[0]] || theme.sanity.avatar.sizes[0]\n  const _sizeRem = avatarSize.size\n  const _radius = _sizeRem / 2\n\n  const elementId = useId()\n  const [arrowPosition, setArrowPosition] = useState<AvatarPosition | undefined>(\n    animateArrowFrom || arrowPositionProp || 'inside',\n  )\n\n  const [imageFailed, setImageFailed] = useState<boolean>(false)\n\n  const imageId = `avatar-image-${elementId}`\n\n  useEffect(() => {\n    if (arrowPosition === arrowPositionProp) return undefined\n\n    // Start animation in the next frame\n    const raf = requestAnimationFrame(() => setArrowPosition(arrowPositionProp))\n\n    return () => cancelAnimationFrame(raf)\n  }, [arrowPosition, arrowPositionProp])\n\n  useEffect(() => {\n    if (src) setImageFailed(false)\n  }, [src])\n\n  const handleImageError = useCallback(() => {\n    setImageFailed(true)\n\n    if (onImageLoadError) {\n      onImageLoadError(new Error('Avatar: the image failed to load'))\n    }\n  }, [onImageLoadError])\n\n  const initialsSize = useMemo(() => size.map((s) => (s === 0 ? 0 : s + 1)), [size])\n\n  return (\n    <Root\n      as={as}\n      data-as={typeof as === 'string' ? as : undefined}\n      data-ui=\"Avatar\"\n      {...restProps}\n      $size={size}\n      $color={color}\n      aria-label={title}\n      data-arrow-position={arrowPosition}\n      data-status={status}\n      ref={ref}\n      title={title}\n    >\n      <Arrow>\n        <svg width=\"11\" height=\"7\" viewBox=\"0 0 11 7\" fill=\"none\">\n          <path\n            d=\"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z\"\n            fill={color}\n          />\n        </svg>\n      </Arrow>\n\n      {!imageFailed && src && (\n        <svg viewBox={`0 0 ${_sizeRem} ${_sizeRem}`} fill=\"none\">\n          <defs>\n            <pattern id={imageId} patternContentUnits=\"objectBoundingBox\" width=\"1\" height=\"1\">\n              <image\n                href={src}\n                width=\"1\"\n                height=\"1\"\n                // eslint-disable-next-line react/no-unknown-property\n                onError={handleImageError}\n              />\n            </pattern>\n          </defs>\n\n          <circle cx={_radius} cy={_radius} r={_radius} fill={`url(#${imageId})`} />\n          <BgStroke\n            cx={_radius}\n            cy={_radius}\n            rx={_radius}\n            ry={_radius}\n            vectorEffect=\"non-scaling-stroke\"\n          />\n          <Stroke\n            cx={_radius}\n            cy={_radius}\n            rx={_radius}\n            ry={_radius}\n            stroke={color}\n            vectorEffect=\"non-scaling-stroke\"\n          />\n        </svg>\n      )}\n\n      {(imageFailed || !src) && initials && (\n        <>\n          <Initials>\n            <Text as=\"span\" size={initialsSize}>\n              <strong>{initials}</strong>\n            </Text>\n          </Initials>\n        </>\n      )}\n    </Root>\n  )\n})\n", "import {forwardRef, useMemo} from 'react'\nimport styled, {css} from 'styled-components'\nimport {EMPTY_RECORD} from '../../constants'\nimport {useArrayProp} from '../../hooks'\nimport {rem, _responsive, ThemeProps} from '../../styles'\nimport {AvatarSize} from '../../types'\nimport {Text} from '../text'\n\nfunction _responsiveAvatarCounterSizeStyle(props: {$size: AvatarSize[]} & ThemeProps) {\n  const {theme} = props\n  const {avatar, media} = theme.sanity\n\n  return _responsive(media, props.$size, (size) => {\n    const avatarSize = avatar.sizes[size]\n\n    if (!avatarSize) return EMPTY_RECORD\n\n    return {\n      borderRadius: rem(avatarSize.size / 2),\n      minWidth: rem(avatarSize.size),\n      height: rem(avatarSize.size),\n    }\n  })\n}\n\nfunction _avatarCounterBaseStyle(props: ThemeProps) {\n  const {theme} = props\n\n  return css`\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    user-select: none;\n    color: inherit;\n    color: var(--card-fg-color);\n    background: var(--card-bg-color);\n    box-shadow:\n      0 0 0 1px var(--card-bg-color),\n      inset 0 0 0 1.5px var(--card-hairline-hard-color);\n    padding: 0 ${rem(theme.sanity.space[2])};\n\n    &:not([hidden]) {\n      display: flex;\n    }\n  `\n}\n\nconst Root = styled.div<{$size: AvatarSize[]}>(\n  _responsiveAvatarCounterSizeStyle,\n  _avatarCounterBaseStyle,\n)\n\n/**\n * @public\n */\nexport interface AvatarCounterProps {\n  count: number\n  size?: AvatarSize | AvatarSize[]\n  /** @deprecated No longer supported. */\n  tone?: 'navbar'\n}\n\n/**\n * @public\n */\nexport const AvatarCounter = forwardRef(function AvatarCounter(\n  props: AvatarCounterProps,\n  ref: React.Ref<HTMLDivElement>,\n) {\n  const {count, size: sizeProp = 0} = props\n  const size = useArrayProp(sizeProp)\n  const counterSize = useMemo(() => size.map((s) => (s === 0 ? 0 : s + 1)), [size])\n\n  return (\n    <Root $size={size} data-ui=\"AvatarCounter\" ref={ref}>\n      <Text as=\"span\" size={counterSize}>\n        <strong>{count}</strong>\n      </Text>\n    </Root>\n  )\n})\n", "import {isElement, isFragment} from 'react-is'\n\nexport function childrenToElementArray(\n  children: React.ReactNode,\n): Array<React.ReactElement | string> {\n  const childrenArray = Array.isArray(children) ? children : [children]\n\n  return childrenArray.filter(\n    (node) => isElement(node) || isFragment(node) || typeof node === 'string',\n  ) as Array<React.ReactElement | string>\n}\n", "import {cloneElement, forwardRef} from 'react'\nimport styled, {css} from 'styled-components'\nimport {EMPTY_RECORD} from '../../constants'\nimport {useArrayProp} from '../../hooks'\nimport {rem, _responsive, ThemeProps} from '../../styles'\nimport {AvatarSize} from '../../types'\nimport {childrenToElementArray} from '../helpers'\nimport {AvatarCounter} from './avatarCounter'\n\nconst BASE_STYLES = css`\n  white-space: nowrap;\n\n  & > div {\n    vertical-align: top;\n\n    &:not([hidden]) {\n      display: inline-block;\n    }\n  }\n`\n\nfunction avatarStackStyle() {\n  return BASE_STYLES\n}\n\nfunction responsiveAvatarStackSizeStyle(props: {$size: AvatarSize[]} & ThemeProps) {\n  const {theme} = props\n  const {avatar, media} = theme.sanity\n\n  return _responsive(media, props.$size, (size) => {\n    const avatarSize = avatar.sizes[size]\n\n    if (!avatarSize) return EMPTY_RECORD\n\n    return {\n      '& > div + div': {\n        marginLeft: rem(avatarSize.distance),\n      },\n    }\n  })\n}\n\nconst Root = styled.div<{$size: AvatarSize[]}>(responsiveAvatarStackSizeStyle, avatarStackStyle)\n\n/**\n * @public\n */\nexport interface AvatarStackProps {\n  children: React.ReactNode\n  maxLength?: number\n  size?: AvatarSize | AvatarSize[]\n  /** @deprecated No longer supported. */\n  tone?: 'navbar'\n}\n\n/**\n * @public\n */\nexport const AvatarStack = forwardRef(function AvatarStack(\n  props: AvatarStackProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'ref'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {\n    children: childrenProp,\n    maxLength: maxLengthProp = 4,\n    size: sizeProp = 0,\n    ...restProps\n  } = props\n  const children = childrenToElementArray(childrenProp).filter(\n    (child) => typeof child !== 'string',\n  ) as React.ReactElement[]\n  const maxLength = Math.max(maxLengthProp, 0)\n  const size = useArrayProp(sizeProp)\n\n  const len = children.length\n  const visibleCount = maxLength - 1\n  const extraCount = len - visibleCount\n  const visibleChildren = extraCount > 1 ? children.slice(extraCount, len) : children\n\n  return (\n    <Root data-ui=\"AvatarStack\" {...restProps} ref={ref} $size={size}>\n      {len === 0 && (\n        <div>\n          <AvatarCounter count={len} />\n        </div>\n      )}\n\n      {len !== 0 && extraCount > 1 && (\n        <div>\n          <AvatarCounter count={extraCount} size={size} />\n        </div>\n      )}\n\n      {visibleChildren.map((child, childIndex) => (\n        <div key={String(childIndex)}>{cloneElement(child, {size})}</div>\n      ))}\n    </Root>\n  )\n})\n", "import {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {\n  boxStyle,\n  flexItemStyle,\n  FlexItemStyleProps,\n  responsiveBoxStyle,\n  ResponsiveBoxStyleProps,\n  responsiveGridItemStyle,\n  ResponsiveGridItemStyleProps,\n  responsivePaddingStyle,\n  ResponsivePaddingStyleProps,\n  responsiveMarginStyle,\n  ResponsiveMarginStyleProps,\n} from '../../styles/internal'\nimport {\n  ResponsiveBoxProps,\n  ResponsiveFlexItemProps,\n  ResponsiveGridItemProps,\n  ResponsiveMarginProps,\n  ResponsivePaddingProps,\n} from '../types'\n\n/**\n * @public\n */\nexport interface BoxProps\n  extends ResponsiveFlexItemProps,\n    ResponsiveBoxProps,\n    ResponsiveGridItemProps,\n    ResponsiveMarginProps,\n    ResponsivePaddingProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  forwardedAs?: React.ElementType | keyof JSX.IntrinsicElements\n}\n\nconst Root = styled.div<\n  FlexItemStyleProps &\n    ResponsiveBoxStyleProps &\n    ResponsiveGridItemStyleProps &\n    ResponsiveMarginStyleProps &\n    ResponsivePaddingStyleProps\n>(\n  boxStyle,\n  flexItemStyle,\n  responsiveBoxStyle,\n  responsiveGridItemStyle,\n  responsiveMarginStyle,\n  responsivePaddingStyle,\n)\n\n/**\n * @public\n */\nexport const Box = forwardRef(function Box(\n  props: BoxProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {\n    as: asProp = 'div',\n    column,\n    columnStart,\n    columnEnd,\n    display = 'block',\n    flex,\n    height,\n    margin = 0,\n    marginX,\n    marginY,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    overflow,\n    padding = 0,\n    paddingX,\n    paddingY,\n    paddingTop,\n    paddingRight,\n    paddingBottom,\n    paddingLeft,\n    row,\n    rowStart,\n    rowEnd,\n    sizing,\n    ...restProps\n  } = props\n\n  return (\n    <Root\n      data-as={typeof asProp === 'string' ? asProp : undefined}\n      data-ui=\"Box\"\n      {...restProps}\n      $column={useArrayProp(column)}\n      $columnStart={useArrayProp(columnStart)}\n      $columnEnd={useArrayProp(columnEnd)}\n      $display={useArrayProp(display)}\n      $flex={useArrayProp(flex)}\n      $height={useArrayProp(height)}\n      $margin={useArrayProp(margin)}\n      $marginX={useArrayProp(marginX)}\n      $marginY={useArrayProp(marginY)}\n      $marginTop={useArrayProp(marginTop)}\n      $marginRight={useArrayProp(marginRight)}\n      $marginBottom={useArrayProp(marginBottom)}\n      $marginLeft={useArrayProp(marginLeft)}\n      $overflow={useArrayProp(overflow)}\n      $padding={useArrayProp(padding)}\n      $paddingX={useArrayProp(paddingX)}\n      $paddingY={useArrayProp(paddingY)}\n      $paddingTop={useArrayProp(paddingTop)}\n      $paddingRight={useArrayProp(paddingRight)}\n      $paddingBottom={useArrayProp(paddingBottom)}\n      $paddingLeft={useArrayProp(paddingLeft)}\n      $row={useArrayProp(row)}\n      $rowStart={useArrayProp(rowStart)}\n      $rowEnd={useArrayProp(rowEnd)}\n      $sizing={useArrayProp(sizing)}\n      as={asProp}\n      ref={ref}\n    >\n      {props.children}\n    </Root>\n  )\n})\n", "import {css} from 'styled-components'\nimport {ThemeProps} from '../../styles'\n\nexport function labelBaseStyle(\n  props: {$accent?: boolean; $muted: boolean} & ThemeProps,\n): ReturnType<typeof css> {\n  const {$accent, $muted, theme} = props\n  const {fonts} = theme.sanity\n\n  return css`\n    text-transform: uppercase;\n\n    ${$accent &&\n    css`\n      color: var(--card-accent-fg-color);\n    `}\n\n    ${$muted &&\n    css`\n      color: var(--card-muted-fg-color);\n    `}\n\n    & code {\n      font-family: ${fonts.code.family};\n      border-radius: 1px;\n    }\n\n    & a {\n      text-decoration: none;\n      border-radius: 1px;\n    }\n\n    & svg {\n      /* Certain popular CSS libraries changes the defaults for SVG display */\n      /* Make sure SVGs are rendered as inline elements */\n      display: inline;\n    }\n\n    & [data-sanity-icon] {\n      vertical-align: baseline;\n    }\n  `\n}\n", "import {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {responsiveLabelFont, responsiveTextAlignStyle} from '../../styles/internal'\nimport {ThemeFontWeightKey} from '../../theme'\nimport {TextAlign} from '../../types'\nimport {labelBaseStyle} from './styles'\n\n/**\n * @public\n */\nexport interface LabelProps {\n  accent?: boolean\n  align?: TextAlign | TextAlign[]\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  muted?: boolean\n  size?: number | number[]\n  /**\n   * Controls how overflowing text is treated.\n   * Use `textOverflow=\"ellipsis\"` to render text as a single line which is concatenated with a `…` symbol.\n   * @beta\n   */\n  textOverflow?: 'ellipsis'\n  weight?: ThemeFontWeightKey\n}\n\nconst Root = styled.div<{\n  $accent?: boolean\n  $align: TextAlign[]\n  $muted: boolean\n  $size: number[]\n}>(responsiveLabelFont, responsiveTextAlignStyle, labelBaseStyle)\n\nconst SpanWithTextOverflow = styled.span`\n  display: block;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  overflow: clip;\n`\n\n/**\n * @public\n */\nexport const Label = forwardRef(function Label(\n  props: LabelProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'size'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {\n    accent,\n    align,\n    children: childrenProp,\n    muted = false,\n    size = 2,\n    textOverflow,\n    weight,\n    ...restProps\n  } = props\n\n  let children = childrenProp\n\n  if (textOverflow === 'ellipsis') {\n    children = <SpanWithTextOverflow>{children}</SpanWithTextOverflow>\n  } else {\n    children = <span>{children}</span>\n  }\n\n  return (\n    <Root\n      data-ui=\"Label\"\n      {...restProps}\n      $accent={accent}\n      $align={useArrayProp(align)}\n      $muted={muted}\n      $size={useArrayProp(size)}\n      $weight={weight}\n      ref={ref}\n    >\n      {children}\n    </Root>\n  )\n})\n", "import {ThemeProps} from '../../styles'\nimport {CSSObject} from '../../types/styled'\nimport {BadgeStyleProps} from './types'\n\nexport function badgeStyle(props: BadgeStyleProps & ThemeProps): CSSObject {\n  const {$mode, $tone, theme} = props\n  const palette = theme.sanity.color[$mode === 'outline' ? 'muted' : 'solid']\n  const color = palette[$tone] || palette.default\n\n  return {\n    backgroundColor: color.enabled.bg,\n    color: color.enabled.fg,\n    boxShadow: `inset 0 0 0 1px ${color.enabled.border}`,\n    cursor: 'default',\n\n    '&:not([hidden])': {\n      display: 'inline-block',\n    },\n  }\n}\n", "import {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {responsiveRadiusStyle, ResponsiveRadiusStyleProps} from '../../styles/internal'\nimport {BadgeMode, BadgeTone} from '../../types'\nimport {Box, BoxProps} from '../box'\nimport {Label} from '../label'\nimport {ResponsiveRadiusProps} from '../types'\nimport {badgeStyle} from './styles'\nimport {BadgeStyleProps} from './types'\n\n/**\n * @public\n */\nexport interface BadgeProps extends BoxProps, ResponsiveRadiusProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  fontSize?: number | number[]\n  mode?: BadgeMode\n  tone?: BadgeTone\n}\n\nconst Root = styled(Box)<BadgeStyleProps & ResponsiveRadiusStyleProps>(\n  responsiveRadiusStyle,\n  badgeStyle,\n)\n\n/**\n * @public\n */\nexport const Badge = forwardRef(function Badge(\n  props: BadgeProps & React.HTMLProps<HTMLDivElement>,\n  ref,\n) {\n  const {\n    children,\n    fontSize,\n    mode = 'default',\n    padding = 1,\n    radius = 2,\n    tone = 'default',\n    ...restProps\n  } = props\n\n  return (\n    <Root\n      data-ui=\"Badge\"\n      {...restProps}\n      $mode={mode}\n      $tone={tone}\n      $radius={useArrayProp(radius)}\n      padding={useArrayProp(padding)}\n      ref={ref}\n    >\n      <Label size={fontSize}>{children}</Label>\n    </Root>\n  )\n})\n", "import {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {\n  flexItemStyle,\n  FlexItemStyleProps,\n  responsiveFlexStyle,\n  ResponsiveFlexStyleProps,\n} from '../../styles/internal'\nimport {Box, BoxProps} from '../box'\nimport {ResponsiveFlexProps, ResponsiveFlexItemProps} from '../types'\n\n/**\n * @public\n */\nexport interface FlexProps\n  extends Omit<BoxProps, 'display'>,\n    ResponsiveFlexProps,\n    ResponsiveFlexItemProps {\n  gap?: number | number[]\n}\n\nconst Root = styled(Box)<FlexItemStyleProps & ResponsiveFlexStyleProps>(\n  flexItemStyle,\n  responsiveFlexStyle,\n)\n\n/**\n * @public\n */\nexport const Flex = forwardRef(function Flex(\n  props: FlexProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'wrap'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {align, as, direction = 'row', gap, justify, wrap, ...restProps} = props\n\n  return (\n    // @ts-expect-error -- some dollar prefixed typings aren't inferred correctly https://github.com/styled-components/styled-components/issues/4062\n    <Root\n      data-ui=\"Flex\"\n      {...restProps}\n      $align={useArrayProp(align)}\n      $direction={useArrayProp(direction)}\n      $gap={useArrayProp(gap)}\n      $justify={useArrayProp(justify)}\n      $wrap={useArrayProp(wrap)}\n      forwardedAs={as}\n      ref={ref}\n    />\n  )\n})\n", "import {SpinnerIcon} from '@sanity/icons'\nimport {forwardRef} from 'react'\nimport styled, {keyframes} from 'styled-components'\nimport {Text} from '../text'\n\n/**\n * @public\n */\nexport interface SpinnerProps {\n  muted?: boolean\n  size?: number | number[]\n}\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n`\n\nconst Root = styled(Text)`\n  & > span > svg {\n    animation: ${rotate} 500ms linear infinite;\n  }\n`\n\n/**\n * @public\n */\nexport const Spinner = forwardRef(function Spinner(\n  props: SpinnerProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'size'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  return (\n    <Root data-ui=\"Spinner\" {...props} ref={ref}>\n      <SpinnerIcon />\n    </Root>\n  )\n})\n", "import {ThemeColorBase, ThemeColorGenericState} from '../../theme'\nimport {CSSObject} from '../../types/styled'\n\n/**\n * @internal\n */\nexport function _colorVarsStyle(\n  base: ThemeColorBase,\n  color: ThemeColorGenericState,\n  checkered = false,\n): CSSObject {\n  return {\n    // Base\n    // @todo: rename to \"--base-\"?\n    '--card-shadow-outline-color': base.shadow.outline,\n    '--card-shadow-umbra-color': base.shadow.umbra,\n    '--card-shadow-penumbra-color': base.shadow.penumbra,\n    '--card-shadow-ambient-color': base.shadow.ambient,\n    '--card-focus-ring-color': base.focusRing,\n\n    // Card\n    '--card-bg-color': color.bg,\n    '--card-bg-image': checkered\n      ? `repeating-conic-gradient(${color.bg} 0% 25%, ${color.bg2 || color.bg} 0% 50%)`\n      : undefined,\n    '--card-fg-color': color.fg,\n    '--card-border-color': color.border,\n    '--card-muted-fg-color': color.muted?.fg,\n    '--card-accent-fg-color': color.accent?.fg,\n    '--card-link-fg-color': color.link?.fg,\n    '--card-code-bg-color': color.code?.bg,\n    '--card-code-fg-color': color.code?.fg,\n    '--card-skeleton-color-from': color.skeleton?.from,\n    '--card-skeleton-color-to': color.skeleton?.to,\n\n    // @todo: deprecate\n    '--card-link-color': color.link?.fg,\n    '--card-hairline-soft-color': color.border,\n    '--card-hairline-hard-color': color.border,\n  }\n}\n", "import {css} from 'styled-components'\nimport {ThemeProps} from '../../styles'\nimport {_colorVarsStyle} from '../../styles/colorVars'\nimport {focusRingBorderStyle, focusRingStyle} from '../../styles/internal'\nimport {ButtonMode, ButtonTone} from '../../types'\nimport {CSSObject} from '../../types/styled'\n\n/**\n * @internal\n */\nexport function buttonBaseStyles(): ReturnType<typeof css> {\n  return css`\n    -webkit-font-smoothing: inherit;\n    appearance: none;\n    display: inline-flex;\n    align-items: center;\n    font: inherit;\n    border: 0;\n    outline: none;\n    user-select: none;\n    text-decoration: none;\n    border: 0;\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n    white-space: nowrap;\n    text-align: left;\n    position: relative;\n\n    & > span {\n      display: block;\n      flex: 1;\n      min-width: 0;\n      border-radius: inherit;\n    }\n\n    &::-moz-focus-inner {\n      border: 0;\n      padding: 0;\n    }\n  `\n}\n\nconst buttonTheme = {border: {width: 1}}\n\n/**\n * @internal\n */\nexport function buttonColorStyles(\n  props: {$mode: ButtonMode; $tone: ButtonTone} & ThemeProps,\n): CSSObject[] {\n  const {$mode, theme} = props\n  const {focusRing} = theme.sanity\n  const base = theme.sanity.color.base\n  const mode = theme.sanity.color.button[$mode] || theme.sanity.color.button.default\n  const color = mode[props.$tone] || mode.default\n  const border = {width: buttonTheme.border.width, color: 'var(--card-border-color)'}\n\n  return [\n    _colorVarsStyle(base, color.enabled),\n    {\n      backgroundColor: 'var(--card-bg-color)',\n      color: 'var(--card-fg-color)',\n      boxShadow: focusRingBorderStyle(border),\n      '&:disabled, &[data-disabled=\"true\"]': _colorVarsStyle(base, color.disabled),\n      \"&:not([data-disabled='true'])\": {\n        '&:focus': {\n          boxShadow: focusRingStyle({base, border, focusRing}),\n        },\n        '&:focus:not(:focus-visible)': {\n          boxShadow: focusRingBorderStyle(border),\n        },\n        '@media (hover: hover)': {\n          '&:hover': _colorVarsStyle(base, color.hovered),\n          '&:active': _colorVarsStyle(base, color.pressed),\n          '&[data-hovered]': _colorVarsStyle(base, color.hovered),\n        },\n        '&[data-selected]': _colorVarsStyle(base, color.pressed),\n      },\n    },\n    theme.sanity.styles?.button?.root,\n  ].filter(Boolean) as CSSObject[]\n}\n", "import {createElement, forwardRef, isValidElement, useMemo} from 'react'\nimport {isValidElementType} from 'react-is'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {ThemeProps} from '../../styles'\nimport {responsiveRadiusStyle, ResponsiveRadiusStyleProps} from '../../styles/internal'\nimport {useTheme} from '../../theme'\nimport {ButtonMode, ButtonTextAlign, ButtonTone, FlexJustify} from '../../types'\nimport {Box} from '../box'\nimport {Flex} from '../flex'\nimport {Spinner} from '../spinner'\nimport {Text} from '../text'\nimport {ResponsivePaddingProps, ResponsiveRadiusProps} from '../types'\nimport {buttonBaseStyles, buttonColorStyles} from './styles'\n\n/**\n * @public\n */\nexport interface ButtonProps extends ResponsivePaddingProps, ResponsiveRadiusProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  fontSize?: number | number[]\n  mode?: ButtonMode\n  icon?: React.ElementType | React.ReactNode\n  iconRight?: React.ElementType | React.ReactNode\n  justify?: FlexJustify | FlexJustify[]\n  /**\n   * @beta Do not use in production, as this might change.\n   */\n  loading?: boolean\n  selected?: boolean\n  space?: number | number[]\n  textAlign?: ButtonTextAlign\n  text?: React.ReactNode\n  tone?: ButtonTone\n  type?: 'button' | 'reset' | 'submit'\n}\n\nconst Root = styled.button<\n  {$mode: ButtonMode; $tone: ButtonTone} & ResponsiveRadiusStyleProps & ThemeProps\n>(responsiveRadiusStyle, buttonBaseStyles, buttonColorStyles)\n\nconst LoadingBox = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--card-bg-color);\n  border-radius: inherit;\n  z-index: 1;\n  box-shadow: inherit;\n`\n\n/**\n * @public\n */\nexport const Button = forwardRef(function Button(\n  props: ButtonProps & Omit<React.HTMLProps<HTMLButtonElement>, 'as'>,\n  ref: React.ForwardedRef<HTMLButtonElement>,\n) {\n  const {\n    children,\n    disabled,\n    fontSize,\n    icon,\n    iconRight,\n    justify: justifyProp = 'center',\n    loading,\n    mode = 'default',\n    padding: paddingProp = 3,\n    paddingX: paddingXProp,\n    paddingY: paddingYProp,\n    paddingTop: paddingTopProp,\n    paddingBottom: paddingBottomProp,\n    paddingLeft: paddingLeftProp,\n    paddingRight: paddingRightProp,\n    radius: radiusProp = 2,\n    selected,\n    space: spaceProp = 3,\n    text,\n    textAlign,\n    tone = 'default',\n    type = 'button',\n    ...restProps\n  } = props\n\n  const justify = useArrayProp(justifyProp)\n  const padding = useArrayProp(paddingProp)\n  const paddingX = useArrayProp(paddingXProp)\n  const paddingY = useArrayProp(paddingYProp)\n  const paddingTop = useArrayProp(paddingTopProp)\n  const paddingBottom = useArrayProp(paddingBottomProp)\n  const paddingLeft = useArrayProp(paddingLeftProp)\n  const paddingRight = useArrayProp(paddingRightProp)\n  const radius = useArrayProp(radiusProp)\n  const space = useArrayProp(spaceProp)\n\n  const theme = useTheme()\n\n  const boxProps = useMemo(\n    () => ({\n      // flex: 1,\n      padding,\n      paddingX,\n      paddingY,\n      paddingTop,\n      paddingBottom,\n      paddingLeft,\n      paddingRight,\n    }),\n    [padding, paddingX, paddingY, paddingTop, paddingBottom, paddingLeft, paddingRight],\n  )\n\n  return (\n    <Root\n      data-ui=\"Button\"\n      {...restProps}\n      $mode={mode}\n      $radius={radius}\n      $tone={tone}\n      data-disabled={Boolean(loading || disabled)}\n      data-selected={selected ? '' : undefined}\n      disabled={Boolean(loading || disabled)}\n      ref={ref}\n      type={type}\n    >\n      {Boolean(loading) && (\n        <LoadingBox>\n          <Spinner />\n        </LoadingBox>\n      )}\n\n      {(icon || text || iconRight) && (\n        <Box as=\"span\" {...boxProps}>\n          <Flex as=\"span\" justify={justify}>\n            {icon && (\n              <Text size={fontSize}>\n                {isValidElement(icon) && icon}\n                {isValidElementType(icon) && createElement(icon)}\n              </Text>\n            )}\n\n            {text && (\n              <Box\n                flex={iconRight ? 1 : undefined}\n                marginLeft={icon ? space : undefined}\n                marginRight={iconRight ? space : undefined}\n              >\n                <Text\n                  align={textAlign}\n                  size={fontSize}\n                  textOverflow=\"ellipsis\"\n                  weight={theme.sanity.button.textWeight}\n                >\n                  {text}\n                </Text>\n              </Box>\n            )}\n\n            {iconRight && (\n              <Text size={fontSize}>\n                {isValidElement(iconRight) && iconRight}\n                {isValidElementType(iconRight) && createElement(iconRight)}\n              </Text>\n            )}\n          </Flex>\n        </Box>\n      )}\n\n      {children && (\n        <Box as=\"span\" {...boxProps}>\n          {children}\n        </Box>\n      )}\n    </Root>\n  )\n})\n", "import {css} from 'styled-components'\nimport {ThemeProps} from '../../styles'\nimport {_colorVarsStyle} from '../../styles/colorVars'\nimport {focusRingBorderStyle, focusRingStyle} from '../../styles/focusRing'\nimport {CardStyleProps} from './types'\n\nexport function cardStyle(\n  props: CardStyleProps & ThemeProps,\n): Array<ReturnType<typeof css> | (() => ReturnType<typeof css>)> {\n  return [cardBaseStyle(props), cardColorStyle(props)]\n}\n\nexport function cardBaseStyle(props: CardStyleProps & ThemeProps): ReturnType<typeof css> {\n  const {$checkered, theme} = props\n  const space = theme.sanity.space\n\n  return css`\n    ${$checkered &&\n    css`\n      background-size: ${space[3]}px ${space[3]}px;\n      background-position: 50% 50%;\n      background-image: var(--card-bg-image);\n    `}\n\n    &[data-as='button'] {\n      -webkit-font-smoothing: inherit;\n      appearance: none;\n      outline: none;\n      font: inherit;\n      text-align: inherit;\n      border: 0;\n      width: -webkit-fill-available;\n      width: stretch;\n    }\n\n    /* &:is(a) */\n    &[data-as='a'] {\n      outline: none;\n      text-decoration: none;\n    }\n\n    /* &:is(pre) */\n    &[data-as='pre'] {\n      font: inherit;\n    }\n  `\n}\n\nexport function cardColorStyle(props: CardStyleProps & ThemeProps): ReturnType<typeof css> {\n  const {$checkered, $focusRing, theme} = props\n  const {focusRing} = theme.sanity\n  const {base, card, dark} = theme.sanity.color\n  const border = {width: 0, color: 'var(--card-border-color)'}\n\n  return css`\n    color-scheme: ${dark ? 'dark' : 'light'};\n\n    ${_colorVarsStyle(base, card.enabled, $checkered)}\n\n    background-color: var(--card-bg-color);\n    color: var(--card-fg-color);\n\n    /* &:is(button) */\n    &[data-as='button'] {\n      --card-focus-ring-box-shadow: none;\n\n      cursor: default;\n      box-shadow: var(--card-focus-ring-box-shadow);\n\n      &:disabled {\n        ${_colorVarsStyle(base, card.disabled, $checkered)}\n      }\n\n      &:not(:disabled) {\n        &[data-pressed] {\n          ${_colorVarsStyle(base, card.pressed, $checkered)}\n        }\n\n        &[data-selected] {\n          ${_colorVarsStyle(base, card.selected, $checkered)}\n        }\n\n        @media (hover: hover) {\n          &:not([data-pressed]):not([data-selected]) {\n            &[data-hovered],\n            &:hover {\n              ${_colorVarsStyle(base, card.hovered, $checkered)}\n            }\n\n            &:active {\n              ${_colorVarsStyle(base, card.pressed, $checkered)}\n            }\n          }\n        }\n\n        &:focus {\n          --card-focus-ring-box-shadow: ${$focusRing\n            ? focusRingStyle({base, border, focusRing})\n            : undefined};\n        }\n\n        &:focus:not(:focus-visible) {\n          --card-focus-ring-box-shadow: ${$focusRing ? focusRingBorderStyle(border) : undefined};\n        }\n      }\n    }\n\n    /* &:is(a) */\n    &[data-as='a'] {\n      cursor: pointer;\n      box-shadow: var(--card-focus-ring-box-shadow);\n\n      &[data-disabled] {\n        ${_colorVarsStyle(base, card.disabled, $checkered)}\n      }\n\n      &:not([data-disabled]) {\n        &[data-pressed] {\n          ${_colorVarsStyle(base, card.pressed, $checkered)}\n        }\n\n        &[data-selected] {\n          ${_colorVarsStyle(base, card.selected, $checkered)}\n        }\n\n        @media (hover: hover) {\n          &:not([data-pressed]):not([data-selected]) {\n            &[data-hovered],\n            &:hover {\n              ${_colorVarsStyle(base, card.hovered, $checkered)}\n            }\n\n            &:active {\n              ${_colorVarsStyle(base, card.pressed, $checkered)}\n            }\n          }\n        }\n\n        &:focus {\n          --card-focus-ring-box-shadow: ${$focusRing\n            ? focusRingStyle({base, border, focusRing})\n            : undefined};\n        }\n\n        &:focus:not(:focus-visible) {\n          --card-focus-ring-box-shadow: ${$focusRing ? focusRingBorderStyle(border) : undefined};\n        }\n      }\n    }\n\n    ${theme.sanity.styles?.card?.root}\n  `\n}\n", "import {forwardRef} from 'react'\nimport {isValidElementType} from 'react-is'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {\n  responsiveBorderStyle,\n  ResponsiveBorderStyleProps,\n  responsiveRadiusStyle,\n  ResponsiveRadiusStyleProps,\n  responsiveShadowStyle,\n  ResponsiveShadowStyleProps,\n} from '../../styles/internal'\nimport {ThemeColorProvider, ThemeColorSchemeKey, useRootTheme} from '../../theme'\nimport {CardTone} from '../../types'\nimport {Box, BoxProps} from '../box'\nimport {ResponsiveBorderProps, ResponsiveRadiusProps, ResponsiveShadowProps} from '../types'\nimport {cardStyle} from './styles'\nimport {CardStyleProps} from './types'\n\n/**\n * @public\n */\nexport interface CardProps\n  extends BoxProps,\n    ResponsiveBorderProps,\n    ResponsiveRadiusProps,\n    ResponsiveShadowProps {\n  /**\n   * Do not use in production.\n   * @beta\n   */\n  __unstable_checkered?: boolean\n  /**\n   * Do not use in production.\n   * @beta\n   */\n  __unstable_focusRing?: boolean\n  pressed?: boolean\n  scheme?: ThemeColorSchemeKey\n  tone?: CardTone\n}\n\nconst Root = styled(Box)<\n  CardStyleProps &\n    ResponsiveRadiusStyleProps &\n    ResponsiveBorderStyleProps &\n    ResponsiveShadowStyleProps\n>(responsiveBorderStyle, responsiveRadiusStyle, responsiveShadowStyle, cardStyle)\n\n/**\n * @public\n */\nexport const Card = forwardRef(function Card(\n  props: CardProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {\n    __unstable_checkered: checkered = false,\n    __unstable_focusRing: focusRing = false,\n    as: asProp,\n    border,\n    borderTop,\n    borderRight,\n    borderBottom,\n    borderLeft,\n    pressed,\n    radius = 0,\n    scheme,\n    selected,\n    shadow,\n    tone: toneProp = 'default',\n    ...restProps\n  } = props\n\n  const as = isValidElementType(asProp) ? asProp : 'div'\n  const rootTheme = useRootTheme()\n  const tone = toneProp === 'inherit' ? rootTheme.tone : toneProp\n\n  return (\n    <ThemeColorProvider scheme={scheme} tone={tone}>\n      <Root\n        data-as={typeof as === 'string' ? as : undefined}\n        data-scheme={rootTheme.scheme}\n        data-ui=\"Card\"\n        data-tone={tone}\n        {...restProps}\n        $border={useArrayProp(border)}\n        $borderTop={useArrayProp(borderTop)}\n        $borderRight={useArrayProp(borderRight)}\n        $borderBottom={useArrayProp(borderBottom)}\n        $borderLeft={useArrayProp(borderLeft)}\n        $checkered={checkered}\n        $focusRing={focusRing}\n        $radius={useArrayProp(radius)}\n        $shadow={useArrayProp(shadow)}\n        $tone={tone}\n        data-checkered={checkered ? '' : undefined}\n        data-pressed={pressed ? '' : undefined}\n        data-selected={selected ? '' : undefined}\n        forwardedAs={as}\n        ref={ref}\n        selected={selected}\n      />\n    </ThemeColorProvider>\n  )\n})\n", "import {css} from 'styled-components'\nimport {rem, ThemeProps} from '../../styles'\nimport {focusRingBorderStyle, focusRingStyle} from '../../styles/internal'\n\nexport function checkboxBaseStyles(): ReturnType<typeof css> {\n  return css`\n    position: relative;\n    display: inline-block;\n  `\n}\n\nexport function inputElementStyles(props: ThemeProps): ReturnType<typeof css> {\n  const {theme} = props\n  const color = theme.sanity.color.input\n  const {focusRing, input, radius} = theme.sanity\n\n  return css`\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    outline: none;\n    opacity: 0;\n    z-index: 1;\n    padding: 0;\n    margin: 0;\n\n    & + span {\n      position: relative;\n      display: block;\n      height: ${rem(input.checkbox.size)};\n      width: ${rem(input.checkbox.size)};\n      box-sizing: border-box;\n      box-shadow: ${focusRingBorderStyle({\n        color: color.default.enabled.border,\n        width: input.border.width,\n      })};\n      border-radius: ${rem(radius[2])};\n      line-height: 1;\n      background-color: ${color.default.enabled.bg};\n\n      & > svg {\n        display: block;\n        position: absolute;\n        opacity: 0;\n        height: 100%;\n        width: 100%;\n\n        & > path {\n          vector-effect: non-scaling-stroke;\n          stroke-width: 2 !important;\n        }\n      }\n    }\n\n    &:not(:disabled):focus + span {\n      box-shadow: ${focusRingStyle({\n        border: {width: input.border.width, color: color.default.enabled.border},\n        focusRing,\n      })};\n    }\n\n    &:not(:disabled):focus:not(:focus-visible) + span {\n      box-shadow: ${focusRingBorderStyle({\n        color: color.default.enabled.border,\n        width: input.border.width,\n      })};\n    }\n\n    &:checked + span > svg:first-child {\n      opacity: 1;\n    }\n\n    &[data-read-only] + span {\n      background-color: ${color.default.readOnly.bg};\n      box-shadow: ${focusRingBorderStyle({\n        width: input.border.width,\n        color: color.default.readOnly.border,\n      })};\n      color: ${color.default.readOnly.fg};\n    }\n\n    &:not([data-read-only]):disabled + span {\n      background-color: ${color.default.disabled.bg};\n      box-shadow: ${focusRingBorderStyle({\n        width: input.border.width,\n        color: color.default.disabled.border,\n      })};\n      color: ${color.default.disabled.fg};\n    }\n\n    &:indeterminate + span > svg:last-child {\n      opacity: 1;\n    }\n  `\n}\n", "import {CheckmarkIcon, RemoveIcon} from '@sanity/icons'\nimport {forwardRef, useEffect} from 'react'\nimport styled from 'styled-components'\nimport {useForwardedRef, useCustomValidity} from '../../hooks'\nimport {checkboxBaseStyles, inputElementStyles} from './styles'\n\n/**\n * @public\n */\nexport interface CheckboxProps {\n  indeterminate?: boolean\n  customValidity?: string\n}\n\nconst Root = styled.div(checkboxBaseStyles)\nconst Input = styled.input(inputElementStyles)\n\n/**\n * @public\n */\nexport const Checkbox = forwardRef(function Checkbox(\n  props: Omit<React.HTMLProps<HTMLInputElement>, 'as' | 'type'> & CheckboxProps,\n  forwardedRef: React.ForwardedRef<HTMLInputElement>,\n) {\n  const {\n    checked,\n    className,\n    disabled,\n    indeterminate,\n    customValidity,\n    readOnly,\n    style,\n    ...restProps\n  } = props\n  const ref = useForwardedRef(forwardedRef)\n\n  useCustomValidity(ref, customValidity)\n\n  useEffect(() => {\n    if (ref.current) {\n      // Set the indeterminate state\n      ref.current.indeterminate = indeterminate || false\n    }\n  }, [indeterminate, ref])\n\n  return (\n    <Root className={className} data-ui=\"Checkbox\" style={style}>\n      <Input\n        data-read-only={!disabled && readOnly ? '' : undefined}\n        {...restProps}\n        checked={checked}\n        disabled={disabled || readOnly}\n        type=\"checkbox\"\n        readOnly={readOnly}\n        ref={ref}\n      />\n      <span>\n        <CheckmarkIcon />\n        <RemoveIcon />\n      </span>\n    </Root>\n  )\n})\n", "import {css, ExecutionContext} from 'styled-components'\n\nfunction codeSyntaxHighlightingStyle({theme}: ExecutionContext) {\n  const color = theme.sanity.color.syntax\n\n  return {\n    '&.atrule': {color: color.atrule},\n    '&.attr-name': {color: color.attrName},\n    '&.attr-value': {color: color.attrValue},\n    '&.attribute': {color: color.attribute},\n    '&.boolean': {color: color.boolean},\n    '&.builtin': {color: color.builtin},\n    '&.cdata': {color: color.cdata},\n    '&.char': {color: color.char},\n    '&.class': {color: color.class},\n    '&.class-name': {color: color.className},\n    '&.comment': {color: color.comment},\n    '&.constant': {color: color.constant},\n    '&.deleted': {color: color.deleted},\n    '&.doctype': {color: color.doctype},\n    '&.entity': {color: color.entity},\n    '&.function': {color: color.function},\n    '&.hexcode': {color: color.hexcode},\n    '&.id': {color: color.id},\n    '&.important': {color: color.important},\n    '&.inserted': {color: color.inserted},\n    '&.keyword': {color: color.keyword},\n    '&.number': {color: color.number},\n    '&.operator': {color: color.operator},\n    '&.prolog': {color: color.prolog},\n    '&.property': {color: color.property},\n    '&.pseudo-class': {color: color.pseudoClass},\n    '&.pseudo-element': {color: color.pseudoElement},\n    '&.punctuation': {color: color.punctuation},\n    '&.regex': {color: color.regex},\n    '&.selector': {color: color.selector},\n    '&.string': {color: color.string},\n    '&.symbol': {color: color.symbol},\n    '&.tag': {color: color.tag},\n    '&.unit': {color: color.unit},\n    '&.url': {color: color.url},\n    '&.variable': {color: color.variable},\n  }\n}\n\nexport function codeBaseStyle(): ReturnType<typeof css> {\n  return css`\n    color: var(--card-code-fg-color);\n\n    & code {\n      font-family: inherit;\n\n      &.refractor .token {\n        ${codeSyntaxHighlightingStyle}\n      }\n    }\n\n    & a {\n      color: inherit;\n      text-decoration: underline;\n      border-radius: 1px;\n    }\n\n    & svg {\n      /* Certain popular CSS libraries changes the defaults for SVG display */\n      /* Make sure SVGs are rendered as inline elements */\n      display: inline;\n    }\n\n    & [data-sanity-icon] {\n      vertical-align: baseline;\n    }\n  `\n}\n", "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport {forwardRef} from 'react'\nimport Refractor from 'react-refractor'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {responsiveCodeFontStyle, ResponsiveFontStyleProps} from '../../styles/internal'\nimport {codeBaseStyle} from './styles'\n\n/**\n * @public\n */\nexport interface CodeProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  language?: string\n  size?: number | number[]\n  weight?: string\n}\n\nconst Root = styled.pre<ResponsiveFontStyleProps>(codeBaseStyle, responsiveCodeFontStyle)\n\n/**\n * @public\n */\nexport const Code = forwardRef(function Code(\n  props: CodeProps & Omit<React.HTMLProps<HTMLElement>, 'as' | 'size'>,\n  ref: React.ForwardedRef<HTMLElement>,\n) {\n  const {children, language: languageProp, size = 2, weight, ...restProps} = props\n  const language = typeof languageProp === 'string' ? languageProp : undefined\n  const registered = language ? Refractor.hasLanguage(language as any) : false\n\n  return (\n    <Root data-ui=\"Code\" {...restProps} $size={useArrayProp(size)} $weight={weight} ref={ref}>\n      {!(language && registered) && <code>{children}</code>}\n      {language && registered && <Refractor inline language={language} value={String(children)} />}\n    </Root>\n  )\n})\n", "import {rem, _responsive, ThemeProps} from '../../styles'\nimport {CSSObject} from '../../types/styled'\nimport {ResponsiveWidthStyleProps} from './types'\n\nconst BASE_STYLE: CSSObject = {\n  width: '100%',\n  margin: '0 auto',\n}\n\nexport function containerBaseStyle(): CSSObject {\n  return BASE_STYLE\n}\n\nexport function responsiveContainerWidthStyle(\n  props: ResponsiveWidthStyleProps & ThemeProps,\n): CSSObject[] {\n  const {theme} = props\n  const {container, media} = theme.sanity\n\n  return _responsive(media, props.$width, (val) => ({\n    maxWidth: val === 'auto' ? 'none' : rem(container[val]),\n  }))\n}\n", "import {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {Box, BoxProps} from '../box'\nimport {ResponsiveWidthProps} from '../types'\nimport {containerBaseStyle, responsiveContainerWidthStyle} from './styles'\nimport {ResponsiveWidthStyleProps} from './types'\n\n/**\n * @public\n */\nexport interface ContainerProps extends BoxProps, ResponsiveWidthProps {}\n\nconst Root = styled(Box)<ResponsiveWidthStyleProps>(\n  containerBaseStyle,\n  responsiveContainerWidthStyle,\n)\n\n/**\n * @public\n */\nexport const Container = forwardRef(function Container(\n  props: ContainerProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'width'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {as, width = 2, ...restProps} = props\n\n  return (\n    <Root\n      data-ui=\"Container\"\n      {...restProps}\n      $width={useArrayProp(width)}\n      forwardedAs={as}\n      ref={ref}\n    />\n  )\n})\n", "import {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {responsiveGridStyle, ResponsiveGridStyleProps} from '../../styles/internal'\nimport {Box, BoxProps} from '../box'\nimport {ResponsiveGridProps} from '../types'\n\n/**\n * @public\n */\nexport interface GridProps extends Omit<BoxProps, 'display'>, ResponsiveGridProps {}\n\nconst Root = styled(Box)<ResponsiveGridStyleProps>(responsiveGridStyle)\n\n/**\n * @public\n */\nexport const Grid = forwardRef(function Grid(\n  props: GridProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'rows'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {as, autoRows, autoCols, autoFlow, columns, gap, gapX, gapY, rows, children, ...restProps} =\n    props\n\n  return (\n    <Root\n      data-as={typeof as === 'string' ? as : undefined}\n      data-ui=\"Grid\"\n      {...restProps}\n      $autoRows={useArrayProp(autoRows)}\n      $autoCols={useArrayProp(autoCols)}\n      $autoFlow={useArrayProp(autoFlow)}\n      $columns={useArrayProp(columns)}\n      $gap={useArrayProp(gap)}\n      $gapX={useArrayProp(gapX)}\n      $gapY={useArrayProp(gapY)}\n      $rows={useArrayProp(rows)}\n      forwardedAs={as}\n      ref={ref}\n    >\n      {children}\n    </Root>\n  )\n})\n", "import {css} from 'styled-components'\nimport {ThemeProps} from '../../styles'\nimport {HeadingStyleProps} from './types'\n\nexport function headingBaseStyle(props: HeadingStyleProps & ThemeProps): ReturnType<typeof css> {\n  const {$accent, $muted, theme} = props\n\n  return css`\n    ${$accent &&\n    css`\n      color: var(--card-accent-fg-color);\n    `}\n\n    ${$muted &&\n    css`\n      color: var(--card-muted-fg-color);\n    `}\n\n    & code {\n      font-family: ${theme.sanity.fonts.code.family};\n      border-radius: 1px;\n    }\n\n    & a {\n      text-decoration: none;\n      border-radius: 1px;\n      color: var(--card-link-color);\n      outline: none;\n\n      @media (hover: hover) {\n        &:hover {\n          text-decoration: underline;\n        }\n      }\n\n      &:focus {\n        box-shadow:\n          0 0 0 1px var(--card-bg-color),\n          0 0 0 3px var(--card-focus-ring-color);\n      }\n\n      &:focus:not(:focus-visible) {\n        box-shadow: none;\n      }\n    }\n\n    & svg {\n      /* Certain popular CSS libraries changes the defaults for SVG display */\n      /* Make sure SVGs are rendered as inline elements */\n      display: inline;\n    }\n\n    & [data-sanity-icon] {\n      vertical-align: baseline;\n    }\n  `\n}\n", "import {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {\n  ResponsiveFontStyleProps,\n  responsiveHeadingFont,\n  responsiveTextAlignStyle,\n  ResponsiveTextAlignStyleProps,\n} from '../../styles/internal'\nimport {ThemeFontWeightKey} from '../../theme'\nimport {TextAlign} from '../../types'\nimport {headingBaseStyle} from './styles'\nimport {HeadingStyleProps} from './types'\n\n/**\n * @public\n */\nexport interface HeadingProps {\n  accent?: boolean\n  align?: TextAlign | TextAlign[]\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  muted?: boolean\n  size?: number | number[]\n  /**\n   * Controls how overflowing text is treated.\n   * Use `textOverflow=\"ellipsis\"` to render text as a single line which is concatenated with a `…` symbol.\n   * @beta\n   */\n  textOverflow?: 'ellipsis'\n  weight?: ThemeFontWeightKey\n}\n\nconst Root = styled.div<\n  HeadingStyleProps & ResponsiveTextAlignStyleProps & ResponsiveFontStyleProps\n>(headingBaseStyle, responsiveTextAlignStyle, responsiveHeadingFont)\n\nconst SpanWithTextOverflow = styled.span`\n  display: block;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  overflow: clip;\n`\n\n/**\n * @public\n */\nexport const Heading = forwardRef(function Heading(\n  props: HeadingProps & Omit<React.HTMLProps<HTMLElement>, 'as' | 'size'>,\n  ref: React.ForwardedRef<HTMLElement>,\n) {\n  const {\n    accent = false,\n    align,\n    children: childrenProp,\n    muted = false,\n    size = 2,\n    textOverflow,\n    weight,\n    ...restProps\n  } = props\n\n  let children = childrenProp\n\n  if (textOverflow === 'ellipsis') {\n    children = <SpanWithTextOverflow>{children}</SpanWithTextOverflow>\n  }\n\n  return (\n    <Root\n      data-ui=\"Heading\"\n      {...restProps}\n      $accent={accent}\n      $align={useArrayProp(align)}\n      $muted={muted}\n      $size={useArrayProp(size)}\n      $weight={weight}\n      ref={ref}\n    >\n      <span>{children}</span>\n    </Root>\n  )\n})\n", "import {rem, _responsive, ThemeProps} from '../../styles'\nimport {CSSObject} from '../../types/styled'\nimport {ResponsiveInlineSpaceStyleProps} from './types'\n\nexport function inlineBaseStyle(): CSSObject {\n  return {\n    lineHeight: 0,\n\n    '&&:not([hidden])': {\n      display: 'block',\n    },\n\n    '& > div': {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    },\n  }\n}\n\nexport function inlineSpaceStyle(props: ResponsiveInlineSpaceStyleProps & ThemeProps): CSSObject[] {\n  const {theme} = props\n\n  return _responsive(theme.sanity.media, props.$space, (spaceIndex) => {\n    const space = rem(theme.sanity.space[spaceIndex])\n\n    return {\n      margin: `-${space} 0 0 -${space}`,\n      '& > div': {padding: `${space} 0 0 ${space}`},\n    }\n  })\n}\n", "import {forwardRef, useMemo} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {Box, BoxProps} from '../box'\nimport {childrenToElementArray} from '../helpers'\nimport {inlineBaseStyle, inlineSpaceStyle} from './styles'\nimport {ResponsiveInlineSpaceStyleProps} from './types'\n\n/**\n * @public\n */\nexport interface InlineProps extends Omit<BoxProps, 'display'> {\n  space?: number | number[]\n}\n\nconst Root = styled(Box)<ResponsiveInlineSpaceStyleProps>(inlineBaseStyle, inlineSpaceStyle)\n\n/**\n * @public\n */\nexport const Inline = forwardRef(function Inline(\n  props: InlineProps & React.HTMLProps<HTMLDivElement>,\n  ref,\n) {\n  const {as, children: childrenProp, space, ...restProps} = props\n\n  const children = useMemo(\n    () =>\n      childrenToElementArray(childrenProp)\n        .filter(Boolean)\n        .map((child, idx) => <div key={idx}>{child}</div>),\n    [childrenProp],\n  )\n\n  return (\n    <Root\n      data-ui=\"Inline\"\n      {...restProps}\n      $space={useArrayProp(space)}\n      forwardedAs={as}\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      ref={ref as any}\n    >\n      {children}\n    </Root>\n  )\n})\n", "import {forwardRef} from 'react'\nimport styled, {css} from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {responsiveRadiusStyle, ResponsiveRadiusStyleProps} from '../../styles/internal'\nimport {Box} from '../box'\nimport {Code} from '../code'\n\n/**\n * @public\n */\nexport interface KBDProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  fontSize?: number | number[]\n  padding?: number | number[]\n  radius?: number | number[]\n}\n\nfunction kbdStyle() {\n  return css`\n    background: var(--card-bg-color);\n    font: inherit;\n    box-shadow: inset 0 0 0 1px var(--card-hairline-hard-color);\n\n    &:not([hidden]) {\n      display: inline-block;\n    }\n  `\n}\n\nconst Root = styled.kbd<ResponsiveRadiusStyleProps>(responsiveRadiusStyle, kbdStyle)\n\n/**\n * @public\n */\nexport const KBD = forwardRef(function KBD(\n  props: KBDProps & Omit<React.HTMLProps<HTMLElement>, 'as' | 'ref' | 'size'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {children, fontSize = 1, padding = 1, radius = 2, ...restProps} = props\n\n  return (\n    <Root data-ui=\"KBD\" {...restProps} $radius={useArrayProp(radius)} ref={ref}>\n      <Box as=\"span\" padding={padding}>\n        <Code as=\"span\" muted size={fontSize}>\n          {children}\n        </Code>\n      </Box>\n    </Root>\n  )\n})\n", "import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\nimport {BoundaryElementContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/boundaryElement')\n\nglobalScope[key] = globalScope[key] || createContext<BoundaryElementContextValue | null>(null)\n\nexport const BoundaryElementContext: React.Context<BoundaryElementContextValue | null> =\n  globalScope[key]\n", "import {useMemo} from 'react'\nimport {BoundaryElementContext} from './boundaryElementContext'\nimport {BoundaryElementContextValue} from './types'\n\n/**\n * @public\n */\nexport interface BoundaryElementProviderProps {\n  children: React.ReactNode\n  element: HTMLElement | null\n}\n\n/**\n * @public\n */\nexport function BoundaryElementProvider(props: BoundaryElementProviderProps): React.ReactElement {\n  const {children, element} = props\n  const value: BoundaryElementContextValue = useMemo(() => ({version: 0.0, element}), [element])\n\n  return <BoundaryElementContext.Provider value={value}>{children}</BoundaryElementContext.Provider>\n}\n", "import {useContext} from 'react'\nimport {isRecord} from '../../lib/isRecord'\nimport {BoundaryElementContext} from './boundaryElementContext'\nimport {BoundaryElementContextValue} from './types'\n\nconst DEFAULT_VALUE: BoundaryElementContextValue = {\n  version: 0.0,\n  element: null,\n}\n\n/**\n * @public\n */\nexport function useBoundaryElement(): BoundaryElementContextValue {\n  const value = useContext(BoundaryElementContext)\n\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (value && (!isRecord(value) || value.version !== 0.0)) {\n    throw new Error('useBoundaryElement(): the context value is not compatible')\n  }\n\n  return value || DEFAULT_VALUE\n}\n", "export function findMaxBreakpoints(media: number[], width: number): number[] {\n  const ret: number[] = []\n\n  for (let i = 0; i < media.length; i += 1) {\n    const bp = media[i]\n\n    if (bp > width) {\n      ret.push(i)\n    }\n  }\n\n  return ret\n}\n\nexport function findMinBreakpoints(media: number[], width: number): number[] {\n  const ret: number[] = []\n\n  for (let i = 0; i < media.length; i += 1) {\n    const bp = media[i]\n\n    if (bp <= width) {\n      ret.push(i)\n    }\n  }\n\n  return ret\n}\n", "import {forwardRef, useCallback, useMemo, useState} from 'react'\nimport {useElementSize, useForwardedRef} from '../../hooks'\nimport {useTheme} from '../../theme'\nimport {findMaxBreakpoints, findMinBreakpoints} from './helpers'\n\n/**\n * DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface MediaQueryProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  media?: number[]\n}\n\n/**\n * DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const ElementQuery = forwardRef(function ElementQuery(\n  props: MediaQueryProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'media'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const theme = useTheme()\n  const {children, media = theme.sanity.media, ...restProps} = props\n\n  const forwardedRef = useForwardedRef(ref)\n  const [element, setElement] = useState<HTMLDivElement | null>(null)\n  const elementSize = useElementSize(element)\n  const width = useMemo(() => elementSize?.border.width ?? window.innerWidth, [elementSize])\n\n  const max = useMemo(() => findMaxBreakpoints(media, width), [media, width])\n  const min = useMemo(() => findMinBreakpoints(media, width), [media, width])\n\n  const setRef = useCallback(\n    (el: HTMLDivElement | null) => {\n      forwardedRef.current = el\n      setElement(el)\n    },\n    [forwardedRef],\n  )\n\n  return (\n    <div\n      data-ui=\"ElementQuery\"\n      {...restProps}\n      data-eq-max={max.length ? max.join(' ') : undefined}\n      data-eq-min={min.length ? min.join(' ') : undefined}\n      ref={setRef}\n    >\n      {children}\n    </div>\n  )\n})\n", "import {Component, PropsWithChildren} from 'react'\nimport {Code} from '../primitives/code'\n\n/**\n * DO NOT USE IN PRODUCTION\n * @beta\n */\nexport type ErrorBoundaryProps = PropsWithChildren<{\n  onCatch: (params: {error: Error; info: React.ErrorInfo}) => void\n}>\n\n/**\n * DO NOT USE IN PRODUCTION\n * @beta\n */\nexport interface ErrorBoundaryState {\n  error: Error | null\n}\n\n/**\n * DO NOT USE IN PRODUCTION\n * @beta\n */\nexport class ErrorBoundary extends Component<ErrorBoundaryProps, ErrorBoundaryState> {\n  state: ErrorBoundaryState = {error: null}\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    // Update state so the next render will show the fallback UI.\n    return {error}\n  }\n\n  componentDidCatch(error: Error, info: React.ErrorInfo): void {\n    this.props.onCatch({error, info})\n  }\n\n  render(): React.ReactNode {\n    const {error} = this.state\n\n    if (error) {\n      const message = typeof error?.message === 'string' ? error.message : 'Error'\n\n      return <Code>{message}</Code>\n    }\n\n    return this.props.children\n  }\n}\n", "import {isRecord} from '../../lib/isRecord'\nimport {LayerContextValue} from './types'\n\nexport function getLayerContext(contextValue: LayerContextValue): LayerContextValue {\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (!isRecord(contextValue) || contextValue.version !== 0.0) {\n    throw new Error('the context value is not compatible')\n  }\n\n  if (!contextValue) {\n    throw new Error('components using `useLayer()` should be wrapped in a <LayerProvider>.')\n  }\n\n  if (contextValue.version === 0.0) {\n    return contextValue\n  }\n\n  throw new Error('could not get layer context')\n}\n", "import {Context, createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\nimport {LayerContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/layer')\n\nglobalScope[key] = globalScope[key] || createContext<LayerContextValue | null>(null)\n\nexport const LayerContext: Context<LayerContextValue | null> = globalScope[key]\n", "import {useContext} from 'react'\nimport {getLayerContext} from './getLayerContext'\nimport {LayerContext} from './layerContext'\nimport {LayerContextValue} from './types'\n\n/**\n * @public\n */\nexport function useLayer(): LayerContextValue {\n  const value = useContext(LayerContext)\n\n  if (!value) {\n    throw new Error('useLayer(): missing context value')\n  }\n\n  try {\n    return getLayerContext(value)\n  } catch (err) {\n    if (err instanceof Error) {\n      throw new Error(`useLayer(): ${err.message}`)\n    } else {\n      throw new Error(`useLayer(): ${err}`)\n    }\n  }\n}\n", "/**\n * @internal\n */\nexport function _raf(fn: () => void): () => void {\n  const frameId = requestAnimationFrame(fn)\n\n  return () => {\n    cancelAnimationFrame(frameId)\n  }\n}\n\n/**\n * @internal\n */\nexport function _raf2(fn: () => void): () => void {\n  let innerDispose: (() => void) | null = null\n\n  const outerDispose = _raf(() => {\n    innerDispose = _raf(fn)\n  })\n\n  return () => {\n    if (innerDispose) innerDispose()\n\n    outerDispose()\n  }\n}\n", "/**\n * @internal\n */\nexport function _isEnterToClickElement(element: HTMLElement): boolean {\n  return isHTMLAnchorElement(element) || isHTMLButtonElement(element)\n}\n\n/**\n * @internal\n */\nexport function isHTMLElement(node: unknown): node is HTMLElement {\n  return node instanceof Node && node.nodeType === Node.ELEMENT_NODE\n}\n\n/**\n * @internal\n */\nexport function isHTMLAnchorElement(element: unknown): element is HTMLAnchorElement {\n  return isHTMLElement(element) && element.nodeName === 'A'\n}\n\n/**\n * @internal\n */\nexport function isHTMLInputElement(element: unknown): element is HTMLInputElement {\n  return isHTMLElement(element) && element.nodeName === 'INPUT'\n}\n\n/**\n * @internal\n */\nexport function isHTMLButtonElement(element: unknown): element is HTMLButtonElement {\n  return isHTMLElement(element) && element.nodeName === 'BUTTON'\n}\n\n/**\n * @internal\n */\nexport function isHTMLSelectElement(element: unknown): element is HTMLSelectElement {\n  return isHTMLElement(element) && element.nodeName === 'SELECT'\n}\n\n/**\n * @internal\n */\nexport function isHTMLTextAreaElement(element: unknown): element is HTMLTextAreaElement {\n  return isHTMLElement(element) && element.nodeName === 'TEXTAREA'\n}\n\n/**\n * @internal\n */\nexport function containsOrEqualsElement(element: HTMLElement, node: Node): boolean {\n  return element.contains(node) || element === node\n}\n", "import {\n  isHTMLElement,\n  isHTMLAnchorElement,\n  isHTMLInputElement,\n  isHTMLButtonElement,\n  isHTMLSelectElement,\n  isHTMLTextAreaElement,\n} from './element'\n\n// export const globalFocusState = {\n//   IgnoreUtilFocusChanges: false,\n// }\n\n/**\n * @internal\n */\nexport function _hasFocus(element: HTMLElement): boolean {\n  return Boolean(document.activeElement) && element.contains(document.activeElement)\n}\n\n/**\n * @internal\n */\nexport function isFocusable(element: HTMLElement): boolean {\n  if (\n    element.tabIndex > 0 ||\n    (element.tabIndex === 0 && element.getAttribute('tabIndex') !== null)\n  ) {\n    return true\n  }\n\n  if (isHTMLAnchorElement(element)) {\n    return Boolean(element.href) && element.rel !== 'ignore'\n  }\n\n  if (isHTMLInputElement(element)) {\n    return element.type !== 'hidden' && element.type !== 'file' && !element.disabled\n  }\n\n  if (\n    isHTMLButtonElement(element) ||\n    isHTMLSelectElement(element) ||\n    isHTMLTextAreaElement(element)\n  ) {\n    return !element.disabled\n  }\n\n  return false\n}\n\n/**\n * @internal\n */\nexport function attemptFocus(element: HTMLElement): boolean {\n  if (!isFocusable(element)) {\n    return false\n  }\n\n  // globalFocusState.IgnoreUtilFocusChanges = true\n\n  try {\n    element.focus()\n  } catch (_) {\n    // ignore\n  }\n\n  // globalFocusState.IgnoreUtilFocusChanges = false\n\n  return document.activeElement === element\n}\n\n/**\n * @internal\n */\nexport function focusFirstDescendant(element: HTMLElement): boolean {\n  for (let i = 0; i < element.childNodes.length; i++) {\n    const child = element.childNodes[i]\n\n    if (isHTMLElement(child) && (attemptFocus(child) || focusFirstDescendant(child))) {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * @internal\n */\nexport function focusLastDescendant(element: HTMLElement): boolean {\n  for (let i = element.childNodes.length - 1; i >= 0; i--) {\n    const child = element.childNodes[i]\n\n    if (isHTMLElement(child) && (attemptFocus(child) || focusLastDescendant(child))) {\n      return true\n    }\n  }\n\n  return false\n}\n", "/**\n * @internal\n */\nexport function _isScrollable(el: Node): boolean {\n  if (!(el instanceof Element)) return false\n\n  const style = window.getComputedStyle(el)\n\n  return (\n    style.overflowX.includes('auto') ||\n    style.overflowX.includes('scroll') ||\n    style.overflowY.includes('auto') ||\n    style.overflowY.includes('scroll')\n  )\n}\n", "import {useCallback, useContext, useEffect, useMemo, useState} from 'react'\nimport {useMediaIndex, useArrayProp} from '../../hooks'\nimport {getLayerContext} from './getLayerContext'\nimport {LayerContext} from './layerContext'\nimport {LayerContextValue} from './types'\n\n/**\n * @public\n */\nexport interface LayerProviderProps {\n  children?: React.ReactNode\n  zOffset?: number | number[]\n}\n\n/**\n * @public\n */\nexport function LayerProvider(props: LayerProviderProps): React.ReactElement {\n  const {children, zOffset: zOffsetProp = 0} = props\n\n  // Get parent context values\n  const parentContextValue = useContext(LayerContext)\n  const parent = parentContextValue && getLayerContext(parentContextValue)\n  const parentRegisterChild = parent?.registerChild\n  const parentLevel = parent?.level ?? 0\n\n  // Get level\n  const level = parentLevel + 1\n\n  // Get z-index offset\n  const zOffset = useArrayProp(zOffsetProp)\n\n  // Get responsive z-index value\n  const maxMediaIndex = zOffset.length - 1\n  const mediaIndex = Math.min(useMediaIndex(), maxMediaIndex)\n  const zIndex = parent ? parent.zIndex + zOffset[mediaIndex] : zOffset[mediaIndex]\n\n  // A state value that is used to keep track of the number of child layers on each level\n  const [, setChildLayers] = useState<Record<number, number>>({})\n\n  // A state value that is used to keep track of the number of child levels\n  const [size, setSize] = useState(0)\n\n  const isTopLayer = size === 0\n\n  const registerChild = useCallback(\n    (childLevel?: number) => {\n      // Register child layers to the parent layer\n      const parentDispose = parentRegisterChild?.(childLevel)\n\n      if (childLevel !== undefined) {\n        setChildLayers((state) => {\n          const prevLen = state[childLevel] ?? 0\n          const nextState = {...state, [childLevel]: prevLen + 1}\n\n          setSize(Object.keys(nextState).length)\n\n          return nextState\n        })\n      } else {\n        // Legacy behavior: if no child level is provided, increment the size by 1\n        setSize((v) => v + 1)\n      }\n\n      return () => {\n        if (childLevel !== undefined) {\n          setChildLayers((state) => {\n            const nextState = {...state}\n\n            if (nextState[childLevel] === 1) {\n              delete nextState[childLevel]\n\n              setSize(Object.keys(nextState).length)\n            } else {\n              nextState[childLevel] -= 1\n            }\n\n            return nextState\n          })\n        } else {\n          // Legacy behavior: if no child level is provided, decrement the size by 1\n          setSize((v) => v - 1)\n        }\n\n        parentDispose?.()\n      }\n    },\n    [parentRegisterChild],\n  )\n\n  // Register this layer on mount\n  useEffect(() => parentRegisterChild?.(level), [level, parentRegisterChild])\n\n  const value: LayerContextValue = useMemo(\n    () => ({\n      version: 0.0,\n      isTopLayer,\n      level,\n      registerChild,\n      size,\n      zIndex,\n    }),\n    [isTopLayer, level, registerChild, size, zIndex],\n  )\n\n  return <LayerContext.Provider value={value}>{children}</LayerContext.Provider>\n}\n", "import {FocusEvent, forwardRef, useCallback, useEffect, useRef} from 'react'\nimport styled from 'styled-components'\nimport {EMPTY_RECORD} from '../../constants'\nimport {containsOrEqualsElement, isHTMLElement} from '../../helpers'\nimport {useForwardedRef} from '../../hooks'\nimport {LayerProvider} from './layerProvider'\nimport {useLayer} from './useLayer'\n\n/**\n * @public\n */\nexport interface LayerProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  /** A callback that fires when the layer becomes the top layer when it was not the top layer before. */\n  onActivate?: (props: {activeElement: HTMLElement | null}) => void\n  zOffset?: number | number[]\n}\n\ninterface LayerChildrenProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  onActivate?: LayerProps['onActivate']\n}\n\nconst Root = styled.div({position: 'relative'})\n\nconst LayerChildren = forwardRef(function LayerChildren(\n  props: LayerChildrenProps & Omit<React.HTMLProps<HTMLDivElement>, 'as'>,\n  ref: React.Ref<HTMLDivElement>,\n) {\n  const {children, onActivate, onFocus, style = EMPTY_RECORD, ...restProps} = props\n  const {zIndex, isTopLayer} = useLayer()\n  const lastFocusedRef = useRef<HTMLElement | null>(null)\n  const forwardedRef = useForwardedRef(ref)\n  const isTopLayerRef = useRef<boolean>(isTopLayer)\n\n  // When the layer very first mounts, it will be the top layer, but we don't want to fire\n  // the callback in that case. We use a ref to track the previous value of isTopLayer to\n  // determine if the layer has become the top layer since the last render.\n  useEffect(() => {\n    const becameTopLayer = isTopLayerRef.current !== isTopLayer && isTopLayer\n\n    if (becameTopLayer) {\n      onActivate?.({activeElement: lastFocusedRef.current})\n    }\n\n    isTopLayerRef.current = isTopLayer\n  }, [isTopLayer, onActivate])\n\n  const handleFocus = useCallback(\n    (event: FocusEvent<HTMLDivElement, Element>) => {\n      // Call the user-provided onFocus handler if any\n      onFocus?.(event)\n\n      const rootElement = forwardedRef.current\n      const target = document.activeElement\n\n      if (!isTopLayer || !rootElement || !target) return\n\n      if (isHTMLElement(target) && containsOrEqualsElement(rootElement, target)) {\n        lastFocusedRef.current = target\n      }\n    },\n    [forwardedRef, isTopLayer, onFocus],\n  )\n\n  return (\n    <Root\n      {...restProps}\n      data-ui=\"Layer\"\n      onFocus={handleFocus}\n      ref={forwardedRef}\n      style={{...style, zIndex}}\n    >\n      {children}\n    </Root>\n  )\n})\n\n/**\n * @public\n */\nexport const Layer = forwardRef(function Layer(\n  props: LayerProps & Omit<React.HTMLProps<HTMLDivElement>, 'as'>,\n  ref: React.Ref<HTMLDivElement>,\n) {\n  const {children, zOffset = 1, ...restProps} = props\n\n  return (\n    <LayerProvider zOffset={zOffset}>\n      <LayerChildren {...restProps} ref={ref}>\n        {children}\n      </LayerChildren>\n    </LayerProvider>\n  )\n})\n", "import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\nimport {PortalContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/portal')\nconst elementKey = Symbol.for('@sanity/ui/context/portal/element')\n\nglobalScope[elementKey] = null\n\nexport const defaultContextValue: PortalContextValue = {\n  version: 0.0,\n  boundaryElement: null,\n  get element() {\n    if (typeof document === 'undefined') {\n      return null\n    }\n\n    if (globalScope[elementKey]) {\n      return globalScope[elementKey]\n    }\n\n    globalScope[elementKey] = document.createElement('div')\n    globalScope[elementKey].setAttribute('data-portal', '')\n\n    document.body.appendChild(globalScope[elementKey])\n\n    return globalScope[elementKey]\n  },\n}\n\nglobalScope[key] = globalScope[key] || createContext<PortalContextValue>(defaultContextValue)\n\nexport const PortalContext: React.Context<PortalContextValue> = globalScope[key]\n", "import {useContext} from 'react'\nimport {isRecord} from '../../lib/isRecord'\nimport {PortalContext} from './portalContext'\nimport {PortalContextValue} from './types'\n\n/**\n * @public\n */\nexport function usePortal(): PortalContextValue {\n  const value = useContext(PortalContext)\n\n  if (!value) {\n    throw new Error('usePortal(): missing context value')\n  }\n\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (!isRecord(value) || value.version !== 0.0) {\n    throw new Error('usePortal(): the context value is not compatible')\n  }\n\n  return value\n}\n", "import {createPortal} from 'react-dom'\nimport {usePortal} from './usePortal'\n\n/**\n * @public\n */\nexport interface PortalProps {\n  children: React.ReactNode\n  /**\n   * @beta This API might change. DO NOT USE IN PRODUCTION.\n   */\n  __unstable_name?: string\n}\n\n/**\n * @public\n */\nexport function Portal(props: PortalProps): React.ReactPortal | null {\n  const {children, __unstable_name: name} = props\n  const portal = usePortal()\n  const portalElement =\n    (name ? portal.elements && portal.elements[name] : portal.element) || portal.elements?.default\n\n  if (!portalElement) {\n    return null\n  }\n\n  return createPortal(children, portalElement)\n}\n", "import {useRef} from 'react'\n\n/**\n * This is a React hook to make sure that a record identity is the same on every render. Uses strict\n * equality comparison (eg by identity), and only goes one level deep.\n *\n * @internal\n */\ntype Comparable = Record<string | number | symbol, unknown> | undefined | null\n\nexport function useUnique<ValueType extends Comparable = Comparable>(value: ValueType): ValueType {\n  const valueRef = useRef<ValueType>(value)\n\n  if (!_isEqual(valueRef.current, value)) {\n    valueRef.current = value\n  }\n\n  return valueRef.current\n}\n\nfunction _isEqual(objA: Comparable, objB: Comparable): boolean {\n  if (!objA || !objB) {\n    return objA === objB\n  }\n\n  const keysA = Object.keys(objA)\n  const keysB = Object.keys(objB)\n\n  if (keysA.length !== keysB.length) {\n    return false\n  }\n\n  return keysA.every((key) => objA[key] === objB[key])\n}\n", "import {useMemo} from 'react'\nimport {useUnique} from '../../hooks/_internal'\nimport {PortalContext} from './portalContext'\nimport {PortalContextValue} from './types'\n\n/**\n * @public\n */\nexport interface PortalProviderProps {\n  /**\n   * @deprecated Use `<BoundaryElementProvider element={...} />` instead\n   */\n  boundaryElement?: HTMLElement | null\n  children: React.ReactNode\n  element?: HTMLElement | null\n  /**\n   * @beta\n   */\n  __unstable_elements?: Record<string, HTMLElement | null | undefined>\n}\n\nconst __BROWSER__ = typeof document !== 'undefined'\n\n/**\n * @public\n */\nexport function PortalProvider(props: PortalProviderProps): React.ReactElement {\n  const {boundaryElement, children, element, __unstable_elements: elementsProp} = props\n  const elements = useUnique(elementsProp)\n\n  const value: PortalContextValue = useMemo(() => {\n    return {\n      version: 0.0,\n      boundaryElement: boundaryElement || null,\n      element: element || (__BROWSER__ && document.body) || null,\n      elements,\n    }\n  }, [boundaryElement, element, elements])\n\n  return <PortalContext.Provider value={value}>{children}</PortalContext.Provider>\n}\n", "import {forwardRef} from 'react'\nimport styled from 'styled-components'\n\n/**\n * @public\n */\nexport interface SrOnlyProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  children?: React.ReactNode\n}\n\nconst Root = styled.div`\n  display: block;\n  width: 0;\n  height: 0;\n  position: absolute;\n  overflow: hidden;\n  overflow: clip;\n`\n\n/**\n * @public\n */\nexport const SrOnly = forwardRef(function SrOnly(\n  props: SrOnlyProps & Omit<React.HTMLProps<HTMLDivElement>, 'aria-hidden' | 'as'>,\n  ref: React.Ref<HTMLDivElement>,\n) {\n  const {as, children} = props\n\n  return (\n    <Root aria-hidden as={as} data-ui=\"SrOnly\" ref={ref}>\n      {children}\n    </Root>\n  )\n})\n", "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport {forwardRef, useEffect, useMemo, useRef, useState} from 'react'\nimport styled from 'styled-components'\nimport {_isScrollable} from '../../helpers'\nimport {useForwardedRef} from '../../hooks'\nimport {_ResizeObserver} from '../../observers'\nimport {StackProps} from '../../primitives'\nimport {useTheme} from '../../theme'\n\n/**\n * @beta\n */\nexport interface VirtualListChangeOpts {\n  fromIndex: number\n  gap: number\n  itemHeight: number\n  scrollHeight: number\n  scrollTop: number\n  toIndex: number\n}\n\n/**\n * @beta\n */\nexport interface VirtualListProps<Item = any> {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  gap?: number\n  getItemKey?: (item: Item, itemIndex: number) => string\n  items?: Item[]\n  onChange?: (opts: VirtualListChangeOpts) => void\n  renderItem?: (item: Item) => React.ReactNode\n}\n\nconst Root = styled.div`\n  position: relative;\n`\n\nconst ItemWrapper = styled.div`\n  position: absolute;\n  left: 0;\n  right: 0;\n`\n\n/**\n * @beta\n */\nexport const VirtualList = forwardRef(function VirtualList(\n  props: VirtualListProps &\n    StackProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'onChange' | 'ref'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n): React.ReactElement {\n  const {as = 'div', gap = 0, getItemKey, items = [], onChange, renderItem, ...restProps} = props\n  const {space} = useTheme().sanity\n  const forwardedRef = useForwardedRef(ref)\n  const wrapperRef = useRef<HTMLDivElement | null>(null)\n  const [scrollTop, setScrollTop] = useState(0)\n  const [scrollHeight, setScrollHeight] = useState(0)\n  const [itemHeight, setItemHeight] = useState(-1)\n\n  useEffect(() => {\n    if (!wrapperRef.current) return\n\n    const firstElement = wrapperRef.current.firstChild\n\n    if (firstElement instanceof HTMLElement) {\n      setItemHeight(firstElement.offsetHeight)\n    }\n  }, [renderItem])\n\n  useEffect(() => {\n    if (!forwardedRef.current) return\n\n    let _scrollEl = forwardedRef.current.parentNode\n\n    while (_scrollEl && !_isScrollable(_scrollEl)) {\n      _scrollEl = _scrollEl.parentNode\n    }\n\n    if (_scrollEl) {\n      const scrollEl = _scrollEl\n\n      if (!(scrollEl instanceof HTMLElement)) return\n\n      const handleScroll = () => {\n        setScrollTop(scrollEl.scrollTop)\n      }\n\n      scrollEl.addEventListener('scroll', handleScroll, {passive: true})\n\n      const ro = new _ResizeObserver((entries) => {\n        setScrollHeight(entries[0].contentRect.height)\n      })\n\n      ro.observe(scrollEl)\n\n      handleScroll()\n\n      return () => {\n        scrollEl.removeEventListener('scroll', handleScroll)\n\n        ro.unobserve(scrollEl)\n        ro.disconnect()\n      }\n    }\n\n    const handleScroll = () => {\n      setScrollTop(window.scrollY)\n    }\n\n    const handleResize = () => {\n      setScrollHeight(window.innerHeight)\n    }\n\n    window.addEventListener('scroll', handleScroll, {passive: true})\n    window.addEventListener('resize', handleResize)\n\n    setScrollHeight(window.innerHeight)\n\n    handleScroll()\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll)\n      window.removeEventListener('resize', handleResize)\n    }\n  }, [forwardedRef])\n\n  const len = items.length\n  const height = itemHeight ? len * (itemHeight + space[gap]) - space[gap] : 0\n  const fromIndex = height ? Math.max(Math.floor((scrollTop / height) * len) - 2, 0) : 0\n  const toIndex = height ? Math.ceil(((scrollTop + scrollHeight) / height) * len) + 1 : 0\n\n  useEffect(() => {\n    if (!onChange) return\n    onChange({fromIndex, gap: space[gap], itemHeight, scrollHeight, scrollTop, toIndex})\n  }, [fromIndex, gap, itemHeight, onChange, scrollHeight, scrollTop, space, toIndex])\n\n  const children = useMemo(() => {\n    if (!renderItem || items.length === 0) return null\n\n    if (itemHeight === -1) {\n      return [<ItemWrapper key={0}>{renderItem(items[0])}</ItemWrapper>]\n    }\n\n    return items.slice(fromIndex, toIndex).map((item, _itemIndex) => {\n      const itemIndex = fromIndex + _itemIndex\n      const node = renderItem(item)\n      const key = getItemKey ? getItemKey(item, itemIndex) : itemIndex\n\n      return (\n        <ItemWrapper key={key} style={{top: itemIndex * (itemHeight + space[gap])}}>\n          {node}\n        </ItemWrapper>\n      )\n    })\n  }, [fromIndex, gap, getItemKey, itemHeight, items, renderItem, space, toIndex])\n\n  const wrapperStyle = useMemo(() => ({height}), [height])\n\n  return (\n    <Root as={as} data-ui=\"VirtualList\" {...restProps} ref={forwardedRef}>\n      <div ref={wrapperRef} style={wrapperStyle}>\n        {children}\n      </div>\n    </Root>\n  )\n})\n", "import {Placement, PopoverMargins} from '../../types'\n\nexport const DEFAULT_POPOVER_DISTANCE = 4\nexport const DEFAULT_POPOVER_PADDING = 4\nexport const DEFAULT_POPOVER_ARROW_WIDTH = 27\nexport const DEFAULT_POPOVER_ARROW_HEIGHT = 11\nexport const DEFAULT_POPOVER_MARGINS: PopoverMargins = [0, 0, 0, 0]\nexport const DEFAULT_FALLBACK_PLACEMENTS: Record<Placement, Placement[]> = {\n  top: ['bottom', 'left', 'right'],\n  'top-start': ['bottom-start', 'left-start', 'right-start'],\n  'top-end': ['bottom-end', 'left-end', 'right-end'],\n  bottom: ['top', 'left', 'right'],\n  'bottom-start': ['top-start', 'left-start', 'right-start'],\n  'bottom-end': ['top-end', 'left-end', 'right-end'],\n  left: ['right', 'top', 'bottom'],\n  'left-start': ['right-start', 'top-start', 'bottom-start'],\n  'left-end': ['right-end', 'top-end', 'bottom-end'],\n  right: ['left', 'top', 'bottom'],\n  'right-start': ['left-start', 'top-start', 'bottom-start'],\n  'right-end': ['left-end', 'top-end', 'bottom-end'],\n}\n", "import {Elements, Middleware, detectOverflow} from '@floating-ui/react-dom'\nimport {PopoverMargins} from '../../../types'\n\nexport interface SizeMiddlewareApplyOptions {\n  availableWidth: number\n  availableHeight: number\n  elements: Elements\n  referenceWidth: number\n}\n\nexport function size(options: {\n  apply: (args: SizeMiddlewareApplyOptions) => void\n  boundaryElement?: HTMLElement | null\n  constrainSize: boolean\n  margins: PopoverMargins\n  matchReferenceWidth?: boolean\n  padding?: number\n}): Middleware {\n  const {apply, margins, padding = 0} = options\n\n  return {\n    name: '@sanity/ui/size',\n    async fn(args) {\n      const {elements, placement, platform, rects} = args\n      const {floating, reference} = rects\n\n      const overflow = await detectOverflow(args, {\n        altBoundary: true,\n        boundary: options.boundaryElement || undefined,\n        elementContext: 'floating',\n        padding,\n        rootBoundary: 'viewport',\n      })\n\n      let maxWidth = Infinity\n      let maxHeight = Infinity\n\n      const floatingW = floating.width\n      const floatingH = floating.height\n\n      if (placement.includes('top')) {\n        maxWidth = floatingW - (overflow.left + overflow.right)\n        maxHeight = floatingH - overflow.top\n      }\n\n      if (placement.includes('right')) {\n        maxWidth = floatingW - overflow.right\n        maxHeight = floatingH - (overflow.top + overflow.bottom)\n      }\n\n      if (placement.includes('bottom')) {\n        maxWidth = floatingW - (overflow.left + overflow.right)\n        maxHeight = floatingH - overflow.bottom\n      }\n\n      if (placement.includes('left')) {\n        maxWidth = floatingW - overflow.left\n        maxHeight = floatingH - (overflow.top + overflow.bottom)\n      }\n\n      // IMPORTANT – APPLY ELEMENT STYLES HERE\n      // Elements need to be resized BEFORE the `platform.getDimensions` call below\n      apply({\n        availableWidth: maxWidth - margins[1] - margins[3],\n        availableHeight: maxHeight - margins[0] - margins[2],\n        elements,\n        referenceWidth: reference.width - margins[1] - margins[3],\n      })\n\n      const nextDimensions = await platform.getDimensions(elements.floating)\n\n      const targetH = nextDimensions.height\n      const targetW = nextDimensions.width\n\n      if (floatingW !== targetW || floatingH !== targetH) {\n        return {reset: {rects: true}}\n      }\n\n      return {}\n    },\n  }\n}\n", "import {Theme} from '../../theme'\nimport {DEFAULT_POPOVER_PADDING} from './constants'\nimport {PopoverWidth} from './types'\n\nexport function calcCurrentWidth(params: {\n  mediaIndex: number\n  theme: Theme\n  width: PopoverWidth[]\n}): number | undefined {\n  const {mediaIndex, theme, width} = params\n\n  const w = width[mediaIndex]\n  const currentWidth: PopoverWidth | undefined = w === undefined ? width[width.length - 1] : w\n\n  return typeof currentWidth === 'number' ? theme.sanity.container[currentWidth] : undefined\n}\n\nexport function calcMaxWidth(params: {\n  boundaryWidth: number | undefined\n  currentWidth: number | undefined\n}): number | undefined {\n  const {boundaryWidth, currentWidth} = params\n\n  if (currentWidth === undefined && boundaryWidth === undefined) {\n    return undefined\n  }\n\n  return Math.min(\n    currentWidth ?? Infinity,\n    (boundaryWidth || Infinity) - DEFAULT_POPOVER_PADDING * 2,\n  )\n}\n", "import {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {DEFAULT_POPOVER_ARROW_HEIGHT, DEFAULT_POPOVER_ARROW_WIDTH} from './constants'\n\nconst Root = styled.div`\n  position: absolute;\n  pointer-events: none;\n  width: ${DEFAULT_POPOVER_ARROW_WIDTH}px;\n  height: ${DEFAULT_POPOVER_ARROW_WIDTH}px;\n  fill: none;\n\n  :empty + & {\n    display: none;\n  }\n\n  & > svg {\n    display: block;\n    transform-origin: ${DEFAULT_POPOVER_ARROW_WIDTH / 2}px ${DEFAULT_POPOVER_ARROW_WIDTH / 2}px;\n  }\n\n  [data-placement^='top'] > & {\n    bottom: -${DEFAULT_POPOVER_ARROW_WIDTH}px;\n  }\n\n  [data-placement^='right'] > & {\n    left: -${DEFAULT_POPOVER_ARROW_WIDTH}px;\n\n    & > svg {\n      transform: rotate(90deg);\n    }\n  }\n\n  [data-placement^='left'] > & {\n    right: -${DEFAULT_POPOVER_ARROW_WIDTH}px;\n\n    & > svg {\n      transform: rotate(-90deg);\n    }\n  }\n\n  [data-placement^='bottom'] > & {\n    top: -${DEFAULT_POPOVER_ARROW_WIDTH}px;\n\n    & > svg {\n      transform: rotate(180deg);\n    }\n  }\n`\n\nconst BorderPath = styled.path`\n  fill: var(--card-shadow-outline-color);\n`\n\nconst ShapePath = styled.path`\n  fill: var(--card-bg-color);\n`\n\nexport const PopoverArrow = forwardRef(function PopoverArrow(\n  props: Omit<React.HTMLProps<HTMLDivElement>, 'as'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  return (\n    <Root data-ui=\"Popover__arrow\" {...props} ref={ref}>\n      <svg\n        width={DEFAULT_POPOVER_ARROW_WIDTH}\n        height={DEFAULT_POPOVER_ARROW_HEIGHT}\n        viewBox=\"0 0 27 11\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <BorderPath d=\"M1.18708 1C3.29803 1.0011 5.29585 1.95479 6.62414 3.59561L11.1683 9.20895C12.369 10.6922 14.631 10.6922 15.8317 9.20894L20.3759 3.59561C21.7042 1.95478 23.702 1.0011 25.8129 1H21.9436C21.0533 1.49255 20.2545 2.15618 19.5986 2.96641L15.0545 8.57975C14.254 9.56855 12.746 9.56855 11.9455 8.57975L7.40139 2.96642C6.74548 2.15618 5.94673 1.49255 5.05643 1H1.18708Z\" />\n        <ShapePath d=\"M1.18342 0C3.59749 0 5.88246 1.0901 7.40138 2.96642L11.9455 8.57975C12.746 9.56855 14.254 9.56855 15.0545 8.57975L19.5986 2.96641C21.1175 1.0901 23.4025 0 25.8166 0H27H0H1.18342Z\" />\n      </svg>\n    </Root>\n  )\n})\n", "import {Strategy} from '@floating-ui/react-dom'\nimport React, {CSSProperties, forwardRef, memo, useMemo} from 'react'\nimport styled from 'styled-components'\nimport {FLOATING_STATIC_SIDES} from '../../constants'\nimport {ThemeColorSchemeKey} from '../../theme'\nimport {BoxOverflow, CardTone, Placement, PopoverMargins} from '../../types'\nimport {useLayer} from '../../utils'\nimport {Card} from '../card'\nimport {Flex} from '../flex'\nimport {DEFAULT_POPOVER_ARROW_WIDTH, DEFAULT_POPOVER_MARGINS} from './constants'\nimport {PopoverArrow} from './popoverArrow'\n\nconst Root = styled(Card)({\n  '&:not([hidden])': {\n    display: 'flex',\n  },\n  flexDirection: 'column',\n  width: 'max-content',\n  minWidth: 'min-content',\n})\n\n/**\n * @internal\n */\nexport const PopoverCard = memo(\n  forwardRef(function PopoverCard(\n    props: {\n      /** @beta*/\n      __unstable_margins?: PopoverMargins\n      arrow: boolean\n      arrowRef: React.Ref<HTMLDivElement>\n      arrowX?: number\n      arrowY?: number\n      overflow?: BoxOverflow\n      padding?: number | number[]\n      placement?: Placement\n      radius?: number | number[]\n      scheme?: ThemeColorSchemeKey\n      shadow?: number | number[]\n      strategy: Strategy\n      tone: CardTone\n      width: number | undefined\n      x: number | null\n      y: number | null\n    } & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'width'>,\n    ref: React.ForwardedRef<HTMLDivElement>,\n  ) {\n    const {\n      __unstable_margins: marginsProp,\n      arrow,\n      arrowRef,\n      arrowX,\n      arrowY,\n      children,\n      padding,\n      placement,\n      overflow,\n      radius,\n      scheme,\n      shadow,\n      strategy,\n      style,\n      tone,\n      width,\n      x: xProp,\n      y: yProp,\n      ...restProps\n    } = props\n\n    const {zIndex} = useLayer()\n\n    // Get margins: [top, right, bottom, left]\n    const margins: PopoverMargins = useMemo(\n      () => marginsProp || DEFAULT_POPOVER_MARGINS,\n      [marginsProp],\n    )\n\n    // Translate according to margins\n    const x = (xProp ?? 0) + margins[3]\n    const y = (yProp ?? 0) + margins[0]\n\n    const rootStyle: CSSProperties = useMemo(\n      () => ({\n        position: strategy,\n        top: y,\n        left: x,\n        width,\n        zIndex,\n        ...style,\n      }),\n      [strategy, style, width, x, y, zIndex],\n    )\n\n    const staticSide = placement && FLOATING_STATIC_SIDES[placement.split('-')[0]]\n\n    const arrowStyle: CSSProperties = useMemo(() => {\n      const style: CSSProperties = {\n        left: arrowX !== null ? arrowX : undefined,\n        top: arrowY !== null ? arrowY : undefined,\n        right: undefined,\n        bottom: undefined,\n      }\n\n      if (staticSide) style[staticSide] = 0 - DEFAULT_POPOVER_ARROW_WIDTH\n\n      return style\n    }, [arrowX, arrowY, staticSide])\n\n    return (\n      <Root\n        data-ui=\"Popover\"\n        {...restProps}\n        data-placement={placement}\n        radius={radius}\n        ref={ref}\n        scheme={scheme}\n        shadow={shadow}\n        sizing=\"border\"\n        style={rootStyle}\n        tone={tone}\n      >\n        <Flex data-ui=\"Popover__wrapper\" direction=\"column\" flex={1} overflow={overflow}>\n          <Flex direction=\"column\" flex={1} padding={padding}>\n            {children}\n          </Flex>\n        </Flex>\n\n        {arrow && <PopoverArrow ref={arrowRef} style={arrowStyle} />}\n      </Root>\n    )\n  }),\n)\n\nPopoverCard.displayName = 'PopoverCard'\n", "import {\n  Middleware,\n  RootBoundary,\n  arrow,\n  autoUpdate,\n  flip,\n  hide,\n  offset,\n  shift,\n  useFloating,\n} from '@floating-ui/react-dom'\nimport {\n  MutableRefObject,\n  RefCallback,\n  cloneElement,\n  forwardRef,\n  memo,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n} from 'react'\nimport {useForwardedRef, useArrayProp, useElementSize, useMediaIndex} from '../../hooks'\nimport {ThemeColorSchemeKey, useTheme} from '../../theme'\nimport {BoxOverflow, CardTone, Placement, PopoverMargins} from '../../types'\nimport {LayerProps, LayerProvider, Portal, useBoundaryElement} from '../../utils'\nimport {ResponsiveRadiusProps, ResponsiveShadowProps} from '../types'\nimport {\n  DEFAULT_POPOVER_DISTANCE,\n  DEFAULT_POPOVER_MARGINS,\n  DEFAULT_FALLBACK_PLACEMENTS,\n  DEFAULT_POPOVER_PADDING,\n} from './constants'\nimport {size} from './floating-ui/size'\nimport {calcCurrentWidth, calcMaxWidth} from './helpers'\nimport {PopoverCard} from './popoverCard'\nimport {PopoverUpdateCallback, PopoverWidth} from './types'\n\nexport type {PopoverUpdateCallback}\n\n/** @public */\nexport interface PopoverProps\n  extends Omit<LayerProps, 'as'>,\n    ResponsiveRadiusProps,\n    ResponsiveShadowProps {\n  /** @beta */\n  __unstable_margins?: PopoverMargins\n  arrow?: boolean\n  /** @deprecated Use `floatingBoundary` and/or `referenceBoundary` instead */\n  boundaryElement?: HTMLElement | null\n  children?: React.ReactElement\n  constrainSize?: boolean\n  content?: React.ReactNode\n  disabled?: boolean\n  fallbackPlacements?: Placement[]\n  floatingBoundary?: HTMLElement | null\n  matchReferenceWidth?: boolean\n  open?: boolean\n  overflow?: BoxOverflow\n  padding?: number | number[]\n  placement?: Placement\n  portal?: boolean | string\n  preventOverflow?: boolean\n  referenceBoundary?: HTMLElement | null\n  referenceElement?: HTMLElement | null\n  scheme?: ThemeColorSchemeKey\n  tone?: CardTone\n  /** @beta */\n  updateRef?:\n    | MutableRefObject<PopoverUpdateCallback | undefined>\n    | RefCallback<PopoverUpdateCallback | undefined>\n  width?: PopoverWidth | PopoverWidth[]\n}\n\n/** @public */\nexport const Popover = memo(\n  forwardRef(function Popover(\n    props: PopoverProps &\n      Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'content' | 'width'>,\n    ref: React.ForwardedRef<HTMLDivElement>,\n  ): React.ReactElement {\n    const theme = useTheme()\n    const boundaryElementContext = useBoundaryElement()\n\n    const {\n      __unstable_margins: margins = DEFAULT_POPOVER_MARGINS,\n      arrow: arrowProp = true,\n      boundaryElement = boundaryElementContext.element,\n      children: childProp,\n      constrainSize = false,\n      content,\n      disabled,\n      fallbackPlacements = props.fallbackPlacements ??\n        DEFAULT_FALLBACK_PLACEMENTS[props.placement ?? 'bottom'],\n      matchReferenceWidth,\n      floatingBoundary = props.boundaryElement ?? boundaryElementContext.element,\n      open,\n      overflow = 'hidden',\n      padding: paddingProp,\n      placement: placementProp = 'bottom',\n      portal,\n      preventOverflow = true,\n      radius: radiusProp = 3,\n      referenceBoundary = props.boundaryElement ?? boundaryElementContext.element,\n      referenceElement,\n      scheme,\n      shadow: shadowProp = 3,\n      tone = 'inherit',\n      width: widthProp = 'auto',\n      zOffset: zOffsetProp = theme.sanity.layer?.popover.zOffset,\n      updateRef,\n      ...restProps\n    } = props\n    const boundarySize = useElementSize(boundaryElement)?.border\n    const padding = useArrayProp(paddingProp)\n    const radius = useArrayProp(radiusProp)\n    const shadow = useArrayProp(shadowProp)\n    const widthArrayProp = useArrayProp(widthProp)\n    const zOffset = useArrayProp(zOffsetProp)\n    const forwardedRef = useForwardedRef(ref)\n    const arrowRef = useRef<HTMLDivElement | null>(null)\n    const rootBoundary: RootBoundary = 'viewport'\n\n    const mediaIndex = useMediaIndex()\n    const boundaryWidth = constrainSize || preventOverflow ? boundarySize?.width : undefined\n\n    // Update width when\n    // - media index changes\n    // - `width` property changes\n    const width = calcCurrentWidth({mediaIndex, theme, width: widthArrayProp})\n    const widthRef = useRef(width)\n\n    useEffect(() => {\n      widthRef.current = width\n    }, [width])\n\n    // Update max width when\n    // - boundary width changes\n    // - `width` property changes\n    const maxWidth = calcMaxWidth({boundaryWidth, currentWidth: width})\n    const maxWidthRef = useRef(maxWidth)\n\n    useEffect(() => {\n      maxWidthRef.current = maxWidth\n    }, [maxWidth])\n\n    // Keep track of reference element width (see `size` middleware below)\n    const referenceWidthRef = useRef<number>()\n\n    // Force apply width & max width to floating element\n    useEffect(() => {\n      const floatingElement = forwardedRef.current\n\n      if (!open || !floatingElement) return\n\n      const referenceWidth = referenceWidthRef.current\n\n      if (matchReferenceWidth) {\n        if (referenceWidth !== undefined) {\n          floatingElement.style.width = `${referenceWidth}px`\n        }\n      } else if (width !== undefined) {\n        floatingElement.style.width = `${width}px`\n      }\n\n      if (typeof maxWidth === 'number') {\n        floatingElement.style.maxWidth = `${maxWidth}px`\n      }\n    }, [width, forwardedRef, matchReferenceWidth, maxWidth, open])\n\n    const middleware = useMemo(() => {\n      const ret: Middleware[] = []\n\n      // Flip the floating element when leaving the boundary box\n      if (constrainSize || preventOverflow) {\n        ret.push(\n          flip({\n            boundary: floatingBoundary || undefined,\n            fallbackPlacements,\n            padding: DEFAULT_POPOVER_PADDING,\n            rootBoundary,\n          }),\n        )\n      }\n\n      // Define distance between reference and floating element\n      ret.push(\n        offset({\n          mainAxis: arrowProp ? DEFAULT_POPOVER_DISTANCE : 0,\n        }),\n      )\n\n      // Track sizes\n      if (constrainSize || matchReferenceWidth) {\n        ret.push(\n          size({\n            apply({availableWidth, availableHeight, elements, referenceWidth}) {\n              // not fresh, so use refs\n\n              referenceWidthRef.current = referenceWidth\n\n              const _currentWidth = widthRef.current\n              const _maxWidth = maxWidthRef.current\n\n              if (matchReferenceWidth) {\n                elements.floating.style.width = `${referenceWidth}px`\n              } else if (_currentWidth !== undefined) {\n                elements.floating.style.width = `${_currentWidth}px`\n              }\n\n              if (constrainSize) {\n                elements.floating.style.maxWidth = `${Math.min(\n                  availableWidth,\n                  _maxWidth ?? Infinity,\n                )}px`\n\n                elements.floating.style.maxHeight = `${availableHeight}px`\n              }\n            },\n            boundaryElement: floatingBoundary || undefined,\n            constrainSize,\n            margins,\n            matchReferenceWidth,\n            padding: DEFAULT_POPOVER_PADDING,\n          }),\n        )\n      }\n\n      // Shift the popover so its sits within the boundary eleement\n      if (preventOverflow) {\n        ret.push(\n          shift({\n            boundary: floatingBoundary || undefined,\n            rootBoundary,\n            padding: DEFAULT_POPOVER_PADDING,\n          }),\n        )\n      }\n\n      // Place arrow\n      if (arrowProp) {\n        ret.push(\n          arrow({\n            element: arrowRef,\n            padding: DEFAULT_POPOVER_PADDING,\n          }),\n        )\n      }\n\n      ret.push(\n        hide({\n          boundary: referenceBoundary || undefined,\n          padding: DEFAULT_POPOVER_PADDING,\n          strategy: 'referenceHidden',\n        }),\n      )\n\n      return ret\n    }, [\n      arrowProp,\n      constrainSize,\n      fallbackPlacements,\n      floatingBoundary,\n      margins,\n      matchReferenceWidth,\n      preventOverflow,\n      referenceBoundary,\n    ])\n\n    const {x, y, middlewareData, placement, refs, strategy, update} = useFloating({\n      middleware,\n      placement: placementProp,\n      whileElementsMounted: autoUpdate,\n    })\n\n    const referenceHidden = middlewareData.hide?.referenceHidden\n\n    const arrowX = middlewareData.arrow?.x\n    const arrowY = middlewareData.arrow?.y\n\n    const setArrow = useCallback((arrowEl: HTMLDivElement | null) => {\n      arrowRef.current = arrowEl\n    }, [])\n\n    const setFloating = useCallback(\n      (node: HTMLDivElement | null) => {\n        forwardedRef.current = node\n        refs.setFloating(node)\n      },\n      [forwardedRef, refs],\n    )\n\n    const setReference = useCallback(\n      (node: HTMLElement | null) => {\n        refs.setReference(node)\n\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const childRef = (childProp as any)?.ref\n\n        if (typeof childRef === 'function') {\n          childRef(node)\n        } else if (childRef) {\n          childRef.current = node\n        }\n      },\n      [childProp, refs],\n    )\n\n    const child = useMemo(() => {\n      if (!childProp || referenceElement) return null\n\n      return cloneElement(childProp, {ref: setReference})\n    }, [childProp, referenceElement, setReference])\n\n    useEffect(() => {\n      if (updateRef) {\n        if (typeof updateRef === 'function') {\n          updateRef(update)\n        } else if (updateRef) {\n          updateRef.current = update\n        }\n      }\n    }, [update, updateRef])\n\n    useEffect(() => {\n      refs.setReference(referenceElement || null)\n    }, [referenceElement, refs])\n\n    if (disabled) {\n      return childProp || <></>\n    }\n\n    const popover = (\n      <LayerProvider zOffset={zOffset}>\n        <PopoverCard\n          {...restProps}\n          __unstable_margins={margins}\n          arrow={arrowProp}\n          arrowRef={setArrow}\n          arrowX={arrowX}\n          arrowY={arrowY}\n          hidden={referenceHidden}\n          overflow={overflow}\n          padding={padding}\n          placement={placement}\n          radius={radius}\n          ref={setFloating}\n          scheme={scheme}\n          shadow={shadow}\n          strategy={strategy}\n          tone={tone}\n          width={matchReferenceWidth ? referenceWidthRef.current : width}\n          x={x}\n          y={y}\n        >\n          {content}\n        </PopoverCard>\n      </LayerProvider>\n    )\n\n    return (\n      <>\n        {/* the popover */}\n        {open && (\n          <>\n            {portal ? (\n              <Portal __unstable_name={typeof portal === 'string' ? portal : undefined}>\n                {popover}\n              </Portal>\n            ) : (\n              popover\n            )}\n          </>\n        )}\n\n        {/* the referred element */}\n        {child}\n      </>\n    )\n  }),\n)\n\nPopover.displayName = 'Popover'\n", "import {css} from 'styled-components'\nimport {rem, ThemeProps} from '../../styles'\nimport {focusRingBorderStyle, focusRingStyle} from '../../styles/internal'\n\nexport function radioBaseStyle(): ReturnType<typeof css> {\n  return css`\n    position: relative;\n\n    &:not([hidden]) {\n      display: inline-block;\n    }\n\n    &[data-read-only] {\n      outline: 1px solid red;\n    }\n  `\n}\n\nexport function inputElementStyle(props: ThemeProps): ReturnType<typeof css> {\n  const {theme} = props\n  const {focusRing, input} = theme.sanity\n  const color = theme.sanity.color.input\n  const dist = (input.radio.size - input.radio.markSize) / 2\n\n  return css`\n    appearance: none;\n    position: absolute;\n    top: 0;\n    left: 0;\n    opacity: 0;\n    height: 100%;\n    width: 100%;\n    outline: none;\n    z-index: 1;\n    padding: 0;\n    margin: 0;\n    border-radius: ${rem(input.radio.size / 2)};\n    border: none;\n\n    /* enabled */\n    & + span {\n      display: block;\n      position: relative;\n      height: ${rem(input.radio.size)};\n      width: ${rem(input.radio.size)};\n      border-radius: ${rem(input.radio.size / 2)};\n      background: ${color.default.enabled.bg};\n      box-shadow: ${focusRingBorderStyle({\n        color: color.default.enabled.border,\n        width: input.border.width,\n      })};\n\n      &::after {\n        content: '';\n        position: absolute;\n        top: ${rem(dist)};\n        left: ${rem(dist)};\n        height: ${rem(input.radio.markSize)};\n        width: ${rem(input.radio.markSize)};\n        border-radius: ${rem(input.radio.markSize / 2)};\n        background: ${color.default.enabled.fg};\n        opacity: 0;\n      }\n    }\n\n    /* focused */\n    &:not(:disabled):focus + span {\n      box-shadow: ${focusRingStyle({\n        border: {width: input.border.width, color: color.default.enabled.border},\n        focusRing,\n      })};\n    }\n\n    &:not(:disabled):focus:not(:focus-visible) + span {\n      box-shadow: ${focusRingBorderStyle({\n        color: color.default.enabled.border,\n        width: input.border.width,\n      })};\n    }\n\n    &:checked + span::after {\n      opacity: 1;\n    }\n\n    /* read only */\n    &[data-read-only] + span {\n      box-shadow: 0 0 0 1px ${color.default.readOnly.border};\n      background: ${color.default.readOnly.bg};\n\n      &::after {\n        background: ${color.default.readOnly.fg};\n      }\n    }\n\n    /* disabled */\n    &:not([data-read-only]):disabled + span {\n      box-shadow: 0 0 0 1px ${color.default.disabled.border};\n      background: ${color.default.disabled.bg};\n\n      &::after {\n        background: ${color.default.disabled.fg};\n      }\n    }\n  `\n}\n", "import {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useForwardedRef, useCustomValidity} from '../../hooks'\nimport {radioBaseStyle, inputElementStyle} from './styles'\n\n/**\n * @public\n */\nexport interface RadioProps {\n  customValidity?: string\n}\n\nconst Root = styled.div(radioBaseStyle)\nconst Input = styled.input(inputElementStyle)\n\n/**\n * @public\n */\nexport const Radio = forwardRef(function Radio(\n  props: Omit<React.HTMLProps<HTMLInputElement>, 'as' | 'type'> & RadioProps,\n  forwardedRef: React.ForwardedRef<HTMLInputElement>,\n) {\n  const {className, disabled, style, customValidity, readOnly, ...restProps} = props\n  const ref = useForwardedRef(forwardedRef)\n\n  useCustomValidity(ref, customValidity)\n\n  return (\n    <Root className={className} data-ui=\"Radio\" style={style}>\n      <Input\n        data-read-only={!disabled && readOnly ? '' : undefined}\n        {...restProps}\n        disabled={disabled || readOnly}\n        readOnly={readOnly}\n        ref={ref}\n        type=\"radio\"\n      />\n      <span />\n    </Root>\n  )\n})\n", "import {css} from 'styled-components'\nimport {rem, _responsive, ThemeProps} from '../../styles'\nimport {\n  focusRingBorderStyle,\n  focusRingStyle,\n  responsiveInputPaddingIconRightStyle,\n  responsiveRadiusStyle,\n  ResponsiveRadiusStyleProps,\n} from '../../styles/internal'\nimport {ThemeFontSize} from '../../theme'\nimport {CSSObject} from '../../types/styled'\n\nfunction rootStyle(): ReturnType<typeof css> {\n  return css`\n    position: relative;\n    width: -webkit-fill-available;\n    width: stretch;\n\n    &:not([hidden]) {\n      display: inline-block;\n    }\n  `\n}\n\nfunction inputBaseStyle(props: ThemeProps): ReturnType<typeof css> {\n  const {theme} = props\n  const font = theme.sanity.fonts.text\n\n  return css`\n    -webkit-font-smoothing: antialiased;\n    appearance: none;\n    border: 0;\n    font-family: ${font.family};\n    color: inherit;\n    width: 100%;\n    outline: none;\n    margin: 0;\n\n    &:disabled {\n      opacity: 1;\n    }\n  `\n}\n\nfunction inputColorStyle(props: ThemeProps) {\n  const {theme} = props\n  const {focusRing, input} = theme.sanity\n  const color = theme.sanity.color.input\n\n  return css`\n    /* enabled */\n    background-color: ${color.default.enabled.bg};\n    color: ${color.default.enabled.fg};\n    box-shadow: ${focusRingBorderStyle({\n      color: color.default.enabled.border,\n      width: input.border.width,\n    })};\n\n    /* hovered */\n    @media (hover: hover) {\n      &:not(:disabled):hover {\n        background-color: ${color.default.hovered.bg};\n        color: ${color.default.hovered.fg};\n        box-shadow: ${focusRingBorderStyle({\n          color: color.default.hovered.border,\n          width: input.border.width,\n        })};\n      }\n    }\n\n    /* focused */\n    &:not(:disabled):focus {\n      box-shadow: ${focusRingStyle({\n        border: {width: input.border.width, color: color.default.enabled.border},\n        focusRing,\n      })};\n    }\n\n    /* read-only */\n    &[data-read-only] {\n      background-color: ${color.default.readOnly.bg};\n      color: ${color.default.readOnly.fg};\n      box-shadow: ${focusRingBorderStyle({\n        color: color.default.readOnly.border,\n        width: input.border.width,\n      })};\n    }\n\n    /* disabled */\n    &:not([data-read-only]):disabled {\n      background-color: ${color.default.disabled.bg};\n      color: ${color.default.disabled.fg};\n      box-shadow: ${focusRingBorderStyle({\n        color: color.default.disabled.border,\n        width: input.border.width,\n      })};\n    }\n  `\n}\n\nfunction textSize(size: ThemeFontSize) {\n  return {fontSize: rem(size.fontSize), lineHeight: rem(size.lineHeight)}\n}\n\nfunction inputTextSizeStyle(props: {$fontSize: number[]} & ThemeProps) {\n  const {theme, $fontSize} = props\n  const {sizes} = theme.sanity.fonts.text\n\n  return _responsive(theme.sanity.media, $fontSize, (sizeIndex) =>\n    textSize(sizes[sizeIndex] || sizes[2]),\n  )\n}\n\nfunction inputStyle(): Array<\n  | ((\n      props: ResponsiveRadiusStyleProps & {\n        $fontSize: number[]\n        $padding: number[]\n        $space: number[]\n      } & ThemeProps,\n    ) => CSSObject[])\n  | ((props: ThemeProps) => ReturnType<typeof css>)\n> {\n  return [\n    responsiveRadiusStyle,\n    inputBaseStyle,\n    inputColorStyle,\n    inputTextSizeStyle,\n    responsiveInputPaddingIconRightStyle,\n  ]\n}\n\nfunction iconBoxStyle(props: ThemeProps): ReturnType<typeof css> {\n  const {theme} = props\n  const color = theme.sanity.color.input\n\n  return css`\n    pointer-events: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n\n    /* enabled */\n    --card-fg-color: ${color.default.enabled.fg};\n\n    /* hover */\n    @media (hover: hover) {\n      select:not(disabled):not(:read-only):hover + && {\n        --card-fg-color: ${color.default.hovered.fg};\n      }\n    }\n\n    /* disabled */\n    select:disabled + && {\n      --card-fg-color: ${color.default.disabled.fg};\n    }\n\n    /* read-only */\n    select[data-read-only] + && {\n      --card-fg-color: ${color.default.readOnly.fg};\n    }\n  `\n}\n\nexport const selectStyle = {\n  root: rootStyle,\n  input: inputStyle,\n  iconBox: iconBoxStyle,\n}\n", "import {SelectIcon} from '@sanity/icons'\nimport {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useForwardedRef, useCustomValidity, useArrayProp} from '../../hooks'\nimport {Box} from '../box'\nimport {Text} from '../text'\nimport {selectStyle} from './styles'\n\n/**\n * @public\n */\nexport interface SelectProps {\n  fontSize?: number | number[]\n  padding?: number | number[]\n  radius?: number | number[]\n  space?: number | number[]\n  customValidity?: string\n}\n\nconst Root = styled.div(selectStyle.root)\n\nconst Input = styled.select<{\n  $fontSize: number[]\n  $padding: number[]\n  $radius: number[]\n  $space: number[]\n}>(selectStyle.input)\n\nconst IconBox = styled(Box)(selectStyle.iconBox)\n\n/**\n * @public\n */\nexport const Select = forwardRef(function Select(\n  props: SelectProps & Omit<React.HTMLProps<HTMLSelectElement>, 'as'>,\n  forwardedRef: React.ForwardedRef<HTMLSelectElement>,\n) {\n  const {\n    children,\n    customValidity,\n    disabled,\n    fontSize = 2,\n    padding = 3,\n    radius = 1,\n    readOnly,\n    space = 3,\n    ...restProps\n  } = props\n\n  const ref = useForwardedRef(forwardedRef)\n\n  useCustomValidity(ref, customValidity)\n\n  return (\n    <Root data-ui=\"Select\">\n      <Input\n        data-read-only={!disabled && readOnly ? '' : undefined}\n        data-ui=\"Select\"\n        {...restProps}\n        $fontSize={useArrayProp(fontSize)}\n        $padding={useArrayProp(padding)}\n        $radius={useArrayProp(radius)}\n        $space={useArrayProp(space)}\n        disabled={disabled || readOnly}\n        ref={ref}\n      >\n        {children}\n      </Input>\n\n      <IconBox padding={padding}>\n        <Text size={fontSize}>\n          <SelectIcon />\n        </Text>\n      </IconBox>\n    </Root>\n  )\n})\n", "import {rem, _responsive, ThemeProps} from '../../styles'\nimport {CSSObject} from '../../types/styled'\n\nexport interface ResponsiveStackSpaceStyleProps {\n  $space: number[]\n}\n\nconst BASE_STYLE: CSSObject = {\n  '&&:not([hidden])': {\n    display: 'grid',\n  },\n  '&[data-as=\"ul\"],&[data-as=\"ol\"]': {\n    listStyle: 'none',\n  },\n  gridTemplateColumns: 'minmax(0, 1fr)',\n  gridAutoRows: 'min-content',\n}\n\nexport function stackBaseStyle(): CSSObject {\n  return BASE_STYLE\n}\n\nexport function responsiveStackSpaceStyle(\n  props: ResponsiveStackSpaceStyleProps & ThemeProps,\n): CSSObject[] {\n  const {theme} = props\n  const {media, space} = theme.sanity\n\n  return _responsive(media, props.$space, (spaceIndex) => ({\n    gridGap: rem(space[spaceIndex]),\n  }))\n}\n", "import {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {Box, BoxProps} from '../box'\nimport {stackBaseStyle, responsiveStackSpaceStyle, ResponsiveStackSpaceStyleProps} from './styles'\n\n/**\n * @public\n */\nexport interface StackProps extends BoxProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  space?: number | number[]\n}\n\nconst Root = styled(Box)<ResponsiveStackSpaceStyleProps>(stackBaseStyle, responsiveStackSpaceStyle)\n\n/**\n * @public\n */\nexport const Stack = forwardRef(function Stack(\n  props: StackProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'ref'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {as, space, ...restProps} = props\n\n  return (\n    <Root\n      data-as={typeof as === 'string' ? as : undefined}\n      data-ui=\"Stack\"\n      {...restProps}\n      $space={useArrayProp(space)}\n      forwardedAs={as}\n      ref={ref}\n    />\n  )\n})\n", "import {css} from 'styled-components'\nimport {rem, ThemeProps} from '../../styles'\nimport {focusRingStyle} from '../../styles/internal'\n\n/* Root */\nexport function switchBaseStyles(): ReturnType<typeof css> {\n  return css`\n    position: relative;\n    &:not([hidden]) {\n      display: inline-block;\n    }\n  `\n}\n\n/* Input */\nexport function switchInputStyles(): ReturnType<typeof css> {\n  // Visually hide the input element while keeping it interactive\n  return css`\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    opacity: 0;\n    height: 100%;\n    width: 100%;\n    outline: none;\n    padding: 0;\n    margin: 0;\n\n    /* Place the input element above the representation element */\n    z-index: 1;\n  `\n}\n\n/* Representation */\nexport function switchRepresentationStyles(props: ThemeProps): ReturnType<typeof css> {\n  const {theme} = props\n  const {focusRing, input} = theme.sanity\n  const color = theme.sanity.color.button.default\n\n  return css`\n    --switch-bg-color: ${color.default.enabled.bg};\n    --switch-fg-color: ${color.default.enabled.fg};\n    --switch-box-shadow: none;\n\n    &:not([hidden]) {\n      display: block;\n    }\n    position: relative;\n    width: ${rem(input.switch.width)};\n    height: ${rem(input.switch.height)};\n    border-radius: ${rem(input.switch.height / 2)};\n\n    /* Make sure it’s not possible to interact with the wrapper element */\n    pointer-events: none;\n\n    &:after {\n      content: '';\n      display: block;\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      z-index: 1;\n      box-shadow: var(--switch-box-shadow);\n      border-radius: inherit;\n    }\n\n    /* Focus styles */\n    input:focus + && {\n      --switch-box-shadow: ${focusRingStyle({focusRing})};\n    }\n\n    input:focus:not(:focus-visible) + && {\n      --switch-box-shadow: none;\n    }\n\n    input:checked + && {\n      --switch-bg-color: ${color.positive.enabled.bg};\n      --switch-fg-color: ${color.positive.enabled.fg};\n    }\n\n    @media (hover: hover) {\n      input:not(:disabled):hover + && {\n        --switch-bg-color: ${color.default.hovered.bg};\n        --switch-fg-color: ${color.default.hovered.fg};\n      }\n\n      input:not(:disabled):checked:hover + && {\n        --switch-bg-color: ${color.positive.hovered.bg};\n        --switch-fg-color: ${color.positive.hovered.fg};\n      }\n    }\n\n    input:not([data-read-only]):disabled + && {\n      --switch-bg-color: ${color.default.disabled.bg};\n      --switch-fg-color: ${color.default.disabled.fg};\n    }\n  `\n}\n\n/* Track */\nexport function switchTrackStyles(props: ThemeProps): ReturnType<typeof css> {\n  const {theme} = props\n  const {input} = theme.sanity\n\n  return css`\n    &:not([hidden]) {\n      display: block;\n    }\n    background-color: var(--switch-bg-color);\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: ${rem(input.switch.width)};\n    height: ${rem(input.switch.height)};\n    border-radius: ${rem(input.switch.height / 2)};\n  `\n}\n\n/* Thumb */\nexport function switchThumbStyles(\n  props: {$checked?: boolean; $indeterminate?: boolean} & ThemeProps,\n): ReturnType<typeof css> {\n  const {$indeterminate, theme} = props\n  const {input} = theme.sanity\n  const trackWidth = input.switch.width\n  const trackHeight = input.switch.height\n  const trackPadding = input.switch.padding\n  const size = trackHeight - input.switch.padding * 2\n  const checkedOffset = trackWidth - trackPadding * 2 - size\n  const indeterminateOffset = trackWidth / 2 - size / 2 - trackPadding\n  const checked = $indeterminate !== true && props.$checked === true\n\n  return css`\n    &:not([hidden]) {\n      display: block;\n    }\n    position: absolute;\n    left: ${rem(trackPadding)};\n    top: ${rem(trackPadding)};\n    height: ${rem(size)};\n    width: ${rem(size)};\n    border-radius: ${rem(size / 2)};\n    transition-property: transform;\n    transition-duration: ${input.switch.transitionDurationMs}ms;\n    transition-timing-function: ${input.switch.transitionTimingFunction};\n    background: var(--switch-fg-color);\n    transform: translate3d(0, 0, 0);\n\n    ${checked &&\n    css`\n      transform: translate3d(${checkedOffset}px, 0, 0);\n    `}\n\n    ${$indeterminate &&\n    css`\n      transform: translate3d(${indeterminateOffset}px, 0, 0);\n    `}\n  `\n}\n", "import {forwardRef, useEffect} from 'react'\nimport styled from 'styled-components'\nimport {useForwardedRef} from '../../hooks'\nimport {\n  switchBaseStyles,\n  switchRepresentationStyles,\n  switchThumbStyles,\n  switchTrackStyles,\n  switchInputStyles,\n} from './styles'\n\n/**\n * @public\n */\nexport interface SwitchProps {\n  indeterminate?: boolean\n}\n\nconst Root = styled.span(switchBaseStyles)\nconst Input = styled.input(switchInputStyles)\nconst Representation = styled.span(switchRepresentationStyles)\nconst Track = styled.span(switchTrackStyles)\nconst Thumb = styled.span<{$checked?: boolean; $indeterminate?: boolean}>(switchThumbStyles)\n\n/**\n * @public\n */\nexport const Switch = forwardRef(function Switch(\n  props: Omit<React.HTMLProps<HTMLInputElement>, 'as' | 'type'> & SwitchProps,\n  forwardedRef: React.ForwardedRef<HTMLInputElement>,\n) {\n  const {checked, className, disabled, indeterminate, readOnly, style, ...restProps} = props\n  const ref = useForwardedRef(forwardedRef)\n\n  useEffect(() => {\n    if (ref.current) {\n      // Set the indeterminate state\n      ref.current.indeterminate = indeterminate || false\n    }\n  }, [indeterminate, ref])\n\n  return (\n    <Root className={className} data-ui=\"Switch\" style={style}>\n      <Input\n        data-read-only={!disabled && readOnly ? '' : undefined}\n        {...restProps}\n        checked={indeterminate !== true && checked}\n        disabled={disabled || readOnly}\n        type=\"checkbox\"\n        ref={ref}\n      />\n      <Representation aria-hidden data-name=\"representation\">\n        <Track />\n        <Thumb $checked={checked} $indeterminate={indeterminate} />\n      </Representation>\n    </Root>\n  )\n})\n", "import {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useForwardedRef, useCustomValidity, useArrayProp} from '../../hooks'\nimport {\n  responsiveInputPaddingStyle,\n  responsiveRadiusStyle,\n  ResponsiveRadiusStyleProps,\n  TextInputResponsivePaddingStyleProps,\n  TextInputInputStyleProps,\n  TextInputRepresentationStyleProps,\n  textInputRootStyle,\n  textInputBaseStyle,\n  textInputFontSizeStyle,\n  textInputRepresentationStyle,\n} from '../../styles/internal'\nimport {ThemeFontWeightKey, useRootTheme} from '../../theme'\nimport {ResponsiveRadiusProps} from '../types'\n\n/**\n * @public\n */\nexport interface TextAreaProps extends ResponsiveRadiusProps {\n  border?: boolean\n  customValidity?: string\n  fontSize?: number | number[]\n  padding?: number | number[]\n  weight?: ThemeFontWeightKey\n}\n\nconst Root = styled.span(textInputRootStyle)\n\nconst InputRoot = styled.span`\n  flex: 1;\n  min-width: 0;\n  display: block;\n  position: relative;\n`\n\nconst Input = styled.textarea<TextInputResponsivePaddingStyleProps & TextInputInputStyleProps>(\n  responsiveInputPaddingStyle,\n  textInputBaseStyle,\n  textInputFontSizeStyle,\n)\n\nconst Presentation = styled.div<ResponsiveRadiusStyleProps & TextInputRepresentationStyleProps>(\n  responsiveRadiusStyle,\n  textInputRepresentationStyle,\n)\n\n/**\n * @public\n */\nexport const TextArea = forwardRef(function TextArea(\n  props: TextAreaProps & Omit<React.HTMLProps<HTMLTextAreaElement>, 'as'>,\n  forwardedRef: React.ForwardedRef<HTMLTextAreaElement>,\n) {\n  const {\n    border = true,\n    customValidity,\n    disabled = false,\n    fontSize = 2,\n    padding = 3,\n    radius = 1,\n    weight,\n    ...restProps\n  } = props\n\n  const ref = useForwardedRef(forwardedRef)\n\n  const rootTheme = useRootTheme()\n\n  useCustomValidity(ref, customValidity)\n\n  return (\n    <Root data-ui=\"TextArea\">\n      <InputRoot>\n        <Input\n          data-as=\"textarea\"\n          data-scheme={rootTheme.scheme}\n          data-tone={rootTheme.tone}\n          {...restProps}\n          $fontSize={useArrayProp(fontSize)}\n          $padding={useArrayProp(padding)}\n          $scheme={rootTheme.scheme}\n          $space={useArrayProp(0)}\n          $tone={rootTheme.tone}\n          $weight={weight}\n          disabled={disabled}\n          ref={ref}\n        />\n        <Presentation\n          $radius={useArrayProp(radius)}\n          $scheme={rootTheme.scheme}\n          $tone={rootTheme.tone}\n          data-border={border ? '' : undefined}\n          data-scheme={rootTheme.scheme}\n          data-tone={rootTheme.tone}\n        />\n      </InputRoot>\n    </Root>\n  )\n})\n", "import {CloseIcon} from '@sanity/icons'\nimport {createElement, forwardRef, isValidElement, useCallback, useMemo} from 'react'\nimport {isValidElementType} from 'react-is'\nimport styled from 'styled-components'\nimport {EMPTY_RECORD} from '../../constants'\nimport {useArrayProp, useForwardedRef, useCustomValidity} from '../../hooks'\nimport {\n  responsiveRadiusStyle,\n  ResponsiveRadiusStyleProps,\n  responsiveInputPaddingStyle,\n  TextInputInputStyleProps,\n  TextInputRepresentationStyleProps,\n  TextInputResponsivePaddingStyleProps,\n  textInputBaseStyle,\n  textInputFontSizeStyle,\n  textInputRepresentationStyle,\n  textInputRootStyle,\n} from '../../styles/internal'\nimport {ThemeFontWeightKey, useRootTheme} from '../../theme'\nimport {Box} from '../box'\nimport {Button, ButtonProps} from '../button'\nimport {Card} from '../card'\nimport {Text} from '../text'\n\n/**\n * @public\n */\nexport type TextInputClearButtonProps = Omit<ButtonProps, 'as'> &\n  Omit<React.HTMLProps<HTMLButtonElement>, 'as' | 'onClick' | 'onMouseDown' | 'ref'>\n\n/**\n * @public\n */\nexport type TextInputType =\n  | 'date'\n  | 'datetime-local'\n  | 'email'\n  | 'url'\n  | 'month'\n  | 'number'\n  | 'password'\n  | 'tel'\n  | 'time'\n  | 'text'\n  | 'week'\n  | 'color'\n\n/**\n * @public\n */\nexport interface TextInputProps {\n  border?: boolean\n  /**\n   * @beta\n   */\n  clearButton?: boolean | TextInputClearButtonProps\n  customValidity?: string\n  fontSize?: number | number[]\n  icon?: React.ElementType | React.ReactNode\n  iconRight?: React.ElementType | React.ReactNode\n  /**\n   * @beta\n   */\n  onClear?: () => void\n  padding?: number | number[]\n  prefix?: React.ReactNode\n  radius?: number | number[]\n  space?: number | number[]\n  suffix?: React.ReactNode\n  type?: TextInputType\n  weight?: ThemeFontWeightKey\n}\n\nconst CLEAR_BUTTON_BOX_STYLE: React.CSSProperties = {zIndex: 2}\n\nconst Root = styled(Card).attrs({forwardedAs: 'span'})(textInputRootStyle)\n\nconst InputRoot = styled.span`\n  flex: 1;\n  min-width: 0;\n  display: block;\n  position: relative;\n`\n\nconst Prefix = styled(Card).attrs({forwardedAs: 'span'})`\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n\n  & > span {\n    display: block;\n    margin: -1px;\n  }\n`\n\nconst Suffix = styled(Card).attrs({forwardedAs: 'span'})`\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n\n  & > span {\n    display: block;\n    margin: -1px;\n  }\n`\n\nconst Input = styled.input<TextInputResponsivePaddingStyleProps & TextInputInputStyleProps>(\n  responsiveInputPaddingStyle,\n  textInputBaseStyle,\n  textInputFontSizeStyle,\n)\n\nconst Presentation = styled.span<ResponsiveRadiusStyleProps & TextInputRepresentationStyleProps>(\n  responsiveRadiusStyle,\n  textInputRepresentationStyle,\n)\n\nconst LeftBox = styled(Box)`\n  position: absolute;\n  top: 0;\n  left: 0;\n`\n\nconst RightBox = styled(Box)`\n  position: absolute;\n  top: 0;\n  right: 0;\n`\n\nconst RightCard = styled(Card)`\n  background-color: transparent;\n  position: absolute;\n  top: 0;\n  right: 0;\n`\n\nconst TextInputClearButton = styled(Button)({\n  '&:not([hidden])': {\n    display: 'block',\n  },\n})\n\n/**\n * @public\n */\nexport const TextInput = forwardRef(function TextInput(\n  props: TextInputProps & Omit<React.HTMLProps<HTMLInputElement>, 'as' | 'prefix' | 'type'>,\n  forwardedRef: React.Ref<HTMLInputElement>,\n) {\n  const {\n    border = true,\n    clearButton,\n    disabled = false,\n    fontSize: fontSizeProp = 2,\n    icon,\n    iconRight,\n    onClear,\n    padding: paddingProp = 3,\n    prefix,\n    radius: radiusProp = 1,\n    readOnly,\n    space: spaceProp = 3,\n    suffix,\n    customValidity,\n    type = 'text',\n    weight,\n    ...restProps\n  } = props\n\n  const ref = useForwardedRef(forwardedRef)\n\n  const rootTheme = useRootTheme()\n\n  const fontSize = useArrayProp(fontSizeProp)\n  const padding = useArrayProp(paddingProp)\n  const radius = useArrayProp(radiusProp)\n  const space = useArrayProp(spaceProp)\n\n  // Transient properties\n  const $hasClearButton = Boolean(clearButton)\n  const $hasIcon = Boolean(icon)\n  const $hasIconRight = Boolean(iconRight)\n  const $hasSuffix = Boolean(suffix)\n  const $hasPrefix = Boolean(prefix)\n\n  useCustomValidity(ref, customValidity)\n\n  // Prevent the clear button from taking the focus away from the input\n  const handleClearMouseDown = useCallback((event: React.MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault()\n    event.stopPropagation()\n  }, [])\n\n  const handleClearClick = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      event.preventDefault()\n      event.stopPropagation()\n\n      if (onClear) onClear()\n\n      // Focus the input, in case focus has been lost when clicking the clear button\n      ref.current?.focus()\n    },\n    [onClear, ref],\n  )\n\n  // Render prefix (memoized)\n  const prefixNode = useMemo(\n    () =>\n      prefix && (\n        <Prefix borderTop borderLeft borderBottom radius={radius} sizing=\"border\" tone=\"inherit\">\n          <span>{prefix}</span>\n        </Prefix>\n      ),\n    [prefix, radius],\n  )\n\n  // Render presentation (memoized)\n  const presentationNode = useMemo(\n    () => (\n      <Presentation\n        $hasPrefix={$hasPrefix}\n        $hasSuffix={$hasSuffix}\n        $radius={radius}\n        $scheme={rootTheme.scheme}\n        $tone={rootTheme.tone}\n        data-border={border ? '' : undefined}\n        data-scheme={rootTheme.scheme}\n        data-tone={rootTheme.tone}\n      >\n        {icon && (\n          <LeftBox padding={padding}>\n            <Text size={fontSize}>\n              {isValidElement(icon) && icon}\n              {isValidElementType(icon) && createElement(icon)}\n            </Text>\n          </LeftBox>\n        )}\n\n        {!$hasClearButton && iconRight && (\n          <RightBox padding={padding}>\n            <Text size={fontSize}>\n              {isValidElement(iconRight) && iconRight}\n              {isValidElementType(iconRight) && createElement(iconRight)}\n            </Text>\n          </RightBox>\n        )}\n      </Presentation>\n    ),\n    [\n      border,\n      fontSize,\n      icon,\n      iconRight,\n      padding,\n      radius,\n      rootTheme,\n      $hasClearButton,\n      $hasPrefix,\n      $hasSuffix,\n    ],\n  )\n\n  // Render clear button (memoized)\n  const clearButtonBoxPadding = useMemo(\n    () =>\n      padding.map((v) => {\n        if (v === 0) return 0\n        if (v === 1) return 1\n        if (v === 2) return 1\n\n        return v - 2\n      }),\n    [padding],\n  )\n  const clearButtonPadding = useMemo(\n    () =>\n      padding.map((v) => {\n        if (v === 0) return 0\n        if (v === 1) return 0\n        if (v === 2) return 1\n\n        return v - 1\n      }),\n    [padding],\n  )\n  const clearButtonProps: TextInputClearButtonProps = useMemo(\n    () => (typeof clearButton === 'object' ? clearButton : EMPTY_RECORD),\n    [clearButton],\n  )\n  const clearButtonNode = useMemo(\n    () =>\n      !disabled &&\n      !readOnly &&\n      clearButton && (\n        <RightCard\n          forwardedAs=\"span\"\n          padding={clearButtonBoxPadding}\n          style={CLEAR_BUTTON_BOX_STYLE}\n          tone={customValidity ? 'critical' : 'inherit'}\n        >\n          <TextInputClearButton\n            aria-label=\"Clear\"\n            data-qa=\"clear-button\"\n            fontSize={fontSize}\n            icon={CloseIcon}\n            mode=\"bleed\"\n            padding={clearButtonPadding}\n            radius={radius}\n            {...clearButtonProps}\n            onClick={handleClearClick}\n            onMouseDown={handleClearMouseDown}\n          />\n        </RightCard>\n      ),\n    [\n      clearButton,\n      clearButtonBoxPadding,\n      clearButtonPadding,\n      clearButtonProps,\n      customValidity,\n      disabled,\n      fontSize,\n      handleClearClick,\n      handleClearMouseDown,\n      radius,\n      readOnly,\n    ],\n  )\n\n  // Render suffix (memoized)\n  const suffixNode = useMemo(\n    () =>\n      suffix && (\n        <Suffix borderTop borderRight borderBottom radius={radius} sizing=\"border\" tone=\"inherit\">\n          <span>{suffix}</span>\n        </Suffix>\n      ),\n    [radius, suffix],\n  )\n\n  return (\n    <Root data-ui=\"TextInput\" tone={rootTheme.tone}>\n      {prefixNode}\n\n      <InputRoot>\n        <Input\n          data-as=\"input\"\n          data-scheme={rootTheme.scheme}\n          data-tone={rootTheme.tone}\n          {...restProps}\n          $fontSize={fontSize}\n          $iconLeft={$hasIcon}\n          $iconRight={$hasIconRight || $hasClearButton}\n          $padding={padding}\n          $scheme={rootTheme.scheme}\n          $space={space}\n          $tone={rootTheme.tone}\n          $weight={weight}\n          disabled={disabled}\n          readOnly={readOnly}\n          ref={ref}\n          type={type}\n        />\n\n        {presentationNode}\n        {clearButtonNode}\n      </InputRoot>\n\n      {suffixNode}\n    </Root>\n  )\n})\n", "import {useRef} from 'react'\nimport {useState, useCallback, SetStateAction} from 'react'\n\n/**\n * @beta\n */\nexport function useDelayedState<S>(\n  initialState: S | (() => S),\n): [S, (nextState: SetStateAction<S>, delay?: number) => void] {\n  const [state, setState] = useState(initialState)\n  const delayedAction = useRef<NodeJS.Timeout | undefined>()\n\n  const onStateChange = useCallback((nextState: SetStateAction<S>, delay?: number) => {\n    const action = () => {\n      setState(nextState)\n    }\n\n    // A new state change has been initiated, cancel the previous one.\n    if (delayedAction.current) {\n      clearTimeout(delayedAction.current)\n      delayedAction.current = undefined\n    }\n\n    if (!delay) return action()\n    delayedAction.current = setTimeout(action, delay)\n  }, [])\n\n  return [state, onStateChange]\n}\n", "import {Placement} from '@floating-ui/react-dom'\n\nexport const DEFAULT_TOOLTIP_PADDING = 4\nexport const DEFAULT_FALLBACK_PLACEMENTS: Record<Placement, Placement[]> = {\n  top: ['bottom', 'left', 'right'],\n  'top-start': ['bottom-start', 'left-start', 'right-start'],\n  'top-end': ['bottom-end', 'left-end', 'right-end'],\n  bottom: ['top', 'left', 'right'],\n  'bottom-start': ['top-start', 'left-start', 'right-start'],\n  'bottom-end': ['top-end', 'left-end', 'right-end'],\n  left: ['right', 'top', 'bottom'],\n  'left-start': ['right-start', 'top-start', 'bottom-start'],\n  'left-end': ['right-end', 'top-end', 'bottom-end'],\n  right: ['left', 'top', 'bottom'],\n  'right-start': ['left-start', 'top-start', 'bottom-start'],\n  'right-end': ['left-end', 'top-end', 'bottom-end'],\n}\n", "import {forwardRef} from 'react'\nimport styled from 'styled-components'\n\nconst Root = styled.div`\n  position: absolute;\n  pointer-events: none;\n  width: 15px;\n  height: 15px;\n  fill: none;\n\n  :empty + & {\n    display: none;\n  }\n\n  & > svg {\n    display: block;\n    transform-origin: 7.5px 7.5px;\n  }\n\n  /* position: absolute;\n  width: 15px;\n  height: 15px;\n  fill: none;\n\n  :empty + & {\n    display: none;\n  }\n\n  & > svg {\n    &:not([hidden]) {\n      display: block;\n    }\n    transform-origin: 7.5px 7.5px;\n  } */\n\n  [data-placement^='top'] > & {\n    bottom: -27px;\n  }\n\n  [data-placement^='right'] > & {\n    left: -27px;\n\n    & > svg {\n      transform: rotate(90deg);\n    }\n  }\n\n  [data-placement^='left'] > & {\n    right: -27px;\n\n    & > svg {\n      transform: rotate(-90deg);\n    }\n  }\n\n  [data-placement^='bottom'] > & {\n    top: -27px;\n\n    & > svg {\n      transform: rotate(180deg);\n    }\n  }\n`\n\nconst Border = styled.path`\n  fill: var(--card-shadow-outline-color);\n`\n\nconst Shape = styled.path`\n  fill: var(--card-bg-color);\n`\n\ninterface TooltipArrowProps {}\n\nexport const TooltipArrow = forwardRef(function TooltipArrow(\n  props: TooltipArrowProps & Omit<React.HTMLProps<HTMLDivElement>, 'as'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {...restProps} = props\n\n  return (\n    <Root data-ui=\"Tooltip__arrow\" {...restProps} ref={ref}>\n      <svg width=\"15\" height=\"15\" viewBox=\"0 0 15 15\">\n        <Border d=\"M11.5266 1C11.032 1.32802 10.5837 1.73105 10.1995 2.20057L9.04792 3.6081C8.24771 4.58614 6.7523 4.58614 5.95209 3.6081L4.80047 2.20057C4.41632 1.73105 3.96796 1.32802 3.47341 1H0.156727C1.65639 1 3.07687 1.67313 4.02651 2.83381L5.17813 4.24134C6.37844 5.70839 8.62156 5.70839 9.82187 4.24134L10.9735 2.83381C11.9231 1.67313 13.3436 1 14.8433 1H11.5266Z\" />\n        <Shape d=\"M0.156725 0C1.95632 0 3.66089 0.80776 4.80047 2.20057L5.95209 3.6081C6.75229 4.58614 8.24771 4.58614 9.04791 3.6081L10.1995 2.20057C11.3391 0.80776 13.0437 0 14.8433 0H15H0H0.156725Z\" />\n      </svg>\n    </Root>\n  )\n})\n", "import {createContext} from 'react'\nimport {globalScope} from '../../../lib/globalScope'\nimport {TooltipDelayGroupContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/tooltipDelayGroup')\n\nglobalScope[key] = globalScope[key] || createContext<TooltipDelayGroupContextValue | null>(null)\n\n/**\n * @beta\n */\nexport const TooltipDelayGroupContext: React.Context<TooltipDelayGroupContextValue | null> =\n  globalScope[key]\n", "import {useContext} from 'react'\nimport {TooltipDelayGroupContext} from './tooltipDelayGroupContext'\nimport {TooltipDelayGroupContextValue} from './types'\n\n/**\n * @beta\n */\nexport function useTooltipDelayGroup(): TooltipDelayGroupContextValue | null {\n  const value = useContext(TooltipDelayGroupContext)\n\n  return value\n}\n", "import {useMemo} from 'react'\nimport {useDelayedState} from '../../../hooks/useDelayedState'\nimport {Delay} from '../../types'\nimport {TooltipDelayGroupContext} from './tooltipDelayGroupContext'\nimport {TooltipDelayGroupContextValue} from './types'\nimport {useTooltipDelayGroup} from './useTooltipDelayGroup'\n/**\n * @public\n * */\nexport interface TooltipDelayGroupProviderProps {\n  children?: React.ReactNode\n  /**\n   * @public Handles the delays to open or close a tooltip inside a group\n   *\n   * If only a `number` is passed, it will be used for both opening and closing.\n   *\n   * If an object `{open: number; close:number}` is passed, it can be used to set different delays for each action.\n   */\n  delay: Delay\n}\n\n/**\n * @public\n * Provides context for a group of tooltip elements that should share a delay\n * which temporarily becomes 1 ms after the first floating element of the group opens.\n */\nexport function TooltipDelayGroupProvider(\n  props: TooltipDelayGroupProviderProps,\n): React.ReactElement {\n  const {children, delay} = props\n  const [isGroupActive, setIsGroupActive] = useDelayedState(false)\n  const [openTooltipId, setOpenTooltipId] = useDelayedState<string | null>(null)\n\n  const isInsideContext = useTooltipDelayGroup()\n\n  if (isInsideContext) {\n    throw new Error(\n      'TooltipDelayGroupProvider cannot be nested inside another TooltipDelayGroupProvider',\n    )\n  }\n\n  const openDelay = typeof delay === 'number' ? delay : delay?.open || 0\n  const closeDelay = typeof delay === 'number' ? delay : delay?.close || 0\n\n  const value: TooltipDelayGroupContextValue = useMemo(\n    () => ({\n      isGroupActive: isGroupActive,\n      setIsGroupActive: setIsGroupActive,\n      openTooltipId: openTooltipId,\n      setOpenTooltipId: setOpenTooltipId,\n      // When the group is active, we want the next tooltip to open immediately.\n      openDelay: isGroupActive ? 1 : openDelay,\n      closeDelay: closeDelay,\n    }),\n    [closeDelay, isGroupActive, openDelay, openTooltipId, setIsGroupActive, setOpenTooltipId],\n  )\n\n  return (\n    <TooltipDelayGroupContext.Provider value={value}>{children}</TooltipDelayGroupContext.Provider>\n  )\n}\n", "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport {\n  arrow,\n  autoUpdate,\n  flip,\n  offset,\n  shift,\n  useFloating,\n  Middleware,\n  RootBoundary,\n} from '@floating-ui/react-dom'\nimport {\n  cloneElement,\n  forwardRef,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n  CSSProperties,\n  ForwardedRef,\n  useId,\n} from 'react'\nimport styled from 'styled-components'\nimport {FLOATING_STATIC_SIDES} from '../../constants'\nimport {useArrayProp, useForwardedRef} from '../../hooks'\nimport {useDelayedState} from '../../hooks/useDelayedState'\nimport {ThemeColorSchemeKey, useTheme} from '../../theme'\nimport {Placement} from '../../types'\nimport {Layer, LayerProps, Portal, useBoundaryElement, usePortal} from '../../utils'\nimport {Card} from '../card'\nimport {Delay} from '../types'\nimport {DEFAULT_FALLBACK_PLACEMENTS, DEFAULT_TOOLTIP_PADDING} from './constants'\nimport {TooltipArrow} from './tooltipArrow'\nimport {useTooltipDelayGroup} from './tooltipDelayGroup'\n\n/**\n * @public\n */\nexport interface TooltipProps extends Omit<LayerProps, 'as'> {\n  /** @deprecated Use `fallbackPlacements` instead. */\n  allowedAutoPlacements?: Placement[]\n  boundaryElement?: HTMLElement | null\n  children?: React.ReactElement\n  content?: React.ReactNode\n  disabled?: boolean\n  fallbackPlacements?: Placement[]\n  padding?: number | number[]\n  placement?: Placement\n  portal?: boolean | string\n  scheme?: ThemeColorSchemeKey\n  shadow?: number | number[]\n  /**\n   * @public Adds a delay to open or close the tooltip.  Defaults to 0.\n   *\n   * If only a `number` is passed, it will be used for both opening and closing.\n   *\n   * If an object `{open: number; close:number}` is passed, it can be used to set different delays for each action.\n   */\n  delay?: Delay\n}\n\nconst Root = styled(Layer)<{$maxWidth: number}>`\n  pointer-events: none;\n  max-width: ${({$maxWidth}) => $maxWidth}px;\n`\n\n/**\n * @public\n */\nexport const Tooltip = forwardRef(function Tooltip(\n  props: TooltipProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'content'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const boundaryElementContext = useBoundaryElement()\n  const theme = useTheme()\n  const {\n    boundaryElement = boundaryElementContext?.element,\n    children: childProp,\n    content,\n    disabled,\n    fallbackPlacements: fallbackPlacementsProp = props.fallbackPlacements ??\n      DEFAULT_FALLBACK_PLACEMENTS[props.placement ?? 'bottom'],\n    padding,\n    placement: placementProp = 'bottom',\n    portal: portalProp,\n    scheme,\n    shadow = 2,\n    zOffset = theme.sanity.layer?.tooltip.zOffset,\n    delay,\n    ...restProps\n  } = props\n  const fallbackPlacements = useArrayProp(fallbackPlacementsProp)\n  const forwardedRef = useForwardedRef(ref)\n  const [referenceElement, setReferenceElement] = useState<HTMLElement | null>(null)\n  const arrowRef = useRef<HTMLDivElement | null>(null)\n  const rootBoundary: RootBoundary = 'viewport'\n\n  const portal = usePortal()\n  const portalElement =\n    typeof portalProp === 'string' ? portal.elements?.[portalProp] || null : portal.element\n\n  // Get the maximum tooltip width (sans tooltip padding)\n  // Tooltip width should never exceed the width of either any supplied boundary or portal element.\n  // If both portal and boundary elements are provided, use the smaller width of the two.\n  const tooltipWidth = useMemo(() => {\n    const availableWidths = [\n      ...(boundaryElement ? [boundaryElement.offsetWidth] : []),\n      portalElement?.offsetWidth || document.body.offsetWidth,\n    ]\n\n    return Math.min(...availableWidths) - DEFAULT_TOOLTIP_PADDING * 2\n  }, [boundaryElement, portalElement?.offsetWidth])\n\n  const middleware = useMemo(() => {\n    const ret: Middleware[] = []\n\n    // Flip the floating element when leaving the boundary box\n    ret.push(\n      flip({\n        boundary: boundaryElement || undefined,\n        fallbackPlacements,\n        padding: DEFAULT_TOOLTIP_PADDING,\n        rootBoundary,\n      }),\n    )\n\n    // Define distance between reference and floating element\n    ret.push(offset({mainAxis: 3}))\n\n    // Shift the tooltip so its sits with the boundary element\n    ret.push(\n      shift({\n        boundary: boundaryElement || undefined,\n        rootBoundary,\n        padding: DEFAULT_TOOLTIP_PADDING,\n      }),\n    )\n\n    // Place arrow\n    ret.push(arrow({element: arrowRef, padding: 2}))\n\n    return ret\n  }, [boundaryElement, fallbackPlacements])\n\n  const {floatingStyles, placement, middlewareData, refs, update} = useFloating({\n    middleware,\n    placement: placementProp,\n    whileElementsMounted: autoUpdate,\n  })\n\n  const staticSide = placement && FLOATING_STATIC_SIDES[placement.split('-')[0]]\n\n  const arrowX = middlewareData.arrow?.x\n  const arrowY = middlewareData.arrow?.y\n\n  const arrowStyle: CSSProperties = useMemo(() => {\n    const style: CSSProperties = {\n      left: arrowX !== null ? arrowX : undefined,\n      top: arrowY !== null ? arrowY : undefined,\n      right: undefined,\n      bottom: undefined,\n    }\n\n    if (staticSide) style[staticSide] = -15\n\n    return style\n  }, [arrowX, arrowY, staticSide])\n\n  const tooltipId = useId()\n  const [isOpen, setIsOpen] = useDelayedState(false)\n  const delayGroupContext = useTooltipDelayGroup()\n  const showTooltip = isOpen || delayGroupContext?.openTooltipId === tooltipId\n\n  const isInsideGroup = delayGroupContext !== null\n  const openDelayProp = typeof delay === 'number' ? delay : delay?.open || 0\n  const closeDelayProp = typeof delay === 'number' ? delay : delay?.close || 0\n\n  const openDelay = isInsideGroup ? delayGroupContext.openDelay : openDelayProp\n  const closeDelay = isInsideGroup ? delayGroupContext.closeDelay : closeDelayProp\n\n  const handleIsOpenChange = useCallback(\n    (open: boolean, immediate?: boolean) => {\n      if (isInsideGroup) {\n        //  When it's inside a group, the open or close status will be handled by the group.\n        if (open) {\n          const groupedOpenDelay = immediate ? 0 : openDelay\n\n          delayGroupContext.setIsGroupActive(open, groupedOpenDelay)\n          delayGroupContext.setOpenTooltipId(tooltipId, groupedOpenDelay)\n        } else {\n          const minimumGroupDeactivateDelay = 200 // We should provide some delay to allow the user to reach the next tooltip.\n          const groupDeactivateDelay =\n            closeDelay > minimumGroupDeactivateDelay ? closeDelay : minimumGroupDeactivateDelay\n\n          delayGroupContext.setIsGroupActive(open, groupDeactivateDelay)\n          delayGroupContext.setOpenTooltipId(null, immediate ? 0 : closeDelay)\n        }\n      } else {\n        const standaloneDelay = immediate ? 0 : open ? openDelay : closeDelay\n\n        // When it's not inside a group, the open or close status will be handled by the tooltip itself.\n        setIsOpen(open, standaloneDelay)\n      }\n    },\n    [isInsideGroup, delayGroupContext, openDelay, tooltipId, closeDelay, setIsOpen],\n  )\n\n  const handleBlur = useCallback(\n    (e: FocusEvent) => {\n      handleIsOpenChange(false)\n      childProp?.props?.onBlur?.(e)\n    },\n    [childProp?.props, handleIsOpenChange],\n  )\n  const handleClick = useCallback(\n    (e: MouseEvent) => {\n      handleIsOpenChange(false, true), [handleIsOpenChange]\n      childProp?.props.onClick?.(e)\n    },\n    [childProp?.props, handleIsOpenChange],\n  )\n  const handleContextMenu = useCallback(\n    (e: MouseEvent) => {\n      handleIsOpenChange(false, true), [handleIsOpenChange]\n      childProp?.props.onContextMenu?.(e)\n    },\n    [childProp?.props, handleIsOpenChange],\n  )\n  const handleFocus = useCallback(\n    (e: FocusEvent) => {\n      handleIsOpenChange(true)\n      childProp?.props?.onFocus?.(e)\n    },\n    [childProp?.props, handleIsOpenChange],\n  )\n  const handleMouseEnter = useCallback(\n    (e: MouseEvent) => {\n      handleIsOpenChange(true)\n      childProp?.props?.onMouseEnter?.(e)\n    },\n    [childProp?.props, handleIsOpenChange],\n  )\n  const handleMouseLeave = useCallback(\n    (e: MouseEvent) => {\n      handleIsOpenChange(false)\n      childProp?.props?.onMouseLeave?.(e)\n    },\n    [childProp?.props, handleIsOpenChange],\n  )\n\n  // Detect whether the mouse is moving outside of the reference element. This is sometimes\n  // necessary, because the tooltip might not always close as it should (e.g. when clicking\n  // the reference element triggers a CPU-heavy operation.)\n  useEffect(() => {\n    if (!isOpen) return\n\n    function handleWindowMouseMove(event: MouseEvent) {\n      if (!referenceElement) return\n\n      const isHoveringReference =\n        referenceElement === event.target ||\n        (event.target instanceof Node && referenceElement.contains(event.target))\n\n      if (!isHoveringReference) {\n        handleIsOpenChange(false)\n        window.removeEventListener('mousemove', handleWindowMouseMove)\n      }\n    }\n\n    window.addEventListener('mousemove', handleWindowMouseMove)\n\n    return () => {\n      window.removeEventListener('mousemove', handleWindowMouseMove)\n    }\n  }, [isOpen, referenceElement, handleIsOpenChange])\n\n  // Close when `disabled` changes to `true`\n  useEffect(() => {\n    if (disabled) handleIsOpenChange(false)\n  }, [disabled, handleIsOpenChange])\n\n  // Close when `content` changes to falsy\n  useEffect(() => {\n    if (!content) handleIsOpenChange(false)\n  }, [content, handleIsOpenChange])\n\n  // Update reference\n  useEffect(() => refs.setReference(referenceElement), [referenceElement, refs])\n\n  useEffect(() => {\n    // If the user clicks on escape key, close the tooltip.\n    if (!showTooltip) return\n\n    function handleWindowKeyDown(event: KeyboardEvent) {\n      if (event.key === 'Escape') {\n        handleIsOpenChange(false, true)\n      }\n    }\n\n    window.addEventListener('keydown', handleWindowKeyDown)\n\n    return () => {\n      window.removeEventListener('keydown', handleWindowKeyDown)\n    }\n  }, [handleIsOpenChange, showTooltip])\n  const setArrow = useCallback(\n    (arrowEl: HTMLDivElement | null) => {\n      arrowRef.current = arrowEl\n      update()\n    },\n    [update],\n  )\n\n  const setFloating = useCallback(\n    (node: HTMLDivElement | null) => {\n      forwardedRef.current = node\n      refs.setFloating(node)\n    },\n    [forwardedRef, refs],\n  )\n\n  const childRef: ForwardedRef<HTMLElement | null> = (childProp as any)?.ref\n\n  const setReference = useCallback(\n    (node: HTMLElement | null) => {\n      if (typeof childRef === 'function') {\n        childRef(node)\n      } else if (childRef) {\n        childRef.current = node\n      }\n\n      // childRef.current = node\n      setReferenceElement(node)\n    },\n    [childRef],\n  )\n\n  const child = useMemo(() => {\n    if (!childProp) return null\n\n    return cloneElement(childProp, {\n      onBlur: handleBlur,\n      onFocus: handleFocus,\n      onMouseEnter: handleMouseEnter,\n      onMouseLeave: handleMouseLeave,\n      onClick: handleClick,\n      onContextMenu: handleContextMenu,\n      ref: setReference,\n    })\n  }, [\n    childProp,\n    handleBlur,\n    handleClick,\n    handleContextMenu,\n    handleFocus,\n    handleMouseEnter,\n    handleMouseLeave,\n    setReference,\n  ])\n\n  if (!child) return <></>\n\n  if (disabled) return child\n\n  const root = (\n    <Root\n      data-ui=\"Tooltip\"\n      {...restProps}\n      ref={setFloating}\n      style={floatingStyles}\n      zOffset={zOffset}\n      $maxWidth={tooltipWidth}\n    >\n      <Card\n        data-ui=\"Tooltip__card\"\n        data-placement={placement}\n        padding={padding}\n        radius={2}\n        scheme={scheme}\n        shadow={shadow}\n      >\n        {content}\n        <TooltipArrow ref={setArrow} style={arrowStyle} />\n      </Card>\n    </Root>\n  )\n\n  return (\n    <>\n      {child}\n\n      {showTooltip && (\n        <>\n          {portalProp ? (\n            <Portal __unstable_name={typeof portalProp === 'string' ? portalProp : undefined}>\n              {root}\n            </Portal>\n          ) : (\n            root\n          )}\n        </>\n      )}\n    </>\n  )\n})\n", "import {SpinnerIcon} from '@sanity/icons'\nimport styled, {keyframes} from 'styled-components'\nimport {Box} from '../../primitives'\n\n/**\n * @internal\n */\nexport const Root = styled.div`\n  line-height: 0;\n`\n\n/**\n * @internal\n */\nexport const ListBox = styled(Box)`\n  & > ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n`\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n`\n\n/**\n * @internal\n */\nexport const AnimatedSpinnerIcon = styled(SpinnerIcon)`\n  animation: ${rotate} 500ms linear infinite;\n`\n", "import {useCallback} from 'react'\nimport {_isEnterToClickElement} from '../../helpers'\n\nexport interface AutocompleteOptionProps {\n  children: React.ReactNode\n  id: string\n  onSelect: (v: string) => void\n  selected: boolean\n  value: string\n}\n\nexport function AutocompleteOption(props: AutocompleteOptionProps): React.ReactElement {\n  const {children, id, onSelect, selected, value} = props\n\n  const handleClick = useCallback(() => {\n    // Calling the `onSelect` in a timeout is a fix to\n    // allow the `click` event to propagate in some cases\n    setTimeout(() => {\n      onSelect(value)\n    }, 0)\n  }, [onSelect, value])\n\n  const handleKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLLIElement>) => {\n      if (event.key === 'Enter' && !_isEnterToClickElement(event.currentTarget)) {\n        handleClick()\n      }\n    },\n    [handleClick],\n  )\n\n  return (\n    <li\n      aria-selected={selected}\n      data-ui=\"AutocompleteOption\"\n      id={id}\n      role=\"option\"\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n    >\n      {children}\n    </li>\n  )\n}\n", "import {AutocompleteMsg, AutocompleteState} from './types'\n\n/**\n * @internal\n */\nexport function autocompleteReducer(\n  state: AutocompleteState,\n  msg: AutocompleteMsg,\n): AutocompleteState {\n  if (msg.type === 'input/change') {\n    return {...state, activeValue: null, focused: true, query: msg.query}\n  }\n\n  if (msg.type === 'input/focus') {\n    return {...state, focused: true}\n  }\n\n  if (msg.type === 'root/blur') {\n    return {...state, focused: false, query: null}\n  }\n\n  if (msg.type === 'root/clear') {\n    return {...state, activeValue: null, query: null, value: null}\n  }\n\n  if (msg.type === 'root/escape') {\n    return {...state, focused: false, query: null}\n  }\n\n  if (msg.type === 'root/open') {\n    return {...state, query: state.query || msg.query}\n  }\n\n  if (msg.type === 'root/setActiveValue') {\n    return {...state, activeValue: msg.value, listFocused: msg.listFocused || state.listFocused}\n  }\n\n  if (msg.type === 'root/setListFocused') {\n    return {...state, listFocused: msg.listFocused}\n  }\n\n  if (msg.type === 'value/change') {\n    return {...state, activeValue: msg.value, query: null, value: msg.value}\n  }\n\n  return state\n}\n", "import {Placement} from '../../types'\n\n/**\n * @internal\n */\nexport const AUTOCOMPLETE_LISTBOX_IGNORE_KEYS = [\n  'Control',\n  'Shift',\n  'Alt',\n  'Enter',\n  'Home',\n  'End',\n  'PageUp',\n  'PageDown',\n  'Meta',\n  'Tab',\n  'CapsLock',\n]\n\n/**\n * @internal\n */\nexport const AUTOCOMPLETE_POPOVER_PLACEMENT: Placement = 'bottom-start'\n\n/**\n * @internal\n */\nexport const AUTOCOMPLETE_POPOVER_FALLBACK_PLACEMENTS: Placement[] = ['bottom-start', 'top-start']\n", "import {ChevronDownIcon} from '@sanity/icons'\nimport {\n  ChangeEvent,\n  ElementType,\n  FocusEvent,\n  HTMLProps,\n  KeyboardEvent,\n  MouseEvent,\n  ReactElement,\n  ReactNode,\n  Ref,\n  cloneElement,\n  forwardRef,\n  useCallback,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n} from 'react'\nimport {EMPTY_ARRAY, EMPTY_RECORD} from '../../constants'\nimport {_hasFocus, _raf, focusFirstDescendant} from '../../helpers'\nimport {useArrayProp, useForwardedRef} from '../../hooks'\nimport {\n  Box,\n  BoxProps,\n  Button,\n  Card,\n  Popover,\n  PopoverProps,\n  Stack,\n  Text,\n  TextInput,\n} from '../../primitives'\nimport {AnimatedSpinnerIcon, ListBox, Root} from './autocomplete.styles'\nimport {AutocompleteOption} from './autocompleteOption'\nimport {autocompleteReducer} from './autocompleteReducer'\nimport {\n  AUTOCOMPLETE_LISTBOX_IGNORE_KEYS,\n  AUTOCOMPLETE_POPOVER_FALLBACK_PLACEMENTS,\n  AUTOCOMPLETE_POPOVER_PLACEMENT,\n} from './constants'\nimport {AutocompleteOpenButtonProps, BaseAutocompleteOption} from './types'\n\n/**\n * @public\n */\nexport interface AutocompleteProps<Option extends BaseAutocompleteOption = BaseAutocompleteOption> {\n  border?: boolean\n  customValidity?: string\n  filterOption?: (query: string, option: Option) => boolean\n  fontSize?: number | number[]\n  icon?: ElementType | ReactNode\n  id: string\n  /** @beta */\n  listBox?: BoxProps\n  loading?: boolean\n  onChange?: (value: string) => void\n  onQueryChange?: (query: string | null) => void\n  onSelect?: (value: string) => void\n  /** @beta */\n  openButton?: boolean | AutocompleteOpenButtonProps\n  options?: Option[]\n  padding?: number | number[]\n  popover?: Omit<PopoverProps, 'content' | 'onMouseEnter' | 'onMouseLeave' | 'open'> &\n    Omit<HTMLProps<HTMLDivElement>, 'as' | 'children' | 'content' | 'ref' | 'width'>\n  prefix?: ReactNode\n  radius?: number | number[]\n  /** @beta */\n  relatedElements?: HTMLElement[]\n  renderOption?: (option: Option) => ReactElement\n  /** @beta */\n  renderPopover?: (\n    props: {\n      content: ReactElement | null\n      hidden: boolean\n      inputElement: HTMLInputElement | null\n      onMouseEnter: () => void\n      onMouseLeave: () => void\n    },\n    ref: Ref<HTMLDivElement>,\n  ) => ReactNode\n  renderValue?: (value: string, option?: Option) => string\n  suffix?: ReactNode\n  value?: string\n}\n\nconst DEFAULT_RENDER_VALUE = (value: string, option?: BaseAutocompleteOption) =>\n  option ? option.value : value\n\nconst DEFAULT_FILTER_OPTION = (query: string, option: BaseAutocompleteOption) =>\n  option.value.toLowerCase().indexOf(query.toLowerCase()) > -1\n\nconst InnerAutocomplete = forwardRef(function InnerAutocomplete<\n  Option extends BaseAutocompleteOption,\n>(\n  props: AutocompleteProps<Option> &\n    Omit<\n      HTMLProps<HTMLInputElement>,\n      | 'aria-activedescendant'\n      | 'aria-autocomplete'\n      | 'aria-expanded'\n      | 'aria-owns'\n      | 'as'\n      | 'autoCapitalize'\n      | 'autoComplete'\n      | 'autoCorrect'\n      | 'id'\n      | 'inputMode'\n      | 'onChange'\n      | 'onSelect'\n      | 'prefix'\n      | 'ref'\n      | 'role'\n      | 'spellCheck'\n      | 'type'\n      | 'value'\n    >,\n  ref: Ref<HTMLInputElement>,\n) {\n  const {\n    border = true,\n    customValidity,\n    disabled,\n    filterOption: filterOptionProp,\n    fontSize = 2,\n    icon,\n    id,\n    listBox = EMPTY_RECORD,\n    loading,\n    onBlur,\n    onChange,\n    onFocus,\n    onQueryChange,\n    onSelect,\n    openButton,\n    options: optionsProp,\n    padding: paddingProp = 3,\n    popover = EMPTY_RECORD,\n    prefix,\n    radius = 3,\n    readOnly,\n    relatedElements,\n    renderOption: renderOptionProp,\n    renderPopover,\n    renderValue = DEFAULT_RENDER_VALUE,\n    suffix,\n    value: valueProp,\n    ...restProps\n  } = props\n\n  const [state, dispatch] = useReducer(autocompleteReducer, {\n    activeValue: valueProp || null,\n    focused: false,\n    listFocused: false,\n    query: null,\n    value: valueProp || null,\n  })\n\n  const {activeValue, focused, listFocused, query, value} = state\n\n  const defaultRenderOption = useCallback(\n    ({value}: BaseAutocompleteOption) => (\n      <Card data-as=\"button\" padding={paddingProp} radius={2} tone=\"inherit\">\n        <Text size={fontSize} textOverflow=\"ellipsis\">\n          {value}\n        </Text>\n      </Card>\n    ),\n    [fontSize, paddingProp],\n  )\n\n  const renderOption =\n    typeof renderOptionProp === 'function' ? renderOptionProp : defaultRenderOption\n\n  const filterOption =\n    typeof filterOptionProp === 'function' ? filterOptionProp : DEFAULT_FILTER_OPTION\n\n  // Element refs\n  const rootElementRef = useRef<HTMLDivElement | null>(null)\n  const resultsPopoverElementRef = useRef<HTMLDivElement | null>(null)\n  const inputElementRef = useRef<HTMLInputElement | null>(null)\n  const listBoxElementRef = useRef<HTMLDivElement | null>(null)\n\n  // Value refs\n  const listFocusedRef = useRef(false)\n  const valueRef = useRef(value)\n  const valuePropRef = useRef(valueProp)\n  const popoverMouseWithinRef = useRef(false)\n\n  const forwardedRef = useForwardedRef(ref)\n\n  const listBoxId = `${id}-listbox`\n  const options = Array.isArray(optionsProp) ? optionsProp : EMPTY_ARRAY\n  const padding = useArrayProp(paddingProp)\n  const currentOption = useMemo(\n    () => (value !== null ? options.find((o) => o.value === value) : undefined),\n    [options, value],\n  )\n  const filteredOptions = useMemo(\n    () => options.filter((option) => (query ? filterOption(query, option) : true)),\n    [filterOption, options, query],\n  )\n  const filteredOptionsLen = filteredOptions.length\n  const activeItemId = activeValue ? `${id}-option-${activeValue}` : undefined\n  const expanded = (query !== null && loading) || (focused && query !== null)\n\n  const handleRootBlur = useCallback(\n    (event: FocusEvent<HTMLInputElement>) => {\n      setTimeout(() => {\n        // NOTE: This is a workaround for a bug that may happen in Chrome (clicking the scrollbar\n        // closes the results in certain situations):\n        // - Do not handle blur if the mouse is within the popover\n        if (popoverMouseWithinRef.current) {\n          return\n        }\n\n        const elements: HTMLElement[] = (relatedElements || []).concat(\n          rootElementRef.current ? [rootElementRef.current] : [],\n          resultsPopoverElementRef.current ? [resultsPopoverElementRef.current] : [],\n        )\n\n        let focusInside = false\n\n        if (document.activeElement) {\n          for (const e of elements) {\n            if (e === document.activeElement || e.contains(document.activeElement)) {\n              focusInside = true\n              break\n            }\n          }\n        }\n\n        if (focusInside === false) {\n          dispatch({type: 'root/blur'})\n          popoverMouseWithinRef.current = false\n          if (onQueryChange) onQueryChange(null)\n          if (onBlur) onBlur(event)\n        }\n      }, 0)\n    },\n    [onBlur, onQueryChange, relatedElements],\n  )\n\n  const handleRootFocus = useCallback((event: FocusEvent<HTMLDivElement>) => {\n    const listBoxElement = listBoxElementRef.current\n    const focusedElement = event.target instanceof HTMLElement ? event.target : null\n    const listFocused = listBoxElement?.contains(focusedElement) || false\n\n    if (listFocused !== listFocusedRef.current) {\n      listFocusedRef.current = listFocused\n\n      dispatch({type: 'root/setListFocused', listFocused})\n    }\n  }, [])\n\n  const handleOptionSelect = useCallback(\n    (v: string) => {\n      dispatch({type: 'value/change', value: v})\n\n      popoverMouseWithinRef.current = false\n\n      if (onSelect) onSelect(v)\n\n      valueRef.current = v\n\n      if (onChange) onChange(v)\n      if (onQueryChange) onQueryChange(null)\n\n      inputElementRef.current?.focus()\n    },\n    [onChange, onSelect, onQueryChange],\n  )\n\n  const handleRootKeyDown = useCallback(\n    (event: KeyboardEvent<HTMLElement>) => {\n      if (event.key === 'ArrowDown') {\n        event.preventDefault()\n\n        if (!filteredOptionsLen) return\n\n        const activeOption = filteredOptions.find((o) => o.value === activeValue)\n        const activeIndex = activeOption ? filteredOptions.indexOf(activeOption) : -1\n        const nextActiveOption = filteredOptions[(activeIndex + 1) % filteredOptionsLen]\n\n        if (nextActiveOption) {\n          dispatch({type: 'root/setActiveValue', value: nextActiveOption.value, listFocused: true})\n        }\n\n        return\n      }\n\n      if (event.key === 'ArrowUp') {\n        event.preventDefault()\n\n        if (!filteredOptionsLen) return\n\n        const activeOption = filteredOptions.find((o) => o.value === activeValue)\n        const activeIndex = activeOption ? filteredOptions.indexOf(activeOption) : -1\n        const nextActiveOption =\n          filteredOptions[\n            activeIndex === -1\n              ? filteredOptionsLen - 1\n              : (filteredOptionsLen + activeIndex - 1) % filteredOptionsLen\n          ]\n\n        if (nextActiveOption) {\n          dispatch({type: 'root/setActiveValue', value: nextActiveOption.value, listFocused: true})\n        }\n\n        return\n      }\n\n      if (event.key === 'Escape') {\n        dispatch({type: 'root/escape'})\n        popoverMouseWithinRef.current = false\n        if (onQueryChange) onQueryChange(null)\n        inputElementRef.current?.focus()\n\n        return\n      }\n\n      const target = event.target as Node\n      const listEl = listBoxElementRef.current\n\n      if (\n        (listEl === target || listEl?.contains(target)) &&\n        !AUTOCOMPLETE_LISTBOX_IGNORE_KEYS.includes(event.key)\n      ) {\n        inputElementRef.current?.focus()\n\n        return\n      }\n    },\n    [activeValue, filteredOptions, filteredOptionsLen, onQueryChange],\n  )\n\n  const handleInputChange = useCallback(\n    (event: ChangeEvent<HTMLInputElement>) => {\n      const nextQuery = event.currentTarget.value\n\n      dispatch({type: 'input/change', query: nextQuery})\n\n      if (onQueryChange) onQueryChange(nextQuery)\n    },\n    [onQueryChange],\n  )\n\n  const handleInputFocus = useCallback(\n    (event: FocusEvent<HTMLInputElement>) => {\n      if (!focused) {\n        dispatch({type: 'input/focus'})\n\n        if (onFocus) onFocus(event)\n      }\n    },\n    [focused, onFocus],\n  )\n\n  const handlePopoverMouseEnter = useCallback(() => {\n    popoverMouseWithinRef.current = true\n  }, [])\n\n  const handlePopoverMouseLeave = useCallback(() => {\n    popoverMouseWithinRef.current = false\n  }, [])\n\n  const handleClearButtonClick = useCallback(() => {\n    dispatch({type: 'root/clear'})\n    valueRef.current = ''\n    if (onChange) onChange('')\n    if (onQueryChange) onQueryChange(null)\n    inputElementRef.current?.focus()\n  }, [onChange, onQueryChange])\n\n  const handleClearButtonFocus = useCallback(() => {\n    dispatch({type: 'input/focus'})\n  }, [])\n\n  // Change the value when `value` prop changes\n  useEffect(() => {\n    // If `valueProp` changed\n    if (valueProp !== valuePropRef.current) {\n      valuePropRef.current = valueProp\n\n      if (valueProp !== undefined) {\n        dispatch({type: 'value/change', value: valueProp})\n        valueRef.current = valueProp\n      }\n\n      return\n    }\n\n    // If `valueProp` is not equal to `value`\n    if (valueProp !== valueRef.current) {\n      valueRef.current = valueProp || null\n\n      dispatch({type: 'value/change', value: valueProp || null})\n    }\n  }, [valueProp])\n\n  // Reset active item when closing\n  useEffect(() => {\n    if (!focused && valueRef.current) {\n      dispatch({type: 'root/setActiveValue', value: valueRef.current})\n    }\n  }, [focused])\n\n  // Focus the selected item\n  useEffect(() => {\n    const listElement = listBoxElementRef.current\n\n    if (!listElement) return\n\n    const activeOption = filteredOptions.find((o) => o.value === activeValue)\n\n    if (activeOption) {\n      const activeIndex = filteredOptions.indexOf(activeOption)\n      const activeItemElement = listElement.childNodes[activeIndex] as HTMLLIElement | undefined\n\n      if (activeItemElement) {\n        if (_hasFocus(activeItemElement)) {\n          // already focused\n          return\n        }\n\n        focusFirstDescendant(activeItemElement)\n      }\n    }\n  }, [activeValue, filteredOptions])\n\n  const setRef = useCallback(\n    (el: HTMLInputElement | null) => {\n      inputElementRef.current = el\n      forwardedRef.current = el\n    },\n    [forwardedRef],\n  )\n\n  const clearButton = useMemo(() => {\n    if (!loading && !disabled && value) {\n      return {\n        'aria-label': 'Clear',\n        onFocus: handleClearButtonFocus,\n      }\n    }\n\n    return undefined\n  }, [disabled, handleClearButtonFocus, loading, value])\n\n  const openButtonBoxPadding = useMemo(\n    () =>\n      padding.map((v) => {\n        if (v === 0) return 0\n        if (v === 1) return 1\n        if (v === 2) return 1\n\n        return v - 2\n      }),\n    [padding],\n  )\n  const openButtonPadding = useMemo(() => padding.map((v) => Math.max(v - 1, 0)), [padding])\n  const openButtonProps: AutocompleteOpenButtonProps = useMemo(\n    () => (typeof openButton === 'object' ? openButton : EMPTY_RECORD),\n    [openButton],\n  )\n\n  const handleOpenClick = useCallback(\n    (event: MouseEvent<HTMLButtonElement>) => {\n      dispatch({\n        type: 'root/open',\n        query: value ? renderValue(value, currentOption) : '',\n      })\n\n      if (openButtonProps.onClick) openButtonProps.onClick(event)\n\n      _raf(() => inputElementRef.current?.focus())\n    },\n    [currentOption, openButtonProps, renderValue, value],\n  )\n\n  const openButtonNode = useMemo(\n    () =>\n      !disabled && !readOnly && openButton ? (\n        <Box aria-hidden={expanded} padding={openButtonBoxPadding}>\n          <Button\n            aria-label=\"Open\"\n            disabled={expanded}\n            fontSize={fontSize}\n            icon={ChevronDownIcon}\n            mode=\"bleed\"\n            padding={openButtonPadding}\n            {...openButtonProps}\n            onClick={handleOpenClick}\n          />\n        </Box>\n      ) : undefined,\n    [\n      disabled,\n      expanded,\n      fontSize,\n      handleOpenClick,\n      openButton,\n      openButtonBoxPadding,\n      openButtonPadding,\n      openButtonProps,\n      readOnly,\n    ],\n  )\n\n  const inputValue = useMemo(() => {\n    if (query === null) {\n      if (value !== null) {\n        return renderValue(value, currentOption)\n      }\n\n      return ''\n    }\n\n    return query\n  }, [currentOption, query, renderValue, value])\n\n  const input = (\n    <TextInput\n      {...restProps}\n      aria-activedescendant={activeItemId}\n      aria-autocomplete=\"list\"\n      aria-expanded={expanded}\n      aria-owns={listBoxId}\n      autoCapitalize=\"off\"\n      autoComplete=\"off\"\n      autoCorrect=\"off\"\n      border={border}\n      clearButton={clearButton}\n      customValidity={customValidity}\n      disabled={disabled}\n      fontSize={fontSize}\n      icon={icon}\n      iconRight={loading && AnimatedSpinnerIcon}\n      id={id}\n      inputMode=\"search\"\n      onChange={handleInputChange}\n      onClear={handleClearButtonClick}\n      onFocus={handleInputFocus}\n      padding={padding}\n      prefix={prefix}\n      radius={radius}\n      readOnly={readOnly}\n      ref={setRef}\n      role=\"combobox\"\n      spellCheck={false}\n      suffix={suffix || openButtonNode}\n      value={inputValue}\n    />\n  )\n\n  const handleListBoxKeyDown = useCallback(\n    (event: KeyboardEvent<HTMLDivElement>) => {\n      // If the focus is currently in the list, move focus to the input element\n      if (event.key === 'Tab') {\n        if (listFocused) inputElementRef.current?.focus()\n      }\n    },\n    [listFocused],\n  )\n\n  const content = useMemo(() => {\n    if (filteredOptions.length === 0) return null\n\n    return (\n      <ListBox\n        data-ui=\"AutoComplete__results\"\n        onKeyDown={handleListBoxKeyDown}\n        padding={1}\n        {...listBox}\n        tabIndex={-1}\n      >\n        <Stack\n          as=\"ul\"\n          aria-multiselectable={false}\n          data-ui=\"AutoComplete__resultsList\"\n          id={listBoxId}\n          ref={listBoxElementRef}\n          role=\"listbox\"\n          space={1}\n        >\n          {filteredOptions.map((option) => {\n            const active =\n              activeValue !== null ? option.value === activeValue : currentOption === option\n\n            return (\n              <AutocompleteOption\n                id={`${id}-option-${option.value}`}\n                key={option.value}\n                onSelect={handleOptionSelect}\n                selected={active}\n                value={option.value}\n              >\n                {cloneElement(renderOption(option), {\n                  disabled: loading,\n                  selected: active,\n                  tabIndex: listFocused && active ? 0 : -1,\n                })}\n              </AutocompleteOption>\n            )\n          })}\n        </Stack>\n      </ListBox>\n    )\n  }, [\n    activeValue,\n    currentOption,\n    filteredOptions,\n    handleOptionSelect,\n    handleListBoxKeyDown,\n    id,\n    listBox,\n    listBoxId,\n    listFocused,\n    loading,\n    renderOption,\n  ])\n\n  const results = useMemo(() => {\n    if (renderPopover) {\n      return renderPopover(\n        {\n          content,\n          hidden: !expanded,\n          inputElement: inputElementRef.current,\n          onMouseEnter: handlePopoverMouseEnter,\n          onMouseLeave: handlePopoverMouseLeave,\n        },\n        resultsPopoverElementRef,\n      )\n    }\n\n    if (filteredOptionsLen === 0) {\n      return null\n    }\n\n    return (\n      <Popover\n        arrow={false}\n        constrainSize\n        content={content}\n        fallbackPlacements={AUTOCOMPLETE_POPOVER_FALLBACK_PLACEMENTS}\n        matchReferenceWidth\n        onMouseEnter={handlePopoverMouseEnter}\n        onMouseLeave={handlePopoverMouseLeave}\n        open={expanded}\n        overflow=\"auto\"\n        placement={AUTOCOMPLETE_POPOVER_PLACEMENT}\n        portal\n        radius={radius}\n        ref={resultsPopoverElementRef}\n        referenceElement={inputElementRef.current}\n        {...popover}\n      />\n    )\n  }, [\n    content,\n    expanded,\n    filteredOptionsLen,\n    handlePopoverMouseEnter,\n    handlePopoverMouseLeave,\n    popover,\n    radius,\n    renderPopover,\n  ])\n\n  return (\n    <Root\n      data-ui=\"Autocomplete\"\n      onBlur={handleRootBlur}\n      onFocus={handleRootFocus}\n      onKeyDown={handleRootKeyDown}\n      ref={rootElementRef}\n    >\n      {input}\n      {results}\n    </Root>\n  )\n})\n\n/**\n * @public\n */\nexport const Autocomplete = InnerAutocomplete as <Option extends BaseAutocompleteOption>(\n  props: AutocompleteProps<Option> &\n    Omit<\n      HTMLProps<HTMLInputElement>,\n      | 'aria-activedescendant'\n      | 'aria-autocomplete'\n      | 'aria-expanded'\n      | 'aria-owns'\n      | 'as'\n      | 'autoCapitalize'\n      | 'autoComplete'\n      | 'autoCorrect'\n      | 'id'\n      | 'inputMode'\n      | 'onChange'\n      | 'onSelect'\n      | 'prefix'\n      | 'ref'\n      | 'role'\n      | 'spellCheck'\n      | 'type'\n      | 'value'\n    > & {\n      ref?: Ref<HTMLInputElement>\n    },\n) => ReactElement\n", "import styled from 'styled-components'\nimport {Button} from '../../primitives'\n\nexport const Root = styled.ol`\n  margin: 0;\n  padding: 0;\n  display: flex;\n  list-style: none;\n  align-items: center;\n  white-space: nowrap;\n  line-height: 0;\n`\n\nexport const ExpandButton = styled(Button)`\n  appearance: none;\n  margin: -4px;\n`\n", "import {Children, forwardRef, Fragment, isValidElement, useCallback, useMemo, useState} from 'react'\nimport {useArrayProp, useClickOutside} from '../../hooks'\nimport {Box, Popover, Stack, Text} from '../../primitives'\nimport {ExpandButton, Root} from './breadcrumbs.styles'\n\n/**\n * @beta\n */\nexport interface BreadcrumbsProps {\n  maxLength?: number\n  separator?: React.ReactNode\n  space?: number | number[]\n}\n\n/**\n * @beta\n */\nexport const Breadcrumbs = forwardRef(function Breadcrumbs(\n  props: BreadcrumbsProps & Omit<React.HTMLProps<HTMLOListElement>, 'as' | 'ref' | 'type'>,\n  ref: React.ForwardedRef<HTMLOListElement>,\n) {\n  const {children, maxLength, separator, space: spaceRaw = 2, ...restProps} = props\n  const space = useArrayProp(spaceRaw)\n  const [open, setOpen] = useState(false)\n  const [expandElement, setExpandElement] = useState<HTMLButtonElement | null>(null)\n  const [popoverElement, setPopoverElement] = useState<HTMLDivElement | null>(null)\n\n  const collapse = useCallback(() => setOpen(false), [])\n  const expand = useCallback(() => setOpen(true), [])\n\n  useClickOutside(collapse, [expandElement, popoverElement])\n\n  const rawItems = useMemo(\n    () =>\n      Children.toArray(children).filter((child) => {\n        return isValidElement(child)\n      }),\n    [children],\n  )\n\n  const items = useMemo(() => {\n    const len = rawItems.length\n\n    if (maxLength && len > maxLength) {\n      const beforeLength = Math.ceil(maxLength / 2)\n      const afterLength = Math.floor(maxLength / 2)\n\n      return [\n        ...rawItems.slice(0, beforeLength - 1),\n        <Popover\n          constrainSize\n          content={\n            <Stack as=\"ol\" overflow=\"auto\" padding={space} space={space}>\n              {rawItems.slice(beforeLength - 1, len - afterLength)}\n            </Stack>\n          }\n          key=\"button\"\n          open={open}\n          placement=\"top\"\n          portal\n          ref={setPopoverElement}\n        >\n          <ExpandButton\n            fontSize={1}\n            mode=\"bleed\"\n            onClick={open ? collapse : expand}\n            padding={1}\n            ref={setExpandElement}\n            selected={open}\n            text=\"…\"\n          />\n        </Popover>,\n        ...rawItems.slice(len - afterLength),\n      ]\n    }\n\n    return rawItems\n  }, [collapse, expand, maxLength, open, rawItems, space])\n\n  return (\n    <Root data-ui=\"Breadcrumbs\" {...restProps} ref={ref}>\n      {items.map((item, itemIndex) => (\n        <Fragment key={itemIndex}>\n          {itemIndex > 0 && (\n            <Box aria-hidden as=\"li\" paddingX={space}>\n              {separator || <Text muted>/</Text>}\n            </Box>\n          )}\n          <Box as=\"li\">{item}</Box>\n        </Fragment>\n      ))}\n    </Root>\n  )\n})\n", "import {_responsive, ThemeProps} from '../../styles'\nimport {DialogPosition} from '../../types'\nimport {CSSObject} from '../../types/styled'\n\n/**\n * @internal\n */\nexport interface ResponsiveDialogPositionStyleProps {\n  $position: DialogPosition[]\n}\n\nexport function dialogStyle({theme}: ThemeProps): CSSObject {\n  const color = theme.sanity.color.base\n\n  return {\n    '&:not([hidden])': {\n      display: 'flex',\n    },\n\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n    outline: 'none',\n    background: color.shadow.umbra,\n  }\n}\n\nexport function responsiveDialogPositionStyle(\n  props: ResponsiveDialogPositionStyleProps & ThemeProps,\n): CSSObject[] {\n  const {theme} = props\n  const {media} = theme.sanity\n\n  return _responsive(media, props.$position, (position) => ({'&&': {position}}))\n}\n", "import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\nimport {DialogPosition} from '../../types'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface DialogContextValue {\n  version: 0.0\n  position?: DialogPosition | DialogPosition[]\n  zOffset?: number | number[]\n}\n\nconst key = Symbol.for('@sanity/ui/context/dialog')\n\nglobalScope[key] = globalScope[key] || createContext<DialogContextValue>({version: 0.0})\n\n/**\n * @internal\n */\nexport const DialogContext: React.Context<DialogContextValue> = globalScope[key]\n", "import {useContext} from 'react'\nimport {DialogContext, DialogContextValue} from './dialogContext'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport function useDialog(): DialogContextValue {\n  return useContext(DialogContext)\n}\n", "import {CloseIcon} from '@sanity/icons'\nimport {forwardRef, useCallback, useEffect, useRef, useState} from 'react'\nimport styled from 'styled-components'\nimport {\n  containsOrEqualsElement,\n  focusFirstDescendant,\n  focusLastDescendant,\n  isHTMLElement,\n} from '../../helpers'\nimport {useArrayProp, useClickOutside, useForwardedRef, useGlobalKeyDown} from '../../hooks'\nimport {Box, Button, Card, Container, Flex, Text} from '../../primitives'\nimport {ResponsivePaddingProps, ResponsiveWidthProps} from '../../primitives/types'\nimport {responsivePaddingStyle, ResponsivePaddingStyleProps} from '../../styles/internal'\nimport {ThemeColorSchemeKey, useTheme} from '../../theme'\nimport {DialogPosition} from '../../types'\nimport {Layer, LayerProps, Portal, useBoundaryElement, useLayer, usePortal} from '../../utils'\nimport {\n  dialogStyle,\n  responsiveDialogPositionStyle,\n  ResponsiveDialogPositionStyleProps,\n} from './styles'\nimport {useDialog} from './useDialog'\n\n/**\n * @public\n */\nexport interface DialogProps extends ResponsivePaddingProps, ResponsiveWidthProps {\n  /**\n   * @beta\n   */\n  __unstable_autoFocus?: boolean\n  /**\n   * @beta\n   */\n  __unstable_hideCloseButton?: boolean\n  cardRadius?: number | number[]\n  cardShadow?: number | number[]\n  contentRef?: React.ForwardedRef<HTMLDivElement>\n  footer?: React.ReactNode\n  header?: React.ReactNode\n  id: string\n  /** A callback that fires when the dialog becomes the top layer when it was not the top layer before. */\n  onActivate?: LayerProps['onActivate']\n  onClickOutside?: () => void\n  onClose?: () => void\n  portal?: string\n  position?: DialogPosition | DialogPosition[]\n  scheme?: ThemeColorSchemeKey\n  zOffset?: number | number[]\n}\n\ninterface DialogCardProps extends ResponsiveWidthProps {\n  /**\n   * @beta\n   */\n  __unstable_autoFocus: boolean\n  /**\n   * @beta\n   */\n  __unstable_hideCloseButton: boolean\n  children: React.ReactNode\n  contentRef?: React.ForwardedRef<HTMLDivElement>\n  footer: React.ReactNode\n  header: React.ReactNode\n  id: string\n  onClickOutside?: () => void\n  onClose?: () => void\n  portal?: string\n  radius: number | number[]\n  scheme?: ThemeColorSchemeKey\n  shadow: number | number[]\n}\n\nfunction isTargetWithinScope(\n  boundaryElement: HTMLElement | null,\n  portalElement: HTMLElement | null,\n  target: Node,\n): boolean {\n  if (!boundaryElement || !portalElement) return true\n\n  return (\n    containsOrEqualsElement(boundaryElement, target) ||\n    containsOrEqualsElement(portalElement, target)\n  )\n}\n\nconst Root = styled(Layer)<ResponsiveDialogPositionStyleProps & ResponsivePaddingStyleProps>(\n  responsivePaddingStyle,\n  dialogStyle,\n  responsiveDialogPositionStyle,\n)\n\nconst DialogContainer = styled(Container)`\n  &:not([hidden]) {\n    display: flex;\n  }\n  width: 100%;\n  height: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`\n\nconst DialogCardRoot = styled(Card)`\n  &:not([hidden]) {\n    display: flex;\n  }\n  width: 100%;\n  min-height: 0;\n  max-height: 100%;\n  overflow: hidden;\n  overflow: clip;\n`\n\nconst DialogLayout = styled(Flex)`\n  flex: 1;\n  min-height: 0;\n  width: 100%;\n`\n\nconst DialogHeader = styled(Card)`\n  position: relative;\n  z-index: 2;\n\n  &:after {\n    content: '';\n    display: block;\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: -1px;\n    border-bottom: 1px solid var(--card-hairline-soft-color);\n  }\n`\n\nconst DialogContent = styled(Box)`\n  position: relative;\n  z-index: 1;\n  overflow: auto;\n  outline: none;\n`\n\nconst DialogFooter = styled(Box)`\n  position: relative;\n  z-index: 3;\n  border-top: 1px solid var(--card-hairline-soft-color);\n`\n\nconst DialogCard = forwardRef(function DialogCard(\n  props: DialogCardProps,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {\n    __unstable_autoFocus: autoFocus,\n    __unstable_hideCloseButton: hideCloseButton,\n    children,\n    contentRef,\n    footer,\n    header,\n    id,\n    onClickOutside,\n    onClose,\n    portal: portalProp,\n    radius: radiusProp,\n    scheme,\n    shadow: shadowProp,\n    width: widthProp,\n  } = props\n  const portal = usePortal()\n  const portalElement = portalProp ? portal.elements?.[portalProp] || null : portal.element\n  const boundaryElement = useBoundaryElement().element\n  const radius = useArrayProp(radiusProp)\n  const shadow = useArrayProp(shadowProp)\n  const width = useArrayProp(widthProp)\n  const forwardedRef = useForwardedRef(ref)\n  const [rootElement, setRootElement] = useState<HTMLDivElement | null>(null)\n  const localContentRef = useRef<HTMLDivElement | null>(null)\n  const layer = useLayer()\n  const {isTopLayer} = layer\n  const labelId = `${id}_label`\n  const showCloseButton = Boolean(onClose) && hideCloseButton === false\n  const showHeader = Boolean(header) || showCloseButton\n\n  useEffect(() => {\n    if (!autoFocus) return\n\n    // On mount: focus the first focusable element\n    if (forwardedRef.current) {\n      focusFirstDescendant(forwardedRef.current)\n    }\n  }, [autoFocus, forwardedRef])\n\n  useGlobalKeyDown(\n    useCallback(\n      (event: KeyboardEvent) => {\n        if (!isTopLayer || !onClose) return\n\n        const target = document.activeElement\n\n        if (target && !isTargetWithinScope(boundaryElement, portalElement, target)) {\n          // Ignore key presses when the focused element is outside of scope\n          return\n        }\n\n        if (event.key === 'Escape') {\n          event.preventDefault()\n          event.stopPropagation()\n          onClose()\n        }\n      },\n      [boundaryElement, isTopLayer, onClose, portalElement],\n    ),\n  )\n\n  useClickOutside(\n    useCallback(\n      (event: MouseEvent) => {\n        if (!isTopLayer || !onClickOutside) return\n\n        const target = event.target as Node | null\n\n        if (target && !isTargetWithinScope(boundaryElement, portalElement, target)) {\n          // Ignore clicks outside of the scope\n          return\n        }\n\n        onClickOutside()\n      },\n      [boundaryElement, isTopLayer, onClickOutside, portalElement],\n    ),\n    [rootElement],\n  )\n\n  const setRef = useCallback(\n    (el: HTMLDivElement | null) => {\n      setRootElement(el)\n      forwardedRef.current = el\n    },\n    [forwardedRef],\n  )\n\n  const setContentRef = useCallback(\n    (el: HTMLDivElement | null) => {\n      localContentRef.current = el\n      if (typeof contentRef === 'function') contentRef(el)\n      else if (contentRef) contentRef.current = el\n    },\n    [contentRef],\n  )\n\n  return (\n    <DialogContainer data-ui=\"DialogCard\" width={width}>\n      <DialogCardRoot radius={radius} ref={setRef} scheme={scheme} shadow={shadow}>\n        <DialogLayout direction=\"column\">\n          {showHeader && (\n            <DialogHeader>\n              <Flex>\n                <Box flex={1} padding={4}>\n                  {header && (\n                    <Text id={labelId} weight=\"semibold\">\n                      {header}\n                    </Text>\n                  )}\n                </Box>\n                {showCloseButton && (\n                  <Box padding={2}>\n                    <Button\n                      aria-label=\"Close dialog\"\n                      disabled={!onClose}\n                      icon={CloseIcon}\n                      mode=\"bleed\"\n                      onClick={onClose}\n                      padding={3}\n                    />\n                  </Box>\n                )}\n              </Flex>\n            </DialogHeader>\n          )}\n\n          <DialogContent flex={1} ref={setContentRef} tabIndex={-1}>\n            {children}\n          </DialogContent>\n\n          {footer && <DialogFooter>{footer}</DialogFooter>}\n        </DialogLayout>\n      </DialogCardRoot>\n    </DialogContainer>\n  )\n})\n\n/**\n * @public\n */\nexport const Dialog = forwardRef(function Dialog(\n  props: DialogProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'id' | 'width'>,\n  ref: React.Ref<HTMLDivElement>,\n) {\n  const dialog = useDialog()\n  const theme = useTheme()\n  const {\n    __unstable_autoFocus: autoFocus = true,\n    __unstable_hideCloseButton: hideCloseButton = false,\n    cardRadius: cardRadiusProp = 3,\n    cardShadow = 4,\n    children,\n    contentRef,\n    footer,\n    header,\n    id,\n    onActivate,\n    onClickOutside,\n    onClose,\n    onFocus,\n    padding: paddingProp = 4,\n    portal: portalProp,\n    position: positionProp = dialog.position || 'fixed',\n    scheme,\n    width: widthProp = 0,\n    zOffset: zOffsetProp = dialog.zOffset || theme.sanity.layer?.dialog.zOffset,\n    ...restProps\n  } = props\n  const portal = usePortal()\n  const portalElement = portalProp ? portal.elements?.[portalProp] || null : portal.element\n  const boundaryElement = useBoundaryElement().element\n  const cardRadius = useArrayProp(cardRadiusProp)\n  const padding = useArrayProp(paddingProp)\n  const position = useArrayProp(positionProp)\n  const width = useArrayProp(widthProp)\n  const zOffset = useArrayProp(zOffsetProp)\n  const preDivRef = useRef<HTMLDivElement | null>(null)\n  const postDivRef = useRef<HTMLDivElement | null>(null)\n  const cardRef = useRef<HTMLDivElement | null>(null)\n  const focusedElementRef = useRef<HTMLElement | null>(null)\n\n  const handleFocus = useCallback(\n    (event: React.FocusEvent<HTMLDivElement>) => {\n      onFocus?.(event)\n\n      const target = event.target\n      const cardElement = cardRef.current\n\n      if (cardElement && target === preDivRef.current) {\n        focusLastDescendant(cardElement)\n\n        return\n      }\n\n      if (cardElement && target === postDivRef.current) {\n        focusFirstDescendant(cardElement)\n\n        return\n      }\n\n      if (isHTMLElement(event.target)) {\n        focusedElementRef.current = event.target\n      }\n    },\n    [onFocus],\n  )\n\n  const labelId = `${id}_label`\n\n  const rootClickTimeoutRef = useRef<NodeJS.Timeout>()\n\n  // If the resulting active element (a.k.a. focused element) is not withing scope when clicking\n  // within the dialog, then we want to focus the previously interactive element in the dialog instead.\n  // This is to allow the user to tab or close the dialog by pressing escape.\n  const handleRootClick = useCallback(() => {\n    if (rootClickTimeoutRef.current) {\n      clearTimeout(rootClickTimeoutRef.current)\n    }\n\n    rootClickTimeoutRef.current = setTimeout(() => {\n      const activeElement = document.activeElement\n\n      if (activeElement && !isTargetWithinScope(boundaryElement, portalElement, activeElement)) {\n        const target = focusedElementRef.current\n\n        if (!target || !document.body.contains(target)) {\n          // No previously focused element, or it's not in the document anymore\n          const cardElement = cardRef.current\n          if (cardElement) focusFirstDescendant(cardElement)\n\n          return\n        }\n\n        target.focus()\n      }\n    }, 0)\n  }, [boundaryElement, portalElement])\n\n  return (\n    <Portal __unstable_name={portalProp}>\n      <Root\n        {...restProps}\n        $padding={padding}\n        $position={position}\n        aria-labelledby={labelId}\n        aria-modal\n        data-ui=\"Dialog\"\n        id={id}\n        onActivate={onActivate}\n        onClick={handleRootClick}\n        onFocus={handleFocus}\n        ref={ref}\n        role=\"dialog\"\n        zOffset={zOffset}\n      >\n        <div ref={preDivRef} tabIndex={0} />\n        <DialogCard\n          __unstable_autoFocus={autoFocus}\n          __unstable_hideCloseButton={hideCloseButton}\n          contentRef={contentRef}\n          footer={footer}\n          header={header}\n          id={id}\n          onClickOutside={onClickOutside}\n          onClose={onClose}\n          portal={portalProp}\n          radius={cardRadius}\n          ref={cardRef}\n          scheme={scheme}\n          shadow={cardShadow}\n          width={width}\n        >\n          {children}\n        </DialogCard>\n        <div ref={postDivRef} tabIndex={0} />\n      </Root>\n    </Portal>\n  )\n})\n", "import {useMemo} from 'react'\nimport {DialogPosition} from '../../types'\nimport {DialogContext, DialogContextValue} from './dialogContext'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface DialogProviderProps {\n  children?: React.ReactNode\n  position?: DialogPosition | DialogPosition[]\n  zOffset?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport function DialogProvider(props: DialogProviderProps): React.ReactElement {\n  const {children, position, zOffset} = props\n\n  const contextValue: DialogContextValue = useMemo(\n    () => ({\n      version: 0.0,\n      position,\n      zOffset,\n    }),\n    [position, zOffset],\n  )\n\n  return <DialogContext.Provider value={contextValue}>{children}</DialogContext.Provider>\n}\n", "import {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {Inline, KBD} from '../../primitives'\n\n/**\n * @public\n */\nexport interface HotkeysProps {\n  fontSize?: number | number[]\n  padding?: number | number[]\n  radius?: number | number[]\n  space?: number | number[]\n  keys?: string[]\n}\n\nconst Root = styled.kbd`\n  &:not([hidden]) {\n    display: block;\n  }\n  font: inherit;\n`\n\nconst Key = styled(KBD)`\n  &:not([hidden]) {\n    display: block;\n  }\n`\n\n/**\n * @public\n */\nexport const Hotkeys = forwardRef(function Hotkeys(\n  props: HotkeysProps & Omit<React.HTMLProps<HTMLElement>, 'as' | 'ref' | 'size'>,\n  ref: React.Ref<HTMLElement>,\n) {\n  const {fontSize, keys, padding, radius, space: spaceProp = 1, ...restProps} = props\n  const space = useArrayProp(spaceProp)\n\n  if (!keys || keys.length === 0) {\n    return <></>\n  }\n\n  return (\n    <Root data-ui=\"Hotkeys\" {...restProps} ref={ref}>\n      <Inline as=\"span\" space={space}>\n        {keys.map((key, i) => (\n          <Key fontSize={fontSize} key={i} padding={padding} radius={radius}>\n            {key}\n          </Key>\n        ))}\n      </Inline>\n    </Root>\n  )\n})\n", "import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\n\nexport interface MenuContextValue {\n  version: 0.0\n  activeElement: HTMLElement | null\n  activeIndex: number\n  mount: (element: HTMLElement | null, selected?: boolean) => () => void\n  onClickOutside?: (event: MouseEvent) => void\n  onEscape?: () => void\n  onItemClick?: () => void\n  onItemMouseEnter?: (event: React.MouseEvent<HTMLElement>) => void\n  onItemMouseLeave?: (event: React.MouseEvent<HTMLElement>) => void\n  registerElement?: (el: HTMLElement) => () => void\n\n  /**\n   * @deprecated Use `onItemMouseEnter` instead\n   */\n  onMouseEnter: (event: React.MouseEvent<HTMLElement>) => void\n\n  /**\n   * @deprecated Use `onItemMouseLeave` instead\n   */\n  onMouseLeave: (event: React.MouseEvent<HTMLElement>) => void\n}\n\nconst key = Symbol.for('@sanity/ui/context/menu')\n\nglobalScope[key] = globalScope[key] || createContext<MenuContextValue | null>(null)\n\nexport const MenuContext: React.Context<MenuContextValue | null> = globalScope[key]\n", "import {isHTMLAnchorElement, isHTMLButtonElement} from '../../helpers'\n\n/**\n * @internal\n */\nfunction _isFocusable(element: HTMLElement) {\n  return (\n    (isHTMLAnchorElement(element) && element.getAttribute('data-disabled') !== 'true') ||\n    (isHTMLButtonElement(element) && !element.disabled)\n  )\n}\n\n/**\n * @internal\n */\nexport function _getFocusableElements(elements: HTMLElement[]): HTMLElement[] {\n  return elements.filter(_isFocusable)\n}\n\n/**\n * @internal\n */\nexport function _getDOMPath(rootElement: HTMLElement, el: HTMLElement): number[] {\n  const path: number[] = []\n\n  let e = el\n\n  while (e !== rootElement) {\n    const parentElement = e.parentElement\n\n    if (!parentElement) return path\n\n    const children = Array.from(parentElement.childNodes)\n    const index = children.indexOf(e)\n\n    path.unshift(index)\n\n    if (parentElement === rootElement) {\n      return path\n    }\n\n    e = parentElement\n  }\n\n  return path\n}\n\nconst EMPTY_PATH: number[] = []\n\n/**\n * @internal\n */\nexport function _sortElements(rootElement: HTMLElement | null, elements: HTMLElement[]): void {\n  if (!rootElement) return\n\n  const map = new WeakMap<HTMLElement, number[]>()\n\n  for (const el of elements) {\n    map.set(el, _getDOMPath(rootElement, el))\n  }\n\n  const _sort = (a: HTMLElement, b: HTMLElement) => {\n    const _a = map.get(a) || EMPTY_PATH\n    const _b = map.get(b) || EMPTY_PATH\n\n    const len = Math.max(_a.length, _b.length)\n\n    // Loop until there are different indexes\n    for (let i = 0; i < len; i += 1) {\n      const aIndex = _a[i] || -1\n      const bIndex = _b[i] || -1\n\n      if (aIndex !== bIndex) {\n        return aIndex - bIndex\n      }\n    }\n\n    return 0\n  }\n\n  elements.sort(_sort)\n}\n", "import {useCallback, useEffect, useRef, useState} from 'react'\nimport {_getFocusableElements, _sortElements} from './helpers'\n\n/**\n * @internal\n */\nexport interface MenuController {\n  activeElement: HTMLElement | null\n  activeIndex: number\n  handleItemMouseEnter: (event: React.MouseEvent<HTMLElement>) => void\n  handleItemMouseLeave: () => void\n  handleKeyDown: (event: React.KeyboardEvent<HTMLDivElement>) => void\n  mount: (element: HTMLElement | null, selected?: boolean) => () => void\n  rootElement: HTMLDivElement | null\n  setRootElement: (el: HTMLDivElement | null) => void\n}\n\n/**\n * This controller is responsible for controlling UI menu state.\n *\n * @internal\n */\nexport function useMenuController(props: {\n  onKeyDown?: React.KeyboardEventHandler\n  originElement?: HTMLElement | null\n  shouldFocus: 'first' | 'last' | null\n}): MenuController {\n  const {onKeyDown, originElement, shouldFocus} = props\n  const elementsRef = useRef<HTMLElement[]>([])\n  const [rootElement, setRootElement] = useState<HTMLDivElement | null>(null)\n  const [activeIndex, _setActiveIndex] = useState(-1)\n  const activeIndexRef = useRef(activeIndex)\n  const activeElement = elementsRef.current[activeIndex] || null\n  const mounted = Boolean(rootElement)\n\n  const setActiveIndex = useCallback((nextActiveIndex: number) => {\n    _setActiveIndex(nextActiveIndex)\n    activeIndexRef.current = nextActiveIndex\n  }, [])\n\n  const mount = useCallback(\n    (element: HTMLElement | null, selected?: boolean): (() => void) => {\n      if (!element) return () => undefined\n\n      if (elementsRef.current.indexOf(element) === -1) {\n        elementsRef.current.push(element)\n        _sortElements(rootElement, elementsRef.current)\n      }\n\n      if (selected) {\n        const selectedIndex = elementsRef.current.indexOf(element)\n\n        setActiveIndex(selectedIndex)\n      }\n\n      return () => {\n        const idx = elementsRef.current.indexOf(element)\n\n        if (idx > -1) {\n          elementsRef.current.splice(idx, 1)\n        }\n      }\n    },\n    [rootElement, setActiveIndex],\n  )\n\n  const handleKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      // Move focus to the element that opened the menu before handling the `Tab` press\n      if (event.key === 'Tab') {\n        if (originElement) {\n          originElement.focus()\n        }\n\n        return\n      }\n\n      // Move focus to the first focusable menuitem\n      if (event.key === 'Home') {\n        event.preventDefault()\n        event.stopPropagation()\n\n        const focusableElements = _getFocusableElements(elementsRef.current)\n        const el = focusableElements[0]\n\n        if (!el) return\n\n        const currentIndex = elementsRef.current.indexOf(el)\n\n        setActiveIndex(currentIndex)\n\n        return\n      }\n\n      // Move focus to the last focusable menuitem\n      if (event.key === 'End') {\n        event.preventDefault()\n        event.stopPropagation()\n\n        const focusableElements = _getFocusableElements(elementsRef.current)\n        const el = focusableElements[focusableElements.length - 1]\n\n        if (!el) return\n\n        const currentIndex = elementsRef.current.indexOf(el)\n\n        setActiveIndex(currentIndex)\n\n        return\n      }\n\n      if (event.key === 'ArrowUp') {\n        event.preventDefault()\n        event.stopPropagation()\n\n        const focusableElements = _getFocusableElements(elementsRef.current)\n        const focusableLen = focusableElements.length\n\n        if (focusableLen === 0) return\n\n        const focusedElement = elementsRef.current[activeIndexRef.current]\n\n        let focusedIndex = focusableElements.indexOf(focusedElement)\n\n        focusedIndex = (focusedIndex - 1 + focusableLen) % focusableLen\n\n        const el = focusableElements[focusedIndex]\n        const currentIndex = elementsRef.current.indexOf(el)\n\n        setActiveIndex(currentIndex)\n\n        return\n      }\n\n      if (event.key === 'ArrowDown') {\n        event.preventDefault()\n        event.stopPropagation()\n\n        const focusableElements = _getFocusableElements(elementsRef.current)\n        const focusableLen = focusableElements.length\n\n        if (focusableLen === 0) return\n\n        const focusedElement = elementsRef.current[activeIndexRef.current]\n\n        let focusedIndex = focusableElements.indexOf(focusedElement)\n\n        focusedIndex = (focusedIndex + 1) % focusableLen\n\n        const el = focusableElements[focusedIndex]\n        const currentIndex = elementsRef.current.indexOf(el)\n\n        setActiveIndex(currentIndex)\n\n        return\n      }\n\n      if (onKeyDown) {\n        onKeyDown(event)\n      }\n    },\n    [onKeyDown, originElement, setActiveIndex],\n  )\n\n  const handleItemMouseEnter = useCallback(\n    (event: React.MouseEvent<HTMLElement>) => {\n      const element = event.currentTarget\n      const currentIndex = elementsRef.current.indexOf(element)\n\n      setActiveIndex(currentIndex)\n    },\n    [setActiveIndex],\n  )\n\n  const handleItemMouseLeave = useCallback(() => {\n    // Set the active index to -2 to deactivate all menu items\n    // when the user moves the mouse away from the menu item.\n    // We avoid using -1 because it would focus the first menu item,\n    // which would be incorrect when the user hovers over a gap\n    // between two menu items or a menu divider.\n    setActiveIndex(-2)\n    rootElement?.focus()\n  }, [setActiveIndex, rootElement])\n\n  // Set focus on the currently active element\n  useEffect(() => {\n    if (!mounted) return\n\n    const rafId = window.requestAnimationFrame(() => {\n      const _activeIndex = activeIndexRef.current\n\n      if (_activeIndex === -1) {\n        if (shouldFocus === 'first') {\n          const focusableElements = _getFocusableElements(elementsRef.current)\n          const el = focusableElements[0]\n\n          if (el) {\n            const currentIndex = elementsRef.current.indexOf(el)\n\n            setActiveIndex(currentIndex)\n            activeIndexRef.current = currentIndex\n          }\n        }\n\n        if (shouldFocus === 'last') {\n          const focusableElements = _getFocusableElements(elementsRef.current)\n          const el = focusableElements[focusableElements.length - 1]\n\n          if (el) {\n            const currentIndex = elementsRef.current.indexOf(el)\n\n            setActiveIndex(currentIndex)\n            activeIndexRef.current = currentIndex\n          }\n        }\n\n        return\n      }\n\n      const element = elementsRef.current[_activeIndex] || null\n\n      element?.focus()\n    })\n\n    return () => {\n      window.cancelAnimationFrame(rafId)\n    }\n  }, [activeIndex, mounted, setActiveIndex, shouldFocus])\n\n  return {\n    activeElement,\n    activeIndex,\n    handleItemMouseEnter,\n    handleItemMouseLeave,\n    handleKeyDown,\n    mount,\n    rootElement,\n    setRootElement,\n  }\n}\n", "import {forwardRef, useCallback, useEffect, useMemo} from 'react'\nimport styled from 'styled-components'\nimport {useClickOutside, useForwardedRef, useGlobalKeyDown} from '../../hooks'\nimport {Box, Stack} from '../../primitives'\nimport {ResponsivePaddingProps} from '../../primitives/types'\nimport {useLayer} from '../../utils'\nimport {MenuContext, MenuContextValue} from './menuContext'\nimport {useMenuController} from './useMenuController'\n\n/**\n * @public\n */\nexport interface MenuProps extends ResponsivePaddingProps {\n  /**\n   * @deprecated Use `shouldFocus=\"first\"` instead.\n   */\n  focusFirst?: boolean\n  /**\n   * @deprecated Use `shouldFocus=\"last\"` instead.\n   */\n  focusLast?: boolean\n  onClickOutside?: (event: MouseEvent) => void\n  onEscape?: () => void\n  onItemClick?: () => void\n  onItemSelect?: (index: number) => void\n  originElement?: HTMLElement | null\n  registerElement?: (el: HTMLElement) => () => void\n  shouldFocus?: 'first' | 'last' | null\n  space?: number | number[]\n}\n\nconst Root = styled(Box)`\n  outline: none;\n  overflow: auto;\n`\n\n/**\n * @public\n */\nexport const Menu = forwardRef(function Menu(\n  props: MenuProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'role' | 'tabIndex'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {\n    children,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    focusFirst,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    focusLast,\n    onClickOutside,\n    onEscape,\n    onItemClick,\n    onItemSelect,\n    onKeyDown,\n    originElement,\n    padding = 1,\n    registerElement,\n    shouldFocus = (props.focusFirst && 'first') || (props.focusLast && 'last') || null,\n    space = 1,\n    ...restProps\n  } = props\n\n  const forwardedRef = useForwardedRef(ref)\n\n  const {isTopLayer} = useLayer()\n\n  const {\n    activeElement,\n    activeIndex,\n    handleItemMouseEnter,\n    handleItemMouseLeave,\n    handleKeyDown,\n    mount,\n    rootElement,\n    setRootElement,\n  } = useMenuController({onKeyDown, originElement, shouldFocus})\n\n  const handleRefChange = useCallback(\n    (el: HTMLDivElement | null) => {\n      setRootElement(el)\n      forwardedRef.current = el\n    },\n    [forwardedRef, setRootElement],\n  )\n\n  // Trigger `onItemSelect` when active index changes\n  useEffect(() => {\n    if (onItemSelect) onItemSelect(activeIndex)\n  }, [activeIndex, onItemSelect])\n\n  // Close menu when clicking outside\n  useClickOutside(\n    useCallback(\n      (event) => isTopLayer && onClickOutside && onClickOutside(event),\n      [isTopLayer, onClickOutside],\n    ),\n    [rootElement],\n  )\n\n  // Close menu when pressing Escape\n  useGlobalKeyDown(\n    useCallback(\n      (event) => {\n        if (!isTopLayer) return\n\n        if (event.key === 'Escape') {\n          event.stopPropagation()\n          if (onEscape) onEscape()\n        }\n      },\n      [isTopLayer, onEscape],\n    ),\n  )\n\n  // Register root element (for nested menus)\n  useEffect(() => {\n    if (!rootElement || !registerElement) return\n\n    return registerElement(rootElement)\n  }, [registerElement, rootElement])\n\n  const value: MenuContextValue = useMemo(\n    () => ({\n      version: 0.0,\n      activeElement,\n      activeIndex,\n      mount,\n      onClickOutside,\n      onEscape,\n      onItemClick,\n      onItemMouseEnter: handleItemMouseEnter,\n      onItemMouseLeave: handleItemMouseLeave,\n      registerElement,\n\n      // deprecated\n      onMouseEnter: handleItemMouseEnter,\n      onMouseLeave: handleItemMouseLeave,\n    }),\n    [\n      activeElement,\n      activeIndex,\n      mount,\n      handleItemMouseEnter,\n      handleItemMouseLeave,\n      onClickOutside,\n      onEscape,\n      onItemClick,\n      registerElement,\n    ],\n  )\n\n  return (\n    <MenuContext.Provider value={value}>\n      <Root\n        data-ui=\"Menu\"\n        {...restProps}\n        onKeyDown={handleKeyDown}\n        padding={padding}\n        ref={handleRefChange}\n        role=\"menu\"\n        tabIndex={-1}\n      >\n        <Stack space={space}>{children}</Stack>\n      </Root>\n    </MenuContext.Provider>\n  )\n})\n", "import {cloneElement, forwardRef, useCallback, useMemo, useState, useEffect, useRef} from 'react'\nimport {isElement} from 'react-is'\nimport {Popover, PopoverProps} from '../../primitives'\nimport {ThemeColorSchemeKey} from '../../theme'\nimport {Placement} from '../../types'\nimport {MenuProps} from './menu'\n\n/**\n * @public\n */\nexport interface MenuButtonProps {\n  /**\n   * @beta Do not use in production.\n   */\n  __unstable_disableRestoreFocusOnClose?: boolean\n  /**\n   * @deprecated Use `popover={{boundaryElement: element}}` instead.\n   */\n  boundaryElement?: HTMLElement\n  button: React.ReactElement\n  id: string\n  menu?: React.ReactElement\n  onClose?: () => void\n  onOpen?: () => void\n  /**\n   * @deprecated Use `popover={{placement: 'top'}}` instead.\n   */\n  placement?: Placement\n  popover?: Omit<PopoverProps, 'content' | 'open'>\n  /**\n   * @deprecated Use `popover={{scheme: 'dark'}}` instead.\n   */\n  popoverScheme?: ThemeColorSchemeKey\n  /**\n   * @deprecated Use `popover={{radius: 2}}` instead.\n   */\n  popoverRadius?: number | number[]\n  /**\n   * @beta Do not use in production.\n   * @deprecated Use `popover={{portal: true}}` instead.\n   */\n  portal?: boolean\n  /**\n   * @deprecated Use `popover={{preventOverflow: true}}` instead.\n   */\n  preventOverflow?: boolean\n}\n\n/**\n * @public\n */\nexport const MenuButton = forwardRef(function MenuButton(\n  props: MenuButtonProps,\n  ref: React.ForwardedRef<HTMLButtonElement | null>,\n) {\n  const {\n    __unstable_disableRestoreFocusOnClose: disableRestoreFocusOnClose = false,\n    boundaryElement: deprecated_boundaryElement,\n    button: buttonProp,\n    id,\n    menu: menuProp,\n    onClose,\n    onOpen,\n    placement: deprecated_placement,\n    popoverScheme: deprecated_popoverScheme,\n    portal: deprecated_portal = true,\n    popover,\n    popoverRadius: deprecated_popoverRadius,\n    preventOverflow: deprecated_preventOverflow,\n  } = props\n  const [open, setOpen] = useState(false)\n  const [shouldFocus, setShouldFocus] = useState<'first' | 'last' | null>(null)\n  const [buttonElement, setButtonElement] = useState<HTMLButtonElement | null>(null)\n  const [menuElements, setChildMenuElements] = useState<HTMLElement[]>([])\n  const openRef = useRef<boolean>(open)\n\n  // Notify consumers when the menu opens\n  useEffect(() => {\n    if (onOpen && open && !openRef.current) {\n      onOpen()\n    }\n  }, [onOpen, open])\n\n  // Notify consumers when the menu closes\n  useEffect(() => {\n    if (onClose && !open && openRef.current) {\n      onClose()\n    }\n  }, [onClose, open])\n\n  useEffect(() => {\n    openRef.current = open\n  }, [open])\n\n  const handleButtonClick = useCallback(() => {\n    setOpen((v) => !v)\n    setShouldFocus(null)\n  }, [])\n\n  const handleButtonKeyDown = useCallback((event: React.KeyboardEvent<HTMLButtonElement>) => {\n    // On `ArrowDown`, `Enter` and `Space`\n    // - Opens menu and moves focus to first menuitem\n    if (event.key === 'ArrowDown' || event.key === 'Enter' || event.key === ' ') {\n      event.preventDefault()\n      setOpen(true)\n      setShouldFocus('first')\n\n      return\n    }\n\n    // On `ArrowUp`\n    // - \tOpens menu and moves focus to last menuitem\n    if (event.key === 'ArrowUp') {\n      event.preventDefault()\n      setOpen(true)\n      setShouldFocus('last')\n\n      return\n    }\n  }, [])\n\n  const handleMenuClickOutside = useCallback(\n    (event: MouseEvent) => {\n      const target = event.target\n\n      if (!(target instanceof Node)) {\n        return\n      }\n\n      if (buttonElement && (target === buttonElement || buttonElement.contains(target))) {\n        return\n      }\n\n      for (const el of menuElements) {\n        if (target === el || el.contains(target)) {\n          return\n        }\n      }\n\n      setOpen(false)\n    },\n    [buttonElement, menuElements],\n  )\n\n  const handleMenuEscape = useCallback(() => {\n    setOpen(false)\n    if (disableRestoreFocusOnClose) return\n    if (buttonElement) buttonElement.focus()\n  }, [buttonElement, disableRestoreFocusOnClose])\n\n  const handleBlur = useCallback(\n    (event: React.FocusEvent<HTMLButtonElement>) => {\n      const target = event.relatedTarget\n\n      if (!(target instanceof Node)) {\n        return\n      }\n\n      for (const el of menuElements) {\n        if (el === target || el.contains(target)) {\n          return\n        }\n      }\n\n      setOpen(false)\n    },\n    [menuElements],\n  )\n\n  const handleItemClick = useCallback(() => {\n    setOpen(false)\n    if (disableRestoreFocusOnClose) return\n    if (buttonElement) buttonElement.focus()\n  }, [buttonElement, disableRestoreFocusOnClose])\n\n  const registerElement = useCallback((el: HTMLElement) => {\n    setChildMenuElements((els) => els.concat([el]))\n\n    return () => {\n      setChildMenuElements((els) => {\n        return els.filter((_el) => _el !== el)\n      })\n    }\n  }, [])\n\n  const menuProps: MenuProps = useMemo(\n    () => ({\n      'aria-labelledby': id,\n      onBlurCapture: handleBlur,\n      onClickOutside: handleMenuClickOutside,\n      onEscape: handleMenuEscape,\n      onItemClick: handleItemClick,\n      originElement: buttonElement,\n      registerElement,\n      shouldFocus,\n    }),\n    [\n      buttonElement,\n      handleMenuClickOutside,\n      handleMenuEscape,\n      handleItemClick,\n      id,\n      handleBlur,\n      registerElement,\n      shouldFocus,\n    ],\n  )\n\n  const menu = isElement(menuProp) ? cloneElement(menuProp, menuProps) : null\n\n  const setButtonRef = useCallback(\n    (el: HTMLButtonElement | null) => {\n      if (typeof ref === 'function') {\n        ref(el)\n      } else if (ref) {\n        ref.current = el\n      }\n\n      setButtonElement(el)\n    },\n    [ref],\n  )\n\n  const button = useMemo(\n    () =>\n      isElement(buttonProp)\n        ? cloneElement(buttonProp, {\n            'data-ui': 'MenuButton',\n            id,\n            onClick: handleButtonClick,\n            onKeyDown: handleButtonKeyDown,\n            'aria-haspopup': true,\n            'aria-expanded': open,\n            ref: setButtonRef,\n            selected: open,\n          })\n        : null,\n    [buttonProp, handleButtonClick, handleButtonKeyDown, id, open, setButtonRef],\n  )\n\n  const popoverProps: MenuButtonProps['popover'] = useMemo(\n    () => ({\n      boundaryElement: deprecated_boundaryElement,\n      overflow: 'auto',\n      placement: deprecated_placement,\n      portal: deprecated_portal,\n      preventOverflow: deprecated_preventOverflow,\n      radius: deprecated_popoverRadius,\n      scheme: deprecated_popoverScheme,\n      ...(popover || {}),\n    }),\n    [\n      deprecated_boundaryElement,\n      deprecated_placement,\n      deprecated_popoverRadius,\n      deprecated_popoverScheme,\n      deprecated_portal,\n      deprecated_preventOverflow,\n      popover,\n    ],\n  )\n\n  return (\n    <Popover data-ui=\"MenuButton__popover\" {...popoverProps} content={menu} open={open}>\n      {button || <></>}\n    </Popover>\n  )\n})\n", "import styled from 'styled-components'\n\n/**\n * @public\n */\nexport const MenuDivider = styled.hr`\n  height: 1px;\n  border: 0;\n  background: var(--card-hairline-soft-color);\n  margin: 0;\n`\n", "import {css} from 'styled-components'\nimport {ThemeProps} from '../../styles'\nimport {_colorVarsStyle} from '../../styles/colorVars'\nimport {SelectableTone} from '../../types/selectable'\n\n/**\n * @internal\n */\nexport interface SelectableStyleProps {\n  $tone: SelectableTone\n}\n\nexport function selectableBaseStyle(): ReturnType<typeof css> {\n  return css`\n    background-color: inherit;\n    color: inherit;\n\n    &[data-as='button'] {\n      -webkit-font-smoothing: inherit;\n      appearance: none;\n      outline: none;\n      font: inherit;\n      text-align: inherit;\n      border: 0;\n      width: -webkit-fill-available;\n      width: stretch;\n    }\n\n    /* &:is(a) */\n    &[data-as='a'] {\n      text-decoration: none;\n    }\n  `\n}\n\nexport function selectableColorStyle(\n  props: SelectableStyleProps & ThemeProps,\n): ReturnType<typeof css> {\n  const {$tone, theme} = props\n  const {base, muted, selectable} = theme.sanity.color\n  // @todo: remove use of `muted` here\n  const tone = selectable ? selectable[$tone] || selectable.default : muted[$tone] || muted.default\n\n  return css`\n    ${_colorVarsStyle(base, tone.enabled)}\n\n    background-color: var(--card-bg-color);\n    color: var(--card-fg-color);\n    outline: none;\n\n    /* &:is(button) */\n    &[data-as='button'] {\n      &:disabled {\n        ${_colorVarsStyle(base, tone.disabled)}\n      }\n\n      &:not(:disabled) {\n        &[aria-pressed='true'] {\n          ${_colorVarsStyle(base, tone.pressed)}\n        }\n\n        &[data-selected],\n        &[aria-selected='true'] > & {\n          ${_colorVarsStyle(base, tone.selected)}\n        }\n\n        @media (hover: hover) {\n          &:not([data-selected]) {\n            &[data-hovered],\n            &:hover {\n              ${_colorVarsStyle(base, tone.hovered)}\n            }\n\n            &:active {\n              ${_colorVarsStyle(base, tone.pressed)}\n            }\n          }\n        }\n      }\n    }\n\n    /* &:is(a) */\n    &[data-as='a'] {\n      &[data-disabled] {\n        ${_colorVarsStyle(base, tone.disabled)}\n      }\n\n      &:not([data-disabled]) {\n        &[data-pressed] {\n          ${_colorVarsStyle(base, tone.pressed)}\n        }\n\n        &[data-selected] {\n          ${_colorVarsStyle(base, tone.selected)}\n        }\n\n        @media (hover: hover) {\n          &:not([data-selected]) {\n            &[data-hovered],\n            &:hover {\n              ${_colorVarsStyle(base, tone.hovered)}\n            }\n\n            &:active {\n              ${_colorVarsStyle(base, tone.pressed)}\n            }\n          }\n        }\n      }\n    }\n\n    ${theme.sanity.styles?.card?.root}\n  `\n}\n", "import styled from 'styled-components'\nimport {responsiveRadiusStyle, ResponsiveRadiusStyleProps} from '../../styles/radius'\nimport {Box} from '../box'\nimport {selectableBaseStyle, selectableColorStyle, SelectableStyleProps} from './style'\n\n/**\n * @internal\n */\nexport const Selectable = styled(Box)<SelectableStyleProps & ResponsiveRadiusStyleProps>(\n  responsiveRadiusStyle,\n  selectableBaseStyle,\n  selectableColorStyle,\n)\n", "import {useContext} from 'react'\nimport {isRecord} from '../../lib/isRecord'\nimport {MenuContext, MenuContextValue} from './menuContext'\n\nexport function useMenu(): MenuContextValue {\n  const value = useContext(MenuContext)\n\n  if (!value) {\n    throw new Error('useMenu(): missing context value')\n  }\n\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (!isRecord(value) || value.version !== 0.0) {\n    throw new Error('useMenu(): the context value is not compatible')\n  }\n\n  return value\n}\n", "import {ChevronRightIcon} from '@sanity/icons'\nimport {createElement, isValidElement, useCallback, useEffect, useRef, useState} from 'react'\nimport {isValidElementType} from 'react-is'\nimport {useArrayProp} from '../../hooks'\nimport {Box, Flex, Popover, PopoverProps, Text} from '../../primitives'\nimport {Selectable} from '../../primitives/_selectable'\nimport {SelectableTone} from '../../types/selectable'\nimport {Menu} from './menu'\nimport {useMenu} from './useMenu'\n\n/**\n * @public\n */\nexport interface MenuGroupProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  fontSize?: number | number[]\n  icon?: React.ElementType | React.ReactNode\n  padding?: number | number[]\n  popover?: Omit<PopoverProps, 'content' | 'open'>\n  radius?: number | number[]\n  space?: number | number[]\n  text: React.ReactNode\n  tone?: SelectableTone\n}\n\n/**\n * @public\n */\nexport function MenuGroup(\n  props: MenuGroupProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'ref' | 'tabIndex'>,\n): React.ReactElement {\n  const {\n    as = 'button',\n    children,\n    fontSize,\n    icon,\n    onClick,\n    padding = 3,\n    popover,\n    radius = 2,\n    space = 3,\n    text,\n    tone = 'default',\n    ...restProps\n  } = props\n  const menu = useMenu()\n  const {\n    activeElement,\n    mount,\n    onClickOutside,\n    onEscape,\n    onItemClick,\n    onItemMouseEnter = menu.onMouseEnter,\n    registerElement,\n  } = menu\n  const [rootElement, setRootElement] = useState<HTMLButtonElement | HTMLDivElement | null>(null)\n  const [open, setOpen] = useState(false)\n  const shouldFocusRef = useRef<'first' | 'last' | null>(null)\n  const active = Boolean(activeElement) && activeElement === rootElement\n  const [withinMenu, setWithinMenu] = useState(false)\n\n  const handleMouseEnter = useCallback(\n    (event: React.MouseEvent<HTMLElement>) => {\n      setWithinMenu(false)\n      onItemMouseEnter(event)\n      setOpen(true)\n    },\n    [onItemMouseEnter],\n  )\n\n  const handleMenuKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (event.key === 'ArrowLeft') {\n        event.stopPropagation()\n\n        setOpen(false)\n\n        requestAnimationFrame(() => {\n          rootElement?.focus()\n        })\n      }\n    },\n    [rootElement],\n  )\n\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLDivElement>) => {\n      if (onClick) onClick(event)\n\n      shouldFocusRef.current = 'first'\n\n      setOpen(true)\n\n      requestAnimationFrame(() => {\n        shouldFocusRef.current = null\n      })\n    },\n    [onClick],\n  )\n\n  const handleChildItemClick = useCallback(() => {\n    setOpen(false)\n    if (onItemClick) onItemClick()\n  }, [onItemClick])\n\n  const handleMenuMouseEnter = useCallback(() => setWithinMenu(true), [])\n\n  // Register the menu item element\n  useEffect(() => mount(rootElement), [mount, rootElement])\n\n  // Close child menu when a sibling item becomes active\n  useEffect(() => {\n    if (!active) setOpen(false)\n  }, [active])\n\n  // Update state when child menu is no longer open\n  useEffect(() => {\n    if (!open) setWithinMenu(false)\n  }, [open])\n\n  const childMenu = (\n    <Menu\n      onClickOutside={onClickOutside}\n      onEscape={onEscape}\n      onItemClick={handleChildItemClick}\n      onKeyDown={handleMenuKeyDown}\n      onMouseEnter={handleMenuMouseEnter}\n      registerElement={registerElement}\n      shouldFocus={shouldFocusRef.current}\n    >\n      {children}\n    </Menu>\n  )\n\n  const handleKeyDown = useCallback((event: React.KeyboardEvent<HTMLDivElement>) => {\n    const target = event.currentTarget\n\n    if (document.activeElement !== target) {\n      return\n    }\n\n    if (event.key === 'ArrowRight') {\n      shouldFocusRef.current = 'first'\n\n      setOpen(true)\n      setWithinMenu(true)\n\n      requestAnimationFrame(() => {\n        shouldFocusRef.current = null\n      })\n\n      return\n    }\n  }, [])\n\n  return (\n    <Popover {...popover} content={childMenu} data-ui=\"MenuGroup__popover\" open={open}>\n      <Selectable\n        data-as={as}\n        data-ui=\"MenuGroup\"\n        forwardedAs={as}\n        {...restProps}\n        aria-pressed={as === 'button' ? withinMenu : undefined}\n        data-pressed={as !== 'button' ? withinMenu : undefined}\n        data-selected={!withinMenu && active ? '' : undefined}\n        $radius={useArrayProp(radius)}\n        $tone={tone}\n        onClick={handleClick}\n        onKeyDown={handleKeyDown}\n        onMouseEnter={handleMouseEnter}\n        ref={setRootElement}\n        tabIndex={-1}\n        type={as === 'button' ? 'button' : undefined}\n      >\n        <Box padding={padding}>\n          <Flex>\n            {icon && (\n              <Text size={fontSize}>\n                {isValidElement(icon) && icon}\n                {isValidElementType(icon) && createElement(icon)}\n              </Text>\n            )}\n\n            <Box flex={1} marginLeft={icon ? space : undefined}>\n              <Text size={fontSize} textOverflow=\"ellipsis\">\n                {text}\n              </Text>\n            </Box>\n\n            <Box marginLeft={space}>\n              <Text size={fontSize}>\n                <ChevronRightIcon />\n              </Text>\n            </Box>\n          </Flex>\n        </Box>\n      </Selectable>\n    </Popover>\n  )\n}\n", "import {\n  createElement,\n  forwardRef,\n  isValidElement,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react'\nimport {isValidElementType} from 'react-is'\nimport {useArrayProp, useForwardedRef} from '../../hooks'\nimport {Box, Flex, Text} from '../../primitives'\nimport {Selectable} from '../../primitives/_selectable'\nimport {ResponsivePaddingProps, ResponsiveRadiusProps} from '../../primitives/types'\nimport {SelectableTone} from '../../types/selectable'\nimport {Hotkeys} from '../hotkeys'\nimport {useMenu} from './useMenu'\n\n/**\n * @public\n */\nexport interface MenuItemProps extends ResponsivePaddingProps, ResponsiveRadiusProps {\n  as?: React.ElementType | keyof JSX.IntrinsicElements\n  fontSize?: number | number[]\n  hotkeys?: string[]\n  icon?: React.ElementType | React.ReactNode\n  iconRight?: React.ElementType | React.ReactNode\n  pressed?: boolean\n  selected?: boolean\n  space?: number | number[]\n  text?: React.ReactNode\n  tone?: SelectableTone\n}\n\n/**\n * @public\n */\nexport const MenuItem = forwardRef(function MenuItem(\n  props: MenuItemProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'ref' | 'selected' | 'tabIndex'>,\n  forwardedRef: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {\n    as = 'button',\n    children,\n    disabled,\n    fontSize = 2,\n    hotkeys,\n    icon,\n    iconRight,\n    onClick,\n    padding = 3,\n    paddingX,\n    paddingY,\n    paddingTop,\n    paddingRight,\n    paddingBottom,\n    paddingLeft,\n    pressed,\n    radius = 2,\n    selected: selectedProp,\n    space = 3,\n    text,\n    tone = 'default',\n    ...restProps\n  } = props\n  const menu = useMenu()\n  const {\n    activeElement,\n    mount,\n    onItemClick,\n    onItemMouseEnter = menu.onMouseEnter,\n    onItemMouseLeave = menu.onMouseLeave,\n  } = menu\n  const [rootElement, setRootElement] = useState<HTMLDivElement | null>(null)\n  const active = Boolean(activeElement) && activeElement === rootElement\n\n  useEffect(() => mount(rootElement, selectedProp), [mount, rootElement, selectedProp])\n\n  const ref = useForwardedRef(forwardedRef)\n\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLDivElement>) => {\n      if (disabled) return\n      if (onClick) onClick(event)\n      if (onItemClick) onItemClick()\n    },\n    [disabled, onClick, onItemClick],\n  )\n\n  const paddingProps = useMemo(\n    () => ({\n      padding,\n      paddingX,\n      paddingY,\n      paddingTop,\n      paddingRight,\n      paddingBottom,\n      paddingLeft,\n    }),\n    [padding, paddingX, paddingY, paddingTop, paddingRight, paddingBottom, paddingLeft],\n  )\n\n  const setRef = useCallback(\n    (el: HTMLDivElement | null) => {\n      ref.current = el\n      setRootElement(el)\n    },\n    [ref],\n  )\n\n  return (\n    <Selectable\n      data-ui=\"MenuItem\"\n      {...restProps}\n      aria-pressed={as === 'button' && pressed}\n      data-pressed={as !== 'button' && pressed ? '' : undefined}\n      data-selected={active ? '' : undefined}\n      data-disabled={disabled ? '' : undefined}\n      forwardedAs={as}\n      $radius={useArrayProp(radius)}\n      $padding={useArrayProp(0)}\n      $tone={tone}\n      disabled={disabled}\n      onClick={handleClick}\n      onMouseEnter={onItemMouseEnter}\n      onMouseLeave={onItemMouseLeave}\n      ref={setRef}\n      role=\"menuitem\"\n      tabIndex={-1}\n      type={as === 'button' ? 'button' : undefined}\n    >\n      {(icon || text || iconRight) && (\n        <Box as=\"span\" {...paddingProps}>\n          <Flex as=\"span\">\n            {icon && (\n              <Text size={fontSize}>\n                {isValidElement(icon) && icon}\n                {isValidElementType(icon) && createElement(icon)}\n              </Text>\n            )}\n\n            {text && (\n              <Box\n                flex={1}\n                marginLeft={icon ? space : undefined}\n                marginRight={iconRight ? space : undefined}\n              >\n                <Text size={fontSize} textOverflow=\"ellipsis\">\n                  {text}\n                </Text>\n              </Box>\n            )}\n\n            {hotkeys && (\n              <Box marginLeft={space} style={{marginTop: -4, marginBottom: -4}}>\n                <Hotkeys fontSize={fontSize} keys={hotkeys} />\n              </Box>\n            )}\n\n            {iconRight && (\n              <Text size={fontSize}>\n                {isValidElement(iconRight) && iconRight}\n                {isValidElementType(iconRight) && createElement(iconRight)}\n              </Text>\n            )}\n          </Flex>\n        </Box>\n      )}\n\n      {children && (\n        <Box as=\"span\" {...paddingProps}>\n          {children}\n        </Box>\n      )}\n    </Selectable>\n  )\n})\n", "import {css, keyframes} from 'styled-components'\n\nconst keyframe = keyframes`\n  0% {\n    background-position: 100%;\n  }\n  100% {\n    background-position: -100%;\n  }\n`\n\nconst animation = css`\n  background-image: linear-gradient(\n    to right,\n    var(--card-skeleton-color-from),\n    var(--card-skeleton-color-to),\n    var(--card-skeleton-color-from),\n    var(--card-skeleton-color-from),\n    var(--card-skeleton-color-from)\n  );\n  background-position: 100%;\n  background-size: 200% 100%;\n  background-attachment: fixed;\n  animation-name: ${keyframe};\n  animation-timing-function: ease-in-out;\n  animation-iteration-count: infinite;\n  animation-duration: 2000ms;\n`\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const skeletonStyle = css<{$animated: boolean; $visible: boolean}>`\n  opacity: ${({$visible}) => ($visible ? 1 : 0)};\n  transition: opacity 200ms ease-in;\n\n  @media screen and (prefers-reduced-motion: no-preference) {\n    ${({$animated}) =>\n      $animated\n        ? animation\n        : css`\n            background-color: var(--card-skeleton-color-from);\n          `}\n  }\n\n  @media screen and (prefers-reduced-motion: reduce) {\n    background-color: var(--card-skeleton-color-from);\n  }\n`\n", "import {forwardRef, useEffect, useState} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {Box} from '../../primitives'\nimport {BoxProps, ResponsiveRadiusProps} from '../../primitives'\nimport {responsiveRadiusStyle, ResponsiveRadiusStyleProps} from '../../styles/internal'\nimport {skeletonStyle} from './styles'\n\nconst Root = styled(Box)<{$animated: boolean; $visible: boolean} & ResponsiveRadiusStyleProps>(\n  responsiveRadiusStyle,\n  skeletonStyle,\n)\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface SkeletonProps extends ResponsiveRadiusProps, Omit<BoxProps, 'children'> {\n  animated?: boolean\n  delay?: number\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const Skeleton = forwardRef(function Skeleton(\n  props: SkeletonProps & React.HTMLProps<HTMLDivElement>,\n  ref: React.Ref<HTMLDivElement>,\n) {\n  const {animated = false, delay, radius, ...restProps} = props\n  const [visible, setVisible] = useState<boolean>(delay ? false : true)\n\n  useEffect(() => {\n    if (!delay) {\n      return setVisible(true)\n    }\n\n    const timeout = setTimeout(() => {\n      setVisible(true)\n    }, delay)\n\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [delay])\n\n  return (\n    <Root\n      {...restProps}\n      $animated={animated}\n      $radius={useArrayProp(radius)}\n      $visible={visible}\n      ref={ref}\n    />\n  )\n})\n", "import {forwardRef} from 'react'\nimport styled from 'styled-components'\nimport {useArrayProp} from '../../hooks'\nimport {_responsive} from '../../styles'\nimport {Theme, ThemeFontKey} from '../../theme'\nimport {Skeleton, SkeletonProps} from './skeleton'\n\nconst Root = styled(Skeleton)<{$size: number[]; $style: ThemeFontKey}>(({\n  $size,\n  $style,\n  theme,\n}: {\n  $size: number[]\n  $style: ThemeFontKey\n  theme: Theme\n}) => {\n  const {media} = theme.sanity\n  const font = theme.sanity.fonts[$style]\n\n  const styles = _responsive(media, $size, (sizeIndex) => {\n    const fontSize = font.sizes[sizeIndex]\n    const capHeight = fontSize.lineHeight - fontSize.ascenderHeight - fontSize.descenderHeight\n\n    return {height: capHeight}\n  })\n\n  return styles\n})\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface TextSkeletonProps extends SkeletonProps {\n  size?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface LabelSkeletonProps extends SkeletonProps {\n  size?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface HeadingSkeletonProps extends SkeletonProps {\n  size?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface CodeSkeletonProps extends SkeletonProps {\n  size?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const TextSkeleton = forwardRef(function TextSkeleton(\n  props: TextSkeletonProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'height' | 'size'>,\n  ref: React.Ref<HTMLDivElement>,\n) {\n  const {size = 2, ...restProps} = props\n  const $size = useArrayProp(size)\n\n  return <Root {...restProps} $size={$size} ref={ref} $style=\"text\" />\n})\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const LabelSkeleton = forwardRef(function TextSkeleton(\n  props: LabelSkeletonProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'height' | 'size'>,\n  ref: React.Ref<HTMLDivElement>,\n) {\n  const {size = 2, ...restProps} = props\n  const $size = useArrayProp(size)\n\n  return <Root {...restProps} $size={$size} ref={ref} $style=\"label\" />\n})\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const HeadingSkeleton = forwardRef(function TextSkeleton(\n  props: HeadingSkeletonProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'height' | 'size'>,\n  ref: React.Ref<HTMLDivElement>,\n) {\n  const {size = 2, ...restProps} = props\n  const $size = useArrayProp(size)\n\n  return <Root {...restProps} $size={$size} ref={ref} $style=\"heading\" />\n})\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const CodeSkeleton = forwardRef(function TextSkeleton(\n  props: CodeSkeletonProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'children' | 'height' | 'size'>,\n  ref: React.Ref<HTMLDivElement>,\n) {\n  const {size = 2, ...restProps} = props\n  const $size = useArrayProp(size)\n\n  return <Root {...restProps} $size={$size} ref={ref} $style=\"code\" />\n})\n", "import {forwardRef, useCallback, useEffect, useRef} from 'react'\nimport styled from 'styled-components'\nimport {useForwardedRef} from '../../hooks'\nimport {Button} from '../../primitives'\nimport {ButtonTone} from '../../types'\n\n/**\n * @public\n */\nexport interface TabProps {\n  /**\n   * The `id` of the correlating `TabPanel` component.\n   */\n  'aria-controls': string\n  id: string\n  icon?: React.ElementType | React.ReactNode\n  focused?: boolean\n  fontSize?: number | number[]\n  label?: React.ReactNode\n  padding?: number | number[]\n  selected?: boolean\n  tone?: ButtonTone\n}\n\nconst CustomButton = styled(Button)`\n  max-width: 100%;\n`\n\n/**\n * @public\n */\nexport const Tab = forwardRef(function Tab(\n  props: TabProps &\n    Omit<React.HTMLProps<HTMLButtonElement>, 'aria-controls' | 'as' | 'id' | 'label' | 'type'>,\n  forwardedRef: React.ForwardedRef<HTMLButtonElement>,\n) {\n  const {\n    icon,\n    id,\n    focused,\n    fontSize,\n    label,\n    onClick,\n    onFocus,\n    padding = 2,\n    selected,\n    ...restProps\n  } = props\n  const elementRef = useRef<HTMLButtonElement | null>(null)\n  const focusedRef = useRef(false)\n\n  const handleBlur = useCallback(() => {\n    focusedRef.current = false\n  }, [])\n\n  const handleFocus = useCallback(\n    (event: React.FocusEvent<HTMLButtonElement>) => {\n      focusedRef.current = true\n      if (onFocus) onFocus(event)\n    },\n    [onFocus],\n  )\n\n  const ref = useForwardedRef(forwardedRef)\n\n  useEffect(() => {\n    if (focused && !focusedRef.current) {\n      if (elementRef.current) elementRef.current.focus()\n      focusedRef.current = true\n    }\n  }, [focused])\n\n  const setRef = (el: HTMLButtonElement | null) => {\n    elementRef.current = el\n    ref.current = el\n  }\n\n  return (\n    <CustomButton\n      data-ui=\"Tab\"\n      {...restProps}\n      aria-selected={selected ? 'true' : 'false'}\n      fontSize={fontSize}\n      icon={icon}\n      id={id}\n      mode=\"bleed\"\n      onClick={onClick}\n      onBlur={handleBlur}\n      onFocus={handleFocus}\n      padding={padding}\n      ref={setRef}\n      role=\"tab\"\n      selected={selected}\n      tabIndex={selected ? 0 : -1}\n      text={label}\n      type=\"button\"\n    />\n  )\n})\n", "import {cloneElement, forwardRef, useCallback, useMemo, useState} from 'react'\nimport styled from 'styled-components'\nimport {Inline, InlineProps} from '../../primitives'\n\n/**\n * @public\n */\nexport interface TabListProps extends Omit<InlineProps, 'as' | 'height'> {\n  children: Array<React.ReactElement | null | undefined | false>\n}\n\nfunction _isReactElement(node: unknown): node is React.ReactElement {\n  return Boolean(node)\n}\n\n//Limits the width of tabs in tablist\nconst CustomInline = styled(Inline)`\n  & > div {\n    display: inline-block;\n    vertical-align: middle;\n    max-width: 100%;\n    box-sizing: border-box;\n  }\n`\n\n/**\n * @public\n */\nexport const TabList = forwardRef(function TabList(\n  props: TabListProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height'>,\n  ref,\n) {\n  const {children: childrenProp, ...restProps} = props\n  const [focusedIndex, setFocusedIndex] = useState(-1)\n\n  const children = useMemo(() => childrenProp.filter(_isReactElement), [childrenProp])\n\n  const tabs = children.map((child, childIndex) =>\n    cloneElement(child, {\n      focused: focusedIndex === childIndex,\n      key: childIndex,\n      onFocus: () => handleTabFocus(childIndex),\n    }),\n  )\n\n  const numTabs = tabs.length\n\n  const handleTabFocus = useCallback((tabIdx: number) => {\n    setFocusedIndex(tabIdx)\n  }, [])\n\n  const handleKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (event.key === 'ArrowLeft') {\n        setFocusedIndex((prevIndex) => (prevIndex + numTabs - 1) % numTabs)\n      }\n\n      if (event.key === 'ArrowRight') {\n        setFocusedIndex((prevIndex) => (prevIndex + 1) % numTabs)\n      }\n    },\n    [numTabs],\n  )\n\n  return (\n    <CustomInline\n      data-ui=\"TabList\"\n      {...restProps}\n      onKeyDown={handleKeyDown}\n      ref={ref}\n      role=\"tablist\"\n    >\n      {tabs}\n    </CustomInline>\n  )\n})\n", "import {forwardRef} from 'react'\nimport {Box, BoxProps} from '../../primitives'\n\n/**\n * @public\n */\nexport interface TabPanelProps extends BoxProps {\n  /**\n   * The `id` of the correlating `Tab` component.\n   */\n  'aria-labelledby': string\n  id: string\n}\n\n/**\n * @public\n */\nexport const TabPanel = forwardRef(function TabPanel(\n  props: TabPanelProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'aria-labelledby' | 'id' | 'role'>,\n  ref: React.ForwardedRef<HTMLDivElement>,\n) {\n  const {flex, ...restProps} = props\n\n  return (\n    <Box\n      data-ui=\"TabPanel\"\n      {...restProps}\n      flex={flex}\n      ref={ref}\n      role=\"tabpanel\"\n      tabIndex={props.tabIndex === undefined ? 0 : props.tabIndex}\n    >\n      {props.children}\n    </Box>\n  )\n})\n", "import {CloseIcon} from '@sanity/icons'\nimport styled from 'styled-components'\nimport {Box, Button, Card, Flex, Stack, Text} from '../../primitives'\nimport {ThemeColorToneKey} from '../../theme'\n\n/**\n * @public\n */\nexport interface ToastProps {\n  closable?: boolean\n  description?: React.ReactNode\n  onClose?: () => void\n  title?: React.ReactNode\n  status?: 'error' | 'warning' | 'success' | 'info'\n}\n\nconst STATUS_CARD_TONE: {[key: string]: ThemeColorToneKey} = {\n  error: 'critical',\n  warning: 'caution',\n  success: 'positive',\n  info: 'primary',\n}\n\nconst ROLES = {\n  error: 'alert',\n  warning: 'alert',\n  success: 'alert',\n  info: 'alert',\n}\n\nconst Root = styled(Card)`\n  pointer-events: all;\n`\n\nconst TextBox = styled(Flex)`\n  overflow-x: auto;\n`\n\n/**\n * @public\n */\nexport function Toast(\n  props: ToastProps & Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'ref' | 'title'>,\n): React.ReactElement {\n  const {closable, description, onClose, title, status, ...restProps} = props\n  const cardTone = status ? STATUS_CARD_TONE[status] : 'default'\n  const role = status ? ROLES[status] : 'status'\n\n  return (\n    <Root\n      data-ui=\"Toast\"\n      role={role}\n      {...restProps}\n      marginTop={3}\n      radius={2}\n      shadow={2}\n      tone={cardTone}\n    >\n      <Flex align=\"flex-start\">\n        <TextBox flex={1} padding={3}>\n          <Stack space={3}>\n            {title && <Text weight=\"semibold\">{title}</Text>}\n            {description && (\n              <Text muted size={1}>\n                {description}\n              </Text>\n            )}\n          </Stack>\n        </TextBox>\n\n        {closable && (\n          <Box padding={1}>\n            <Button\n              as=\"button\"\n              icon={CloseIcon}\n              mode=\"bleed\"\n              padding={2}\n              onClick={onClose}\n              style={{verticalAlign: 'top'}}\n            />\n          </Box>\n        )}\n      </Flex>\n    </Root>\n  )\n}\n", "import {useEffect, useReducer} from 'react'\n\n/**\n * Some components should only render after mounting to the DOM, and not be rendered at all during SSR renderToString or equivalent.\n * @public\n */\nexport function useMounted(): boolean {\n  // Use useReducer instead of useState as it's more low-level and creates the least amount of functions for the garbage collector to clean up\n  const [mounted, mount] = useReducer(() => true, false)\n\n  useEffect(mount, [mount])\n\n  return mounted\n}\n", "import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\nimport {ToastContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/toast')\n\nglobalScope[key] = globalScope[key] || createContext<ToastContextValue | null>(null)\n\nexport const ToastContext: React.Context<ToastContextValue | null> = globalScope[key]\n", "import {AnimatePresence, motion} from 'framer-motion'\nimport {useCallback, useEffect, useMemo, useRef, useState, startTransition} from 'react'\nimport styled from 'styled-components'\nimport {useMounted} from '../../hooks/useMounted'\nimport {Box} from '../../primitives'\nimport {Layer} from '../../utils'\nimport {Toast} from './toast'\nimport {ToastContext} from './toastContext'\nimport {ToastContextValue, ToastParams} from './types'\n\ntype ToastState = {\n  dismiss: () => void\n  id: string\n  params: ToastParams\n}[]\n\n/**\n * @public\n */\nexport interface ToastProviderProps {\n  children?: React.ReactNode\n  padding?: number | number[]\n  paddingX?: number | number[]\n  paddingY?: number | number[]\n  zOffset?: number | number[]\n}\n\nconst Root = styled(Layer)`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n`\n\nconst ToastContainer = styled.div`\n  box-sizing: border-box;\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  max-width: 420px;\n  width: 100%;\n`\n\nlet toastId = 0\n\n/**\n * @public\n */\nexport function ToastProvider(props: ToastProviderProps): React.ReactElement {\n  const {children, padding = 4, paddingX, paddingY, zOffset} = props\n  const [state, _setState] = useState<ToastState>([])\n\n  const toastsRef = useRef<{[key: string]: {timeoutId: NodeJS.Timeout}}>({})\n\n  const push = useCallback((params: ToastParams) => {\n    // Wrap setState in startTransition to allow React to give input state updates higher priority\n    const setState: typeof _setState = (state) => startTransition(() => _setState(state))\n\n    const id = params.id || String(toastId++)\n    const duration = params.duration || 5000\n\n    const dismiss = () => {\n      const timeoutId = toastsRef.current[id]?.timeoutId\n\n      setState((prevState): ToastState => {\n        const idx = prevState.findIndex((t) => t.id === id)\n\n        if (idx > -1) {\n          const toasts = prevState.slice(0)\n\n          toasts.splice(idx, 1)\n\n          return toasts\n        }\n\n        return prevState\n      })\n\n      if (timeoutId !== undefined) {\n        clearTimeout(timeoutId)\n        delete toastsRef.current[id]\n      }\n    }\n\n    setState((prevState): ToastState => {\n      return prevState\n        .filter((t) => t.id !== id)\n        .concat([\n          {\n            dismiss,\n            id,\n            params: {...params, duration},\n          },\n        ])\n    })\n\n    if (toastsRef.current[id]) {\n      clearTimeout(toastsRef.current[id].timeoutId)\n      delete toastsRef.current[id]\n    }\n\n    toastsRef.current[id] = {timeoutId: setTimeout(dismiss, duration)}\n\n    return id\n  }, [])\n\n  // clear timeouts on unmount\n  useEffect(\n    () => () => {\n      for (const {timeoutId} of Object.values(toastsRef.current)) {\n        clearTimeout(timeoutId)\n      }\n\n      toastsRef.current = {}\n    },\n    [],\n  )\n\n  const value: ToastContextValue = useMemo(() => ({version: 0.0, push}), [push])\n  const mounted = useMounted()\n\n  return (\n    <ToastContext.Provider value={value}>\n      {children}\n\n      {mounted && (\n        <Root data-ui=\"ToastProvider\" zOffset={zOffset}>\n          <ToastContainer>\n            <Box padding={padding} paddingX={paddingX} paddingY={paddingY}>\n              <AnimatePresence initial={false}>\n                {state.map(({dismiss, id, params}) => (\n                  <motion.div\n                    animate={{opacity: 1, y: 0, scale: 1}}\n                    exit={{opacity: 0, scale: 0.5, transition: {duration: 0.2}}}\n                    initial={{opacity: 0, y: 32, scale: 0.25}}\n                    key={id}\n                    layout=\"position\"\n                    transition={{type: 'spring', damping: 30, stiffness: 400}}\n                  >\n                    <Toast\n                      closable={params.closable}\n                      description={params.description}\n                      onClose={dismiss}\n                      status={params.status}\n                      title={params.title}\n                    />\n                  </motion.div>\n                ))}\n              </AnimatePresence>\n            </Box>\n          </ToastContainer>\n        </Root>\n      )}\n    </ToastContext.Provider>\n  )\n}\n", "import {useContext} from 'react'\nimport {isRecord} from '../../lib/isRecord'\nimport {ToastContext} from './toastContext'\nimport {ToastContextValue} from './types'\n\n/**\n * @public\n */\nexport function useToast(): ToastContextValue {\n  const value = useContext(ToastContext)\n\n  if (!value) {\n    throw new Error('useToast(): missing context value')\n  }\n\n  // NOTE: This check is for future-compatiblity\n  // - If the value is not an object, it’s not compatible with the current version\n  // - If the value is an object, but doesn’t have `version: 0.0`, it’s not compatible with the current version\n  if (!isRecord(value) || value.version !== 0.0) {\n    throw new Error('useToast(): the context value is not compatible')\n  }\n\n  return value\n}\n", "import {TreeState} from './types'\n\nexport function _findPrevItemElement(\n  state: TreeState,\n  itemElements: HTMLElement[],\n  focusedElement: HTMLElement,\n): HTMLElement | null {\n  const idx = itemElements.indexOf(focusedElement)\n  const els = itemElements.slice(0, idx)\n  const len = els.length\n\n  for (let i = len - 1; i >= 0; i -= 1) {\n    const itemKey = els[i].getAttribute('data-tree-key')\n\n    if (!itemKey) {\n      continue\n    }\n\n    const segments = itemKey.split('/')\n\n    segments.pop()\n\n    const p: string[] = []\n\n    let expanded = true\n\n    for (let j = 0; j < segments.length; j += 1) {\n      p.push(segments[j])\n\n      const k = p.join('/')\n\n      if (!state[k]?.expanded) {\n        expanded = false\n        break\n      }\n    }\n\n    if (expanded) {\n      return els[i]\n    }\n  }\n\n  return null\n}\n\nexport function _findNextItemElement(\n  state: TreeState,\n  itemElements: HTMLElement[],\n  focusedElement: HTMLElement,\n): HTMLElement | null {\n  const idx = itemElements.indexOf(focusedElement)\n  const els = itemElements.slice(idx)\n  const len = itemElements.length\n\n  for (let i = 1; i < len; i += 1) {\n    if (!els[i]) {\n      continue\n    }\n\n    const itemKey = els[i].getAttribute('data-tree-key')\n\n    if (!itemKey) {\n      continue\n    }\n\n    const segments = itemKey.split('/')\n\n    segments.pop()\n\n    const p: string[] = []\n\n    let expanded = true\n\n    for (let j = 0; j < segments.length; j += 1) {\n      p.push(segments[j])\n\n      const k = p.join('/')\n\n      if (!state[k]?.expanded) {\n        expanded = false\n        break\n      }\n    }\n\n    if (expanded) {\n      return els[i]\n    }\n  }\n\n  return null\n}\n\nexport function _focusItemElement(el: HTMLElement): void {\n  if (el.getAttribute('role') === 'treeitem') {\n    el.focus()\n  }\n\n  if (el.getAttribute('role') === 'none') {\n    const firstChild = el.firstChild\n\n    if (firstChild && firstChild instanceof HTMLElement) {\n      firstChild.focus()\n    }\n  }\n}\n", "import {createContext} from 'react'\nimport {globalScope} from '../../lib/globalScope'\nimport {TreeContextValue} from './types'\n\nconst key = Symbol.for('@sanity/ui/context/tree')\n\nglobalScope[key] = globalScope[key] || createContext<TreeContextValue | null>(null)\n\n/**\n * @internal\n */\nexport const TreeContext: React.Context<TreeContextValue | null> = globalScope[key]\n", "import {forwardRef, memo, useCallback, useEffect, useMemo, useRef, useState} from 'react'\nimport {useForwardedRef} from '../../hooks'\nimport {Stack} from '../../primitives'\nimport {_findNextItemElement, _findPrevItemElement, _focusItemElement} from './helpers'\nimport {TreeContext} from './treeContext'\nimport {TreeContextValue, TreeState} from './types'\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport interface TreeProps {\n  space?: number | number[]\n}\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const Tree = memo(\n  forwardRef(function Tree(\n    props: TreeProps &\n      Omit<React.HTMLProps<HTMLDivElement>, 'align' | 'as' | 'height' | 'ref' | 'role' | 'wrap'>,\n    ref: React.ForwardedRef<HTMLDivElement>,\n  ): React.ReactElement {\n    const {children, space = 1, onFocus, ...restProps} = props\n    const forwardedRef = useForwardedRef(ref)\n    const [focusedElement, setFocusedElement] = useState<HTMLElement | null>(null)\n    const focusedElementRef = useRef(focusedElement)\n    const path: string[] = useMemo(() => [], [])\n    const [itemElements, setItemElements] = useState<HTMLElement[]>([])\n    const [state, setState] = useState<TreeState>({})\n    const stateRef = useRef(state)\n\n    useEffect(() => {\n      focusedElementRef.current = focusedElement\n    }, [focusedElement])\n\n    useEffect(() => {\n      stateRef.current = state\n    }, [state])\n\n    const registerItem = useCallback(\n      (element: HTMLElement, path: string, expanded: boolean, selected: boolean) => {\n        setState((s) => ({...s, [path]: {element, expanded}}))\n\n        if (selected) {\n          setFocusedElement(element)\n        }\n\n        return () => {\n          setState((s) => {\n            const newState = {...s}\n\n            delete newState[path]\n\n            return newState\n          })\n        }\n      },\n      [],\n    )\n\n    const setExpanded = useCallback((path: string, expanded: boolean) => {\n      setState((s) => {\n        const itemState = s[path]\n\n        if (!itemState) return s\n\n        return {...s, [path]: {...itemState, expanded}}\n      })\n    }, [])\n\n    const contextValue: TreeContextValue = useMemo(\n      () => ({\n        version: 0.0,\n        focusedElement: focusedElement || itemElements[0] || null,\n        level: 0,\n        path,\n        registerItem,\n        setExpanded,\n        setFocusedElement,\n        space,\n        state,\n      }),\n      [focusedElement, itemElements, path, registerItem, setExpanded, space, state],\n    )\n\n    const handleKeyDown = useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (!focusedElementRef.current) return\n\n        if (event.key === 'ArrowDown') {\n          event.preventDefault()\n\n          const nextEl = _findNextItemElement(\n            stateRef.current,\n            itemElements,\n            focusedElementRef.current,\n          )\n\n          if (nextEl) {\n            _focusItemElement(nextEl)\n            setFocusedElement(nextEl)\n          }\n\n          return\n        }\n\n        if (event.key === 'ArrowUp') {\n          event.preventDefault()\n\n          const prevEl = _findPrevItemElement(\n            stateRef.current,\n            itemElements,\n            focusedElementRef.current,\n          )\n\n          if (prevEl) {\n            _focusItemElement(prevEl)\n            setFocusedElement(prevEl)\n          }\n\n          return\n        }\n\n        if (event.key === 'ArrowLeft') {\n          event.preventDefault()\n\n          const itemKey = focusedElementRef.current.getAttribute('data-tree-key')\n\n          if (!itemKey) return\n\n          const itemState = stateRef.current[itemKey]\n\n          if (!itemState) return\n\n          if (itemState.expanded) {\n            setState((s) => {\n              const itemState = s[itemKey]\n\n              if (!itemState) return s\n\n              return {...s, [itemKey]: {...itemState, expanded: false}}\n            })\n          } else {\n            const itemPath = itemKey.split('/')\n\n            itemPath.pop()\n\n            const parentKey = itemPath.join('/')\n            const parentState = parentKey && stateRef.current[parentKey]\n\n            if (parentState) {\n              parentState.element.focus()\n              setFocusedElement(parentState.element)\n            }\n          }\n\n          return\n        }\n\n        if (event.key === 'ArrowRight') {\n          event.preventDefault()\n\n          const focusedKey = focusedElementRef.current.getAttribute('data-tree-key')\n\n          if (!focusedKey) return\n\n          if (!stateRef.current[focusedKey]?.expanded) {\n            setState((s) => {\n              const itemState = s[focusedKey]\n\n              if (!itemState) return s\n\n              return {...s, [focusedKey]: {...itemState, expanded: true}}\n            })\n          }\n\n          return\n        }\n      },\n      [itemElements],\n    )\n\n    const handleFocus = useCallback(\n      (event: React.FocusEvent<HTMLDivElement>) => {\n        setFocusedElement(event.target)\n\n        // Call the element's `focus` handler\n        onFocus?.(event)\n      },\n      [onFocus],\n    )\n\n    useEffect(() => {\n      if (!forwardedRef.current) return\n      const _itemElements = Array.from(\n        forwardedRef.current.querySelectorAll('[data-ui=\"TreeItem\"]'),\n      ) as HTMLElement[]\n\n      setItemElements(_itemElements)\n    }, [children, forwardedRef])\n\n    return (\n      <TreeContext.Provider value={contextValue}>\n        <Stack\n          as=\"ul\"\n          data-ui=\"Tree\"\n          {...restProps}\n          onFocus={handleFocus}\n          onKeyDown={handleKeyDown}\n          ref={forwardedRef}\n          role=\"tree\"\n          space={space}\n        >\n          {children}\n        </Stack>\n      </TreeContext.Provider>\n    )\n  }),\n)\n\nTree.displayName = 'Tree'\n", "import {css} from 'styled-components'\nimport {rem, ThemeProps} from '../../styles'\nimport {_colorVarsStyle} from '../../styles/colorVars'\n\nexport function treeItemRootStyle(): ReturnType<typeof css> {\n  return css`\n    &[role='none'] > [role='treeitem'] {\n      outline: none;\n      cursor: default;\n      border-radius: 3px;\n\n      &:focus {\n        position: relative;\n      }\n    }\n\n    &[role='treeitem'] {\n      outline: none;\n\n      & > div {\n        cursor: default;\n        border-radius: 3px;\n      }\n\n      &:focus > div {\n        position: relative;\n      }\n    }\n  `\n}\n\nexport function treeItemRootColorStyle(props: ThemeProps): ReturnType<typeof css> {\n  const {theme} = props\n  const $tone = 'default'\n  const {base, muted, selectable} = theme.sanity.color\n  // @todo: remove use of `muted` here\n  const tone = selectable ? selectable[$tone] || selectable.default : muted[$tone] || muted.default\n\n  return css`\n    /* <div role=\"none\"><a data-ui=\"TreeItem__box\" role=\"treeitem\" tabIndex=\"0\"></div> */\n    &[role='none'] {\n      & > [role='treeitem'] {\n        ${_colorVarsStyle(base, tone.enabled)}\n\n        background-color: var(--card-bg-color);\n        color: var(--treeitem-fg-color);\n      }\n\n      &[data-selected] > [role='treeitem'] {\n        ${_colorVarsStyle(base, tone.pressed)}\n      }\n\n      @media (hover: hover) {\n        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {\n          ${_colorVarsStyle(base, tone.hovered)}\n        }\n\n        & > [role='treeitem']:focus {\n          ${_colorVarsStyle(base, tone.selected)}\n        }\n      }\n    }\n\n    /* <div role=\"treeitem\" tabIndex=\"0\"><div data-ui=\"TreeItem__box\"></div> */\n    &[role='treeitem'] {\n      & > [data-ui='TreeItem__box'] {\n        ${_colorVarsStyle(base, tone.enabled)}\n\n        background-color: var(--card-bg-color);\n        color: var(--card-fg-color);\n      }\n\n      &[data-selected] > [data-ui='TreeItem__box'] {\n        ${_colorVarsStyle(base, tone.pressed)}\n      }\n\n      @media (hover: hover) {\n        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {\n          ${_colorVarsStyle(base, tone.hovered)}\n        }\n\n        &:focus > [data-ui='TreeItem__box'] {\n          ${_colorVarsStyle(base, tone.selected)}\n        }\n      }\n    }\n  `\n}\n\nexport interface TreeItemBoxStyleProps {\n  $level: number\n}\n\nexport function treeItemBoxStyle(\n  props: TreeItemBoxStyleProps & ThemeProps,\n): ReturnType<typeof css> {\n  const {$level, theme} = props\n  const {space} = theme.sanity\n\n  return css`\n    padding-left: ${rem(space[2] * $level)};\n\n    &[data-as='a'] {\n      text-decoration: none;\n    }\n  `\n}\n", "import {useContext} from 'react'\nimport {TreeContext} from './treeContext'\nimport {TreeContextValue} from './types'\n\n/**\n * @beta\n */\nexport function useTree(): TreeContextValue {\n  const tree = useContext(TreeContext)\n\n  if (!tree) {\n    throw new Error('Tree: missing context value')\n  }\n\n  return tree\n}\n", "import {memo} from 'react'\nimport {Stack} from '../../primitives'\nimport {useTree} from './useTree'\n\nexport interface TreeGroupProps {\n  expanded?: boolean\n}\n\nexport const TreeGroup = memo(function TreeGroup(\n  props: TreeGroupProps &\n    Omit<React.HTMLProps<HTMLDivElement>, 'as' | 'height' | 'ref' | 'role' | 'wrap'>,\n): React.ReactElement {\n  const {children, expanded = false, ...restProps} = props\n  const tree = useTree()\n\n  return (\n    <Stack\n      as=\"ul\"\n      data-ui=\"TreeGroup\"\n      {...restProps}\n      hidden={!expanded}\n      marginTop={tree.space}\n      role=\"group\"\n      space={tree.space}\n    >\n      {children}\n    </Stack>\n  )\n})\n", "import {ToggleArrowRightIcon} from '@sanity/icons'\nimport {createElement, memo, useCallback, useEffect, useId, useMemo, useRef} from 'react'\nimport styled from 'styled-components'\nimport {Box, BoxProps, Flex, Text} from '../../primitives'\nimport {ThemeFontWeightKey} from '../../theme'\nimport {\n  treeItemRootStyle,\n  treeItemRootColorStyle,\n  treeItemBoxStyle,\n  TreeItemBoxStyleProps,\n} from './style'\nimport {TreeContext} from './treeContext'\nimport {TreeGroup} from './treeGroup'\nimport {useTree} from './useTree'\n\n/**\n * @beta\n */\nexport interface TreeItemProps {\n  expanded?: boolean\n  fontSize?: number | number[]\n  icon?: React.ElementType\n  /**\n   * Allows passing a custom element type to the link component\n   */\n  linkAs?: BoxProps['as']\n  padding?: number | number[]\n  space?: number | number[]\n  text?: React.ReactNode\n  weight?: ThemeFontWeightKey\n}\n\nconst Root = memo(styled.li(treeItemRootStyle, treeItemRootColorStyle))\n\nconst TreeItemBox = styled(Box).attrs({forwardedAs: 'a'})<TreeItemBoxStyleProps>(treeItemBoxStyle)\n\nconst ToggleArrowText = styled(Text)`\n  & > svg {\n    transition: transform 100ms;\n  }\n`\n\n/**\n * This API might change. DO NOT USE IN PRODUCTION.\n * @beta\n */\nexport const TreeItem = memo(function TreeItem(\n  props: TreeItemProps & Omit<React.HTMLProps<HTMLLIElement>, 'as' | 'ref' | 'role'>,\n): React.ReactElement {\n  const {\n    children,\n    expanded: expandedProp = false,\n    fontSize,\n    href,\n    icon,\n    id: idProp,\n    linkAs,\n    muted,\n    onClick,\n    padding = 3,\n    selected = false,\n    space = 2,\n    text,\n    weight,\n    ...restProps\n  } = props\n  const rootRef = useRef<HTMLLIElement | null>(null)\n  const treeitemRef = useRef<HTMLDivElement | null>(null)\n  const tree = useTree()\n  const {path, registerItem, setExpanded, setFocusedElement} = tree\n  const _id = useId()\n  const id = idProp || _id\n  const itemPath = useMemo(() => path.concat([id || '']), [id, path])\n  const itemKey = itemPath.join('/')\n  const itemState = tree.state[itemKey]\n  const focused = tree.focusedElement === rootRef.current\n  const expanded = itemState?.expanded === undefined ? expandedProp : itemState?.expanded || false\n  const tabIndex = tree.focusedElement && tree.focusedElement === rootRef.current ? 0 : -1\n  const contextValue = useMemo(\n    () => ({...tree, level: tree.level + 1, path: itemPath}),\n    [itemPath, tree],\n  )\n\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLLIElement>) => {\n      if (onClick) onClick(event)\n\n      const target = event.target\n\n      if (\n        target instanceof HTMLElement &&\n        (target.getAttribute('data-ui') === 'TreeItem' ||\n          target.closest('[data-ui=\"TreeItem__box\"]'))\n      ) {\n        event.stopPropagation()\n        setExpanded(itemKey, !expanded)\n        setFocusedElement(rootRef.current)\n      }\n    },\n    [expanded, itemKey, onClick, setExpanded, setFocusedElement],\n  )\n\n  const handleKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLElement>) => {\n      if (focused && event.key === 'Enter') {\n        const el = treeitemRef.current || rootRef.current\n\n        el?.click()\n      }\n    },\n    [focused],\n  )\n\n  useEffect(() => {\n    if (!rootRef.current) return\n\n    return registerItem(rootRef.current, itemPath.join('/'), expanded, selected)\n  }, [expanded, itemPath, registerItem, selected])\n\n  const content = (\n    <Flex padding={padding}>\n      <Box\n        marginRight={space}\n        style={{visibility: icon || children ? 'visible' : 'hidden', pointerEvents: 'none'}}\n      >\n        {icon && (\n          <Text muted={muted} size={fontSize} weight={weight}>\n            {createElement(icon)}\n          </Text>\n        )}\n        {!icon && (\n          <ToggleArrowText muted={muted} size={fontSize} weight={weight}>\n            <ToggleArrowRightIcon style={{transform: expanded ? 'rotate(90deg)' : undefined}} />\n          </ToggleArrowText>\n        )}\n      </Box>\n      <Box flex={1}>\n        <Text muted={muted} size={fontSize} textOverflow=\"ellipsis\" weight={weight}>\n          {text}\n        </Text>\n      </Box>\n    </Flex>\n  )\n\n  if (href) {\n    return (\n      <Root\n        data-selected={selected ? '' : undefined}\n        data-tree-id={id}\n        data-tree-key={itemKey}\n        data-ui=\"TreeItem\"\n        {...restProps}\n        onClick={handleClick}\n        ref={rootRef}\n        role=\"none\"\n      >\n        <TreeItemBox\n          $level={tree.level}\n          aria-expanded={expanded}\n          as={linkAs}\n          data-ui=\"TreeItem__box\"\n          href={href}\n          ref={treeitemRef}\n          role=\"treeitem\"\n          tabIndex={tabIndex}\n        >\n          {content}\n        </TreeItemBox>\n\n        <TreeContext.Provider value={contextValue}>\n          {children && <TreeGroup hidden={!expanded}>{children}</TreeGroup>}\n        </TreeContext.Provider>\n      </Root>\n    )\n  }\n\n  return (\n    <Root\n      data-selected={selected ? '' : undefined}\n      data-ui=\"TreeItem\"\n      data-tree-id={id}\n      data-tree-key={itemKey}\n      {...restProps}\n      aria-expanded={expanded}\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n      ref={rootRef}\n      role=\"treeitem\"\n      tabIndex={tabIndex}\n    >\n      <TreeItemBox $level={tree.level} as=\"div\" data-ui=\"TreeItem__box\">\n        {content}\n      </TreeItemBox>\n\n      <TreeContext.Provider value={contextValue}>\n        {children && <TreeGroup expanded={expanded}>{children}</TreeGroup>}\n      </TreeContext.Provider>\n    </Root>\n  )\n})\n", "import styled from 'styled-components'\nimport {Box} from '@sanity/ui'\n\nexport const MarkdownInputStyles = styled(Box)`\n  & .CodeMirror.CodeMirror {\n    color: ${({theme}) => theme.sanity.color.card.enabled.fg};\n    border-color: ${({theme}) => theme.sanity.color.card.enabled.border};\n    background-color: inherit;\n  }\n\n  & .cm-s-easymde .CodeMirror-cursor {\n    border-color: ${({theme}) => theme.sanity.color.card.enabled.fg};\n  }\n\n  & .editor-toolbar,\n  .editor-preview-side {\n    border-color: ${({theme}) => theme.sanity.color.card.enabled.border};\n  }\n\n  & .CodeMirror-focused .CodeMirror-selected.CodeMirror-selected.CodeMirror-selected {\n    background-color: ${({theme}) => theme.sanity.color.selectable.primary.hovered.bg};\n  }\n\n  & .CodeMirror-selected.CodeMirror-selected.CodeMirror-selected {\n    background-color: ${({theme}) => theme.sanity.color.card.enabled.bg};\n  }\n\n  & .editor-toolbar > * {\n    color: ${({theme}) => theme.sanity.color.card.enabled.fg};\n  }\n\n  & .editor-toolbar > .active,\n  .editor-toolbar > button:hover,\n  .editor-preview pre,\n  .cm-s-easymde .cm-comment {\n    background-color: ${({theme}) => theme.sanity.color.card.enabled.bg};\n  }\n\n  & .editor-preview {\n    background-color: ${({theme}) => theme.sanity.color.card.enabled.bg};\n\n    & h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      font-size: revert;\n    }\n\n    & ul,\n    li {\n      list-style: revert;\n      padding: revert;\n    }\n\n    & a {\n      text-decoration: revert;\n    }\n  }\n`\n", "import {lazy, useEffect, useState} from 'react'\n\nexport const SimpleMdeReact = lazy(() => import('react-simplemde-editor'))\n\nexport function useSimpleMdeReact() {\n  const [mounted, setMounted] = useState(false)\n  useEffect(() => {\n    requestAnimationFrame(() => setMounted(true))\n  }, [])\n\n  return mounted ? SimpleMdeReact : null\n}\n", "import {type Options as EasyMdeOptions} from 'easymde'\nimport React, {Suspense, useCallback, useMemo} from 'react'\n// dont import non-types here, it will break SSR on next\nimport type {SimpleMDEReactProps} from 'react-simplemde-editor'\nimport {PatchEvent, set, StringInputProps, unset, useClient} from 'sanity'\nimport {MarkdownOptions} from '../schema'\nimport {MarkdownInputStyles} from './MarkdownInputStyles'\nimport {useSimpleMdeReact} from './useSimpleMdeReact'\nimport {Box, Text} from '@sanity/ui'\n\nexport interface MarkdownInputProps extends StringInputProps {\n  /**\n   * These are passed along directly to\n   *\n   * Note: MarkdownInput sets certain reactMdeProps.options by default.\n   * These will be merged with any custom options.\n   * */\n  reactMdeProps?: Omit<SimpleMDEReactProps, 'value' | 'onChange'>\n}\n\nexport const defaultMdeTools: EasyMdeOptions['toolbar'] = [\n  'heading',\n  'bold',\n  'italic',\n  '|',\n  'quote',\n  'unordered-list',\n  'ordered-list',\n  '|',\n  'link',\n  'image',\n  'code',\n  '|',\n  'preview',\n  'side-by-side',\n]\n\nexport function MarkdownInput(props: MarkdownInputProps) {\n  const {\n    value = '',\n    onChange,\n    elementProps: {onBlur, onFocus, ref},\n    reactMdeProps: {options: mdeCustomOptions, ...reactMdeProps} = {},\n    schemaType,\n  } = props\n  const client = useClient({apiVersion: '2022-01-01'})\n  const {imageUrl} = (schemaType.options as MarkdownOptions | undefined) ?? {}\n\n  const imageUpload = useCallback(\n    (file: File, onSuccess: (url: string) => void, onError: (error: string) => void) => {\n      client.assets\n        .upload('image', file)\n        .then((doc) => onSuccess(imageUrl ? imageUrl(doc) : `${doc.url}?w=450`))\n        .catch((e) => {\n          console.error(e)\n          onError(e.message)\n        })\n    },\n    [client, imageUrl]\n  )\n\n  const mdeOptions: EasyMdeOptions = useMemo(() => {\n    return {\n      autofocus: false,\n      spellChecker: false,\n      sideBySideFullscreen: false,\n      uploadImage: true,\n      imageUploadFunction: imageUpload,\n      toolbar: defaultMdeTools,\n      status: false,\n      ...mdeCustomOptions,\n    }\n  }, [imageUpload, mdeCustomOptions])\n\n  const handleChange = useCallback(\n    (newValue: string) => {\n      onChange(PatchEvent.from(newValue ? set(newValue) : unset()))\n    },\n    [onChange]\n  )\n\n  const SimpleMdeReact = useSimpleMdeReact()\n\n  return (\n    <MarkdownInputStyles>\n      {SimpleMdeReact && (\n        <Suspense\n          fallback={\n            <Box padding={3}>\n              <Text>Loading editor...</Text>\n            </Box>\n          }\n        >\n          <SimpleMdeReact\n            {...reactMdeProps}\n            ref={ref}\n            value={value}\n            onChange={handleChange}\n            onBlur={onBlur}\n            onFocus={onFocus}\n            options={mdeOptions}\n            spellCheck={false}\n          />\n        </Suspense>\n      )}\n    </MarkdownInputStyles>\n  )\n}\n", "import {defineType, StringDefinition} from 'sanity'\nimport {MarkdownInput} from './components/MarkdownInput'\nimport {SanityImageAssetDocument} from '@sanity/client'\n\nexport const markdownTypeName = 'markdown' as const\n\nexport interface MarkdownOptions {\n  /**\n   * Used to create image url for any uploaded image.\n   * The function will be invoked whenever an image is pasted or dragged into the\n   * markdown editor, after upload completes.\n   *\n   * The default implementation uses\n   * ```js\n   * imageAsset => `${imageAsset.url}?w=450`\n   * ```\n   * ## Example\n   * ```js\n   * {\n   *   imageUrl: imageAsset => `${imageAsset.url}?w=400&h=400`\n   * }\n   * ```\n   * @param imageAsset\n   */\n  imageUrl?: (imageAsset: SanityImageAssetDocument) => string\n}\n\n/**\n * @public\n */\nexport interface MarkdownDefinition extends Omit<StringDefinition, 'type' | 'fields' | 'options'> {\n  type: typeof markdownTypeName\n  options?: MarkdownOptions\n}\n\ndeclare module '@sanity/types' {\n  // makes type: 'markdown' narrow correctly when using defineType/defineField/defineArrayMember\n  export interface IntrinsicDefinitions {\n    markdown: MarkdownDefinition\n  }\n}\n\nexport const markdownSchemaType = defineType({\n  type: 'string',\n  name: markdownTypeName,\n  title: 'Markdown',\n  components: {input: MarkdownInput},\n})\n", "import {definePlugin, StringInputProps} from 'sanity'\nimport {markdownSchemaType} from './schema'\nimport {ReactElement} from 'react'\n\nexport interface MarkdownConfig {\n  /**\n   * When provided, will replace the default input component.\n   *\n   * Use this to customize MarkdownInput by wrapping it in a custom component,\n   * and provide any custom props for https://github.com/RIP21/react-simplemde-editor#react-simplemde-easymde-markdown-editor\n   * via the `reactMdeProps` prop.\n   *\n   * ### Example\n   *\n   * ```tsx\n   * // CustomMarkdownInput.tsx\n   * import { MarkdownInput, MarkdownInputProps } from 'sanity-plugin-markdown'\n   *\n   * export function CustomMarkdownInput(props) {\n   *   const reactMdeProps: MarkdownInputProps['reactMdeProps'] =\n   *     useMemo(() => {\n   *       return {\n   *         options: {\n   *           toolbar: ['bold', 'italic'],\n   *           // more options available, see:\n   *           // https://github.com/Ionaru/easy-markdown-editor#options-list\n   *         },\n   *         // more props available, see:\n   *         // https://github.com/RIP21/react-simplemde-editor#react-simplemde-easymde-markdown-editor\n   *       }\n   *     }, [])\n   *\n   *   return <MarkdownInput {...props} reactMdeProps={reactMdeProps} />\n   * }\n   *\n   * // studio.config.ts\n   * markdownSchema({input: CustomMarkdownInput})\n   * ```\n   */\n  input?: (props: StringInputProps) => ReactElement\n}\n\nexport const markdownSchema = definePlugin((config: MarkdownConfig | void) => {\n  return {\n    name: 'markdown-editor',\n    schema: {\n      types: [\n        config && config.input\n          ? {...markdownSchemaType, components: {input: config.input}}\n          : markdownSchemaType,\n      ],\n    },\n  }\n})\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO;;;;;;;;;;;;ACEA,IAAMA,UAAQ;AACd,IAAMC,UAAQ;ACId,IAAMC,OAAmB;EAC9B,MAAM;IACJC,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;AACF;AAKO,IAAMC,OAAmB;EAC9B,MAAM;IACJF,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;AACF;AAKO,IAAME,SAAqB;EAChC,MAAM;IACJH,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;AACF;AAKO,IAAMG,UAAsB;EACjC,MAAM;IACJJ,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;AACF;AAKO,IAAMI,MAAkB;EAC7B,MAAM;IACJL,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;AACF;AAKO,IAAMK,SAAqB;EAChC,MAAM;IACJN,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;AACF;AAKO,IAAMM,SAAqB;EAChC,MAAM;IACJP,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;AACF;AAKO,IAAMO,QAAoB;EAC/B,MAAM;IACJR,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;EACA,OAAO;IACLD,OAAO;IACPC,KAAK;EACP;AACF;AAKO,IAAMQ,OAAmB;EAC9B,MAAM;IACJT,OAAO;IACPC,KAAK;EACP;EACA,OAAO;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",
  "names": ["black", "white", "gray", "title", "hex", "blue", "purple", "magenta", "red", "orange", "yellow", "green", "cyan", "hues", "black", "title", "hex", "blackHex", "white", "whiteHex", "arrow", "key", "platform", "data", "EMPTY_ARRAY", "EMPTY_RECORD", "FLOATING_STATIC_SIDES", "top", "right", "bottom", "left", "_fillCSSObject", "keys", "value", "reduce", "style", "key", "rem", "pixelValue", "concat", "_responsive", "media", "values", "callback", "statements", "map", "statement", "mediaIndex", "_getArrayProp", "val", "defaultVal", "Array", "isArray", "_getResponsiveSpace", "theme", "props", "spaceIndexes", "arguments", "length", "undefined", "Error", "sanity", "spaceIndex", "space", "responsiveFont", "fontKey", "$size", "$weight", "fonts", "family", "sizes", "weights", "fontWeight", "regular", "defaultSize", "base", "position", "fontFamily", "padding", "margin", "content", "display", "height", "warned", "console", "warn", "resp", "sizeIndex", "fontSize", "size", "ascenderHeight", "descenderHeight", "iconSize", "letterSpacing", "lineHeight", "negHeight", "capHeight", "iconOffset", "customIconSize", "Math", "floor", "customIconOffset", "transform", "marginTop", "marginBottom", "responsiveCodeFontStyle", "responsiveHeadingFont", "responsiveLabelFont", "responsiveTextAlignStyle", "$align", "textAlign", "responsiveTextFont", "useArrayProp", "__perf_hash__", "useMemo", "JSON", "stringify", "_getElements", "element", "elementsArg", "ret", "el", "push", "filter", "Boolean", "useClickOutside", "listener", "boundaryElement", "setElement", "useState", "elements", "setElements", "elementsRef", "useRef", "useEffect", "prevElements", "current", "nextElements", "includes", "handleWindowMouseDown", "evt", "target", "Node", "contains", "window", "addEventListener", "removeEventListener", "resizeObservers", "hasActiveObservations", "some", "ro", "activeTargets", "hasSkippedObservations", "skippedTargets", "msg", "deliverResizeLoopError", "event", "ErrorEvent", "message", "document", "createEvent", "initEvent", "dispatchEvent", "ResizeObserverBoxOptions", "freeze", "obj", "Object", "ResizeObserverSize", "inlineSize", "blockSize", "DOMRectReadOnly", "x", "y", "width", "prototype", "toJSON", "_a", "fromRect", "rectangle", "isSVG", "SVGElement", "isHidden", "getBBox", "_b", "offsetWidth", "offsetHeight", "getClientRects", "isElement", "Element", "scope", "ownerDocument", "defaultView", "isReplacedElement", "tagName", "type", "global", "cache", "WeakMap", "scrollRegexp", "verticalRegexp", "IE", "test", "navigator", "userAgent", "parseDimension", "pixel", "parseFloat", "switchSizes", "zeroBoxes", "devicePixelContentBoxSize", "borderBoxSize", "contentBoxSize", "contentRect", "calculateBoxSizes", "forceRecalculation", "has", "get", "set", "cs", "getComputedStyle", "svg", "ownerSVGElement", "removePadding", "boxSizing", "writingMode", "canScrollVertically", "overflowY", "canScrollHorizontally", "overflowX", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft", "borderTop", "borderTopWidth", "borderRight", "borderRightWidth", "borderBottom", "borderBottomWidth", "borderLeft", "borderLeftWidth", "horizontalPadding", "verticalPadding", "horizontalBorderArea", "verticalBorderArea", "horizontalScrollbarThickness", "clientHeight", "verticalScrollbarThickness", "clientWidth", "widthReduction", "heightReduction", "contentWidth", "contentHeight", "borderBoxWidth", "borderBoxHeight", "boxes", "round", "devicePixelRatio", "calculateBoxSize", "observedBox", "DEVICE_PIXEL_CONTENT_BOX", "BORDER_BOX", "ResizeObserverEntry", "calculateDepthForNode", "node", "Infinity", "depth", "parent", "parentNode", "broadcastActiveObservations", "shallowestDepth", "callbacks", "forEach", "processObserver", "entries", "processTarget", "ot", "entry", "targetDepth", "lastReportedSize", "resizeObserverCallback", "call", "observer", "splice", "_i", "callbacks_1", "gatherActiveObservationsAtDepth", "observationTargets", "isActive", "process", "trigger", "notify", "cb", "queueMicroTask", "toggle_1", "el_1", "createTextNode", "config", "characterData", "MutationObserver", "observe", "textContent", "queueResizeObserver", "ResizeObserver", "requestAnimationFrame", "watching", "isWatching", "CATCH_PERIOD", "observerConfig", "attributes", "childList", "subtree", "events", "time", "timeout", "Date", "now", "scheduled", "Scheduler", "_this", "stopped", "schedule", "run", "until", "elementsHaveResized", "start", "stop", "body", "name", "disconnect", "scheduler", "updateCount", "n", "skipNotifyOnElement", "ResizeObservation", "CONTENT_BOX", "ResizeObserverDetail", "resizeObserver", "observerMap", "getObservationIndex", "i", "ResizeObserverController", "connect", "detail", "options", "firstObservation", "box", "unobserve", "index", "lastObservation", "indexOf", "slice", "TypeError", "toString", "_ResizeObserver", "ResizeObserverPolyfill", "_elementSizeObserver", "_createElementSizeObserver", "_createElementRectValueListener", "subscribe", "subscriber", "_ref", "_contentRect", "border", "disposeCache", "subscribersCache", "subscribers", "dispose", "elementRect", "sub", "idx", "useElementSize", "setSize", "useGlobalKeyDown", "onKeyDown", "useEffect", "addEventListener", "removeEventListener", "multiplyChannel", "b", "s", "multiply", "r", "Math", "round", "clamp", "g", "num", "max", "min", "screenChannel", "screen", "hexToRgb", "hex", "length", "hexR", "slice", "hexG", "hexB", "parseInt", "rgbToHex", "_ref2", "toString", "hslToRgb", "hsl", "s", "l", "c", "Math", "abs", "x", "h", "m", "r", "g", "b", "round", "HEX_CHARS", "HSL_RE", "isHexChars", "str", "indexOf", "isHex", "length", "slice", "parseHsl", "res", "exec", "Error", "concat", "parseInt", "parseFloat", "parseColor", "color", "hexToRgb", "startsWith", "rgba", "a", "rgb", "createButtonTones", "opts", "base", "dark", "solid", "muted", "mode", "default", "button", "primary", "positive", "caution", "critical", "createButtonModes", "ghost", "bleed", "createCardStates", "name", "enabled", "card", "state", "disabled", "hovered", "pressed", "selected", "black", "white", "colors", "lightest", "lighter", "light", "darker", "darkest", "transparent", "spots", "gray", "red", "orange", "yellow", "green", "cyan", "blue", "purple", "magenta", "tones", "bg", "fg", "border", "focusRing", "defaultOpts", "_ref4", "shadow", "outline", "umbra", "penumbra", "ambient", "skeleton", "from", "to", "_ref5", "tone", "bg2", "accent", "link", "code", "_ref6", "_ref7", "_ref8", "input", "placeholder", "selectable", "_ref9", "spot", "_ref10", "key", "syntax", "atrule", "attrName", "attrValue", "attribute", "boolean", "builtin", "cdata", "char", "class", "className", "comment", "constant", "deleted", "doctype", "entity", "function", "hexcode", "id", "important", "inserted", "keyword", "number", "operator", "prolog", "property", "pseudoClass", "pseudoElement", "punctuation", "regex", "selector", "string", "symbol", "tag", "unit", "url", "variable", "createInputModes", "readOnly", "invalid", "createMutedTones", "createSelectableTones", "_createSelectableStates", "createSolidTones", "createSpot", "createColorTheme", "partialOpts", "arguments", "undefined", "builders", "_createColorScheme", "_createColor", "multiply", "hex", "rgbToHex", "_multiply", "screen", "_screen", "hues", "NEUTRAL_TONES", "_ref11", "tints", "skeletonFrom", "_ref12", "mix", "mix2", "defaultTints", "isNeutral", "includes", "_ref13", "_ref14", "_ref15", "_ref16", "_ref17", "_ref18", "_ref19", "mainShade", "secondaryShade", "DEFAULT_THEME_LAYER", "dialog", "zOffset", "popover", "tooltip", "getGlobalScope", "globalThis", "window", "self", "global", "Error", "globalScope", "key", "Symbol", "for", "createContext", "ThemeContext", "ThemeProvider", "props", "parentTheme", "useContext", "children", "scheme", "theme", "themeProp", "tone", "useMemo", "color", "rootColor", "layer", "rootLayer", "restTheme", "colorScheme", "light", "default", "sanity", "value", "version", "jsx", "Provider", "StyledThemeProvider", "isRecord", "Boolean", "useRootTheme", "ThemeColorProvider", "root", "useTheme", "useStyledTheme", "MEDIA_STORE_CACHE", "WeakMap", "_getMediaQuery", "media", "index", "concat", "length", "_createMediaStore", "mediaLen", "sizes", "getSizes", "mediaQuery", "push", "mq", "matchMedia", "getSnapshot", "matches", "subscribe", "onStoreChange", "disposeFns", "handleChange", "addEventListener", "removeEventListener", "disposeFn", "getServerSnapshot", "useMediaIndex", "store", "get", "set", "useSyncExternalStore", "useIsomorphicEffect", "window", "useLayoutEffect", "useEffect", "useForwardedRef", "ref", "innerRef", "useRef", "current", "useCustomValidity", "customValidity", "setCustomValidity", "BORDER_VALUE", "responsiveBorderStyle", "border", "borderTop", "borderRight", "borderBottom", "borderLeft", "props", "theme", "media", "sanity", "_responsive", "$border", "value", "$borderTop", "$borderRight", "$borderBottom", "$borderLeft", "BASE_STYLE", "listStyle", "BOX_SIZING", "content", "BOX_HEIGHT", "stretch", "fill", "boxStyle", "responsiveBoxStyle", "responsiveBoxSizingStyle", "responsiveBoxHeightStyle", "responsiveBoxOverflowStyle", "responsiveBoxDisplayStyle", "$display", "display", "$sizing", "sizing", "boxSizing", "$height", "height", "$overflow", "overflow", "responsiveFlexStyle", "responsiveFlexAlignStyle", "responsiveFlexGapStyle", "responsiveFlexWrapStyle", "responsiveFlexJustifyStyle", "responsiveFlexDirectionStyle", "$align", "align", "alignItems", "space", "$gap", "gap", "rem", "$wrap", "wrap", "flexWrap", "$justify", "justify", "justifyContent", "$direction", "direction", "flexDirection", "minWidth", "minHeight", "flexItemStyle", "responsiveFlexItemStyle", "$flex", "EMPTY_ARRAY", "flex", "focusRingBorderStyle", "concat", "width", "color", "focusRingStyle", "opts", "base", "focusRing", "focusRingOutsetWidth", "offset", "focusRingInsetWidth", "bgColor", "bg", "filter", "Boolean", "join", "GRID_CSS", "GRID_AUTO_COLUMS", "auto", "min", "max", "fr", "GRID_AUTO_ROWS", "responsiveGridStyle", "responsiveGridAutoFlowStyle", "responsiveGridAutoRowsStyle", "responsiveGridAutoColsStyle", "responsiveGridColumnsStyle", "responsiveGridRowsStyle", "responsiveGridGapStyle", "responsiveGridGapXStyle", "responsiveGridGapYStyle", "$autoFlow", "autoFlow", "gridAutoFlow", "$autoRows", "autoRows", "gridAutoRows", "$autoCols", "autoCols", "gridAutoColumns", "$columns", "columns", "gridTemplateColumns", "$rows", "rows", "gridTemplateRows", "gridGap", "$gapX", "gapX", "columnGap", "$gapY", "gapY", "rowGap", "responsiveGridItemStyle", "responsiveGridItemRowStyle", "responsiveGridItemRowStartStyle", "responsiveGridItemRowEndStyle", "responsiveGridItemColumnStyle", "responsiveGridItemColumnStartStyle", "responsiveGridItemColumnEndStyle", "GRID_ITEM_ROW", "full", "GRID_ITEM_COLUMN", "$row", "row", "gridRow", "$rowStart", "rowStart", "gridRowStart", "$rowEnd", "rowEnd", "gridRowEnd", "$column", "column", "gridColumn", "$columnStart", "columnStart", "gridColumnStart", "$columnEnd", "columnEnd", "gridColumnEnd", "responsiveInputPaddingStyle", "$fontSize", "$iconLeft", "$iconRight", "$padding", "$space", "fonts", "spaceScale", "len", "Math", "length", "_padding", "_space", "_fontSize", "i", "_", "size", "text", "sizes", "emSize", "lineHeight", "ascenderHeight", "descenderHeight", "p", "s", "styles", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft", "responsiveInputPaddingIconRightStyle", "_a", "_b", "_c", "ROOT_STYLE", "css", "__template", "textInputRootStyle", "textInputBaseStyle", "$scheme", "$tone", "$weight", "font", "input", "family", "weights", "regular", "default", "enabled", "fg", "placeholder", "disabled", "invalid", "readOnly", "textInputFontSizeStyle", "sizeIndex", "fontSize", "textInputRepresentationStyle", "$hasPrefix", "$hasSuffix", "hovered", "responsiveMarginStyle", "_getResponsiveSpace", "$margin", "$marginX", "$marginY", "$marginTop", "$marginRight", "$marginBottom", "$marginLeft", "responsivePaddingStyle", "$paddingX", "$paddingY", "$paddingTop", "$paddingRight", "$paddingBottom", "$paddingLeft", "responsiveRadiusStyle", "radius", "$radius", "radiusIndex", "borderRadius", "toBoxShadow", "shadow", "map", "shadowStyle", "EMPTY_RECORD", "outline", "umbra", "penumbra", "ambient", "boxShadow", "responsiveShadowStyle", "shadows", "$shadow", "textBaseStyle", "$accent", "$muted", "code", "bold", "Root", "styled", "div", "responsiveTextFont", "responsiveTextAlignStyle", "SpanWithTextOverflow", "span", "Text", "forwardRef", "accent", "children", "childrenProp", "muted", "textOverflow", "weight", "restProps", "jsx", "useArrayProp", "$size", "avatarStyle", "root", "avatarRootStyle", "arrow", "avatarArrowStyle", "bgStroke", "avatarBgStrokeStyle", "stroke", "avatarStrokeStyle", "initials", "avatarInitialsStyle", "position", "zIndex", "opacity", "transition", "transform", "left", "right", "top", "bottom", "$color", "backgroundColor", "userSelect", "WebkitFontSmoothing", "appearance", "margin", "padding", "responsiveAvatarSizeStyle", "avatar", "avatarSize", "textTransform", "textAlign", "strokeWidth", "strokeDasharray", "strokeLinecap", "Arrow", "BgStroke", "ellipse", "Stroke", "Initials", "Avatar", "as", "asProp", "colorKey", "src", "title", "onImageLoadError", "arrowPosition", "arrowPositionProp", "animateArrowFrom", "status", "sizeProp", "ReactIs", "isValidElementType", "useTheme", "spot", "gray", "_sizeRem", "_radius", "elementId", "useId", "setArrowPosition", "useState", "imageFailed", "setImageFailed", "imageId", "raf", "requestAnimationFrame", "cancelAnimationFrame", "handleImageError", "useCallback", "Error", "initialsSize", "useMemo", "jsxs", "viewBox", "d", "id", "patternContentUnits", "href", "onError", "cx", "cy", "r", "rx", "ry", "vectorEffect", "Fragment", "_responsiveAvatarCounterSizeStyle", "_avatarCounterBaseStyle", "AvatarCounter", "count", "counterSize", "childrenToElementArray", "childrenArray", "Array", "isArray", "node", "isElement", "isFragment", "BASE_STYLES", "avatarStackStyle", "responsiveAvatarStackSizeStyle", "marginLeft", "distance", "AvatarStack", "maxLength", "maxLengthProp", "child", "visibleCount", "extraCount", "visibleChildren", "slice", "childIndex", "cloneElement", "String", "Box", "marginX", "marginY", "marginTop", "marginRight", "marginBottom", "paddingX", "paddingY", "labelBaseStyle", "responsiveLabelFont", "Label", "badgeStyle", "$mode", "palette", "cursor", "Badge", "mode", "tone", "Flex", "forwardedAs", "rotate", "keyframes", "Spinner", "SpinnerIcon", "_colorVarsStyle", "checkered", "arguments", "undefined", "_d", "_e", "_f", "_g", "_h", "bg2", "link", "skeleton", "from", "to", "buttonBaseStyles", "buttonTheme", "buttonColorStyles", "button", "pressed", "LoadingBox", "Button", "icon", "iconRight", "justifyProp", "loading", "paddingProp", "paddingXProp", "paddingYProp", "paddingTopProp", "paddingBottomProp", "paddingLeftProp", "paddingRightProp", "radiusProp", "selected", "spaceProp", "type", "boxProps", "isValidElement", "createElement", "textWeight", "cardStyle", "cardBaseStyle", "cardColorStyle", "$checkered", "$focusRing", "card", "dark", "Card", "__unstable_checkered", "__unstable_focusRing", "scheme", "toneProp", "rootTheme", "useRootTheme", "ThemeColorProvider", "checkboxBaseStyles", "inputElementStyles", "checkbox", "Input", "Checkbox", "forwardedRef", "checked", "className", "indeterminate", "style", "CheckmarkIcon", "RemoveIcon", "codeSyntaxHighlightingStyle", "_ref20", "syntax", "atrule", "attrName", "attrValue", "attribute", "boolean", "builtin", "cdata", "char", "class", "comment", "constant", "deleted", "doctype", "entity", "function", "hexcode", "important", "inserted", "keyword", "number", "operator", "prolog", "property", "pseudoClass", "pseudoElement", "punctuation", "regex", "selector", "string", "symbol", "tag", "unit", "url", "variable", "codeBaseStyle", "pre", "responsiveCodeFontStyle", "Code", "language", "languageProp", "registered", "Refractor", "hasLanguage", "inline", "containerBaseStyle", "responsiveContainerWidthStyle", "container", "$width", "val", "maxWidth", "Container", "Grid", "headingBaseStyle", "responsiveHeadingFont", "Heading", "inlineBaseStyle", "verticalAlign", "inlineSpaceStyle", "spaceIndex", "Inline", "idx", "kbdStyle", "kbd", "KBD", "key", "Symbol", "for", "globalScope", "createContext", "BoundaryElementContext", "DEFAULT_VALUE", "version", "element", "useBoundaryElement", "value", "useContext", "BoundaryElementContext", "isRecord", "Error", "findMaxBreakpoints", "media", "width", "ret", "i", "length", "bp", "push", "findMinBreakpoints", "ElementQuery", "forwardRef", "props", "ref", "theme", "useTheme", "children", "sanity", "restProps", "forwardedRef", "useForwardedRef", "setElement", "useState", "elementSize", "useElementSize", "useMemo", "_a", "border", "window", "innerWidth", "max", "min", "setRef", "useCallback", "el", "current", "jsx", "join", "getLayerContext", "contextValue", "isRecord", "version", "Error", "key", "Symbol", "for", "globalScope", "createContext", "LayerContext", "useLayer", "value", "useContext", "err", "concat", "message", "_raf", "fn", "frameId", "requestAnimationFrame", "cancelAnimationFrame", "_isEnterToClickElement", "element", "isHTMLAnchorElement", "isHTMLButtonElement", "isHTMLElement", "node", "Node", "nodeType", "ELEMENT_NODE", "nodeName", "isHTMLInputElement", "isHTMLSelectElement", "isHTMLTextAreaElement", "containsOrEqualsElement", "contains", "_hasFocus", "Boolean", "document", "activeElement", "isFocusable", "tabIndex", "getAttribute", "href", "rel", "type", "disabled", "attemptFocus", "focus", "_", "focusFirstDescendant", "i", "childNodes", "length", "child", "focusLastDescendant", "_isScrollable", "el", "Element", "style", "window", "getComputedStyle", "overflowX", "includes", "overflowY", "LayerProvider", "props", "_a", "children", "zOffset", "zOffsetProp", "parentContextValue", "useContext", "LayerContext", "parent", "getLayerContext", "parentRegisterChild", "registerChild", "parentLevel", "level", "useArrayProp", "maxMediaIndex", "mediaIndex", "Math", "min", "useMediaIndex", "zIndex", "setChildLayers", "useState", "size", "setSize", "isTopLayer", "useCallback", "childLevel", "parentDispose", "state", "prevLen", "nextState", "Object", "keys", "v", "useEffect", "value", "useMemo", "version", "jsx", "Provider", "Root", "styled", "div", "position", "LayerChildren", "forwardRef", "ref", "onActivate", "onFocus", "EMPTY_RECORD", "restProps", "useLayer", "lastFocusedRef", "useRef", "forwardedRef", "useForwardedRef", "isTopLayerRef", "becameTopLayer", "current", "handleFocus", "event", "rootElement", "target", "Layer", "key", "Symbol", "for", "elementKey", "globalScope", "defaultContextValue", "boundaryElement", "createElement", "setAttribute", "body", "appendChild", "createContext", "PortalContext", "usePortal", "Error", "isRecord", "Portal", "__unstable_name", "name", "portal", "portalElement", "elements", "default", "createPortal", "_a", "Root", "styled", "div", "__template", "SrOnly", "forwardRef", "props", "ref", "as", "children", "jsx", "_b", "ItemWrapper", "VirtualList", "gap", "getItemKey", "items", "onChange", "renderItem", "restProps", "space", "useTheme", "sanity", "forwardedRef", "useForwardedRef", "wrapperRef", "useRef", "scrollTop", "setScrollTop", "useState", "scrollHeight", "setScrollHeight", "itemHeight", "setItemHeight", "useEffect", "current", "firstElement", "firstChild", "HTMLElement", "offsetHeight", "_scrollEl", "parentNode", "_isScrollable", "scrollEl", "handleScroll", "handleScroll2", "addEventListener", "passive", "ro", "_ResizeObserver", "entries", "contentRect", "height", "observe", "removeEventListener", "unobserve", "disconnect", "window", "scrollY", "handleResize", "innerHeight", "len", "length", "fromIndex", "Math", "max", "floor", "toIndex", "ceil", "useMemo", "slice", "map", "item", "_itemIndex", "itemIndex", "node", "key", "style", "top", "wrapperStyle", "DEFAULT_POPOVER_DISTANCE", "DEFAULT_POPOVER_PADDING", "DEFAULT_POPOVER_ARROW_WIDTH", "DEFAULT_POPOVER_ARROW_HEIGHT", "DEFAULT_POPOVER_MARGINS", "DEFAULT_FALLBACK_PLACEMENTS", "bottom", "left", "right", "size", "options", "apply", "margins", "padding", "name", "fn", "args", "elements", "placement", "platform", "rects", "floating", "reference", "overflow", "detectOverflow", "altBoundary", "boundary", "boundaryElement", "elementContext", "rootBoundary", "maxWidth", "Infinity", "maxHeight", "floatingW", "width", "floatingH", "includes", "availableWidth", "availableHeight", "referenceWidth", "nextDimensions", "getDimensions", "targetH", "targetW", "reset", "calcCurrentWidth", "params", "mediaIndex", "theme", "w", "currentWidth", "container", "calcMaxWidth", "boundaryWidth", "min", "_c", "BorderPath", "path", "ShapePath", "PopoverArrow", "jsxs", "viewBox", "fill", "xmlns", "d", "Card", "display", "flexDirection", "minWidth", "PopoverCard", "memo", "__unstable_margins", "marginsProp", "arrow", "arrowRef", "arrowX", "arrowY", "radius", "scheme", "shadow", "strategy", "tone", "x", "xProp", "y", "yProp", "zIndex", "useLayer", "rootStyle", "position", "staticSide", "FLOATING_STATIC_SIDES", "split", "arrowStyle", "sizing", "Flex", "direction", "flex", "displayName", "Popover", "_d", "_e", "_f", "_g", "_h", "_i", "boundaryElementContext", "useBoundaryElement", "arrowProp", "element", "childProp", "constrainSize", "content", "disabled", "fallbackPlacements", "matchReferenceWidth", "floatingBoundary", "open", "paddingProp", "placementProp", "portal", "preventOverflow", "radiusProp", "referenceBoundary", "referenceElement", "shadowProp", "widthProp", "zOffset", "zOffsetProp", "layer", "popover", "updateRef", "boundarySize", "useElementSize", "border", "useArrayProp", "widthArrayProp", "useMediaIndex", "widthRef", "maxWidthRef", "referenceWidthRef", "floatingElement", "concat", "middleware", "ret", "push", "flip", "offset", "mainAxis", "_ref21", "_currentWidth", "_maxWidth", "shift", "hide", "middlewareData", "refs", "update", "useFloating", "whileElementsMounted", "autoUpdate", "referenceHidden", "setArrow", "useCallback", "arrowEl", "setFloating", "setReference", "childRef", "child", "cloneElement", "Fragment", "LayerProvider", "hidden", "Portal", "__unstable_name", "radioBaseStyle", "css", "inputElementStyle", "focusRing", "input", "color", "dist", "radio", "markSize", "rem", "default", "enabled", "bg", "focusRingBorderStyle", "fg", "focusRingStyle", "readOnly", "Input", "Radio", "className", "customValidity", "useCustomValidity", "type", "inputBaseStyle", "font", "fonts", "text", "family", "inputColorStyle", "hovered", "textSize", "fontSize", "lineHeight", "inputTextSizeStyle", "$fontSize", "sizes", "_responsive", "media", "sizeIndex", "inputStyle", "responsiveRadiusStyle", "responsiveInputPaddingIconRightStyle", "iconBoxStyle", "selectStyle", "root", "iconBox", "select", "IconBox", "Box", "Select", "$padding", "$radius", "$space", "Text", "SelectIcon", "BASE_STYLE", "listStyle", "gridTemplateColumns", "gridAutoRows", "stackBaseStyle", "responsiveStackSpaceStyle", "spaceIndex", "gridGap", "Stack", "forwardedAs", "switchBaseStyles", "switchInputStyles", "switchRepresentationStyles", "button", "switch", "positive", "switchTrackStyles", "switchThumbStyles", "$indeterminate", "trackWidth", "trackHeight", "trackPadding", "checkedOffset", "indeterminateOffset", "checked", "$checked", "transitionDurationMs", "transitionTimingFunction", "span", "Representation", "Track", "Thumb", "Switch", "indeterminate", "textInputRootStyle", "InputRoot", "textarea", "responsiveInputPaddingStyle", "textInputBaseStyle", "textInputFontSizeStyle", "Presentation", "textInputRepresentationStyle", "TextArea", "weight", "rootTheme", "useRootTheme", "$scheme", "$tone", "$weight", "CLEAR_BUTTON_BOX_STYLE", "attrs", "Prefix", "Suffix", "LeftBox", "RightBox", "RightCard", "TextInputClearButton", "Button", "TextInput", "clearButton", "fontSizeProp", "icon", "iconRight", "onClear", "prefix", "spaceProp", "suffix", "$hasClearButton", "Boolean", "$hasIcon", "$hasIconRight", "$hasSuffix", "$hasPrefix", "handleClearMouseDown", "event", "preventDefault", "stopPropagation", "handleClearClick", "focus", "prefixNode", "borderTop", "borderLeft", "borderBottom", "presentationNode", "isValidElement", "isValidElementType", "createElement", "clearButtonBoxPadding", "v", "clearButtonPadding", "clearButtonProps", "EMPTY_RECORD", "clearButtonNode", "CloseIcon", "mode", "onClick", "onMouseDown", "suffixNode", "borderRight", "$iconLeft", "$iconRight", "useDelayedState", "initialState", "state", "setState", "delayedAction", "onStateChange", "nextState", "delay", "action", "clearTimeout", "setTimeout", "DEFAULT_TOOLTIP_PADDING", "Border", "Shape", "TooltipArrow", "Symbol", "for", "globalScope", "createContext", "TooltipDelayGroupContext", "useTooltipDelayGroup", "value", "useContext", "_a", "Root", "styled", "Layer", "__template", "_ref22", "$maxWidth", "Tooltip", "forwardRef", "props", "ref", "_b", "_c", "_d", "_e", "_f", "boundaryElementContext", "useBoundaryElement", "theme", "useTheme", "boundaryElement", "element", "children", "childProp", "content", "disabled", "fallbackPlacements", "fallbackPlacementsProp", "DEFAULT_FALLBACK_PLACEMENTS", "placement", "padding", "placementProp", "portal", "portalProp", "scheme", "shadow", "zOffset", "sanity", "layer", "tooltip", "delay", "restProps", "useArrayProp", "forwardedRef", "useForwardedRef", "referenceElement", "setReferenceElement", "useState", "arrowRef", "useRef", "rootBoundary", "usePortal", "portalElement", "elements", "tooltipWidth", "useMemo", "availableWidths", "offsetWidth", "document", "body", "Math", "min", "DEFAULT_TOOLTIP_PADDING", "middleware", "ret", "push", "flip", "boundary", "offset", "mainAxis", "shift", "arrow", "floatingStyles", "middlewareData", "refs", "update", "useFloating", "whileElementsMounted", "autoUpdate", "staticSide", "FLOATING_STATIC_SIDES", "split", "arrowX", "x", "arrowY", "y", "arrowStyle", "style", "left", "top", "right", "bottom", "tooltipId", "useId", "isOpen", "setIsOpen", "useDelayedState", "delayGroupContext", "useTooltipDelayGroup", "showTooltip", "openTooltipId", "isInsideGroup", "openDelayProp", "open", "closeDelayProp", "close", "openDelay", "closeDelay", "handleIsOpenChange", "useCallback", "immediate", "groupedOpenDelay", "setIsGroupActive", "setOpenTooltipId", "minimumGroupDeactivateDelay", "groupDeactivateDelay", "standaloneDelay", "handleBlur", "e", "onBlur", "call", "handleClick", "onClick", "handleContextMenu", "onContextMenu", "handleFocus", "onFocus", "handleMouseEnter", "onMouseEnter", "handleMouseLeave", "onMouseLeave", "useEffect", "handleWindowMouseMove", "event", "isHoveringReference", "target", "Node", "contains", "window", "removeEventListener", "addEventListener", "setReference", "handleWindowKeyDown", "key", "setArrow", "arrowEl", "current", "setFloating", "node", "childRef", "child", "cloneElement", "jsx", "Fragment", "root", "jsxs", "Card", "radius", "TooltipArrow", "Portal", "__unstable_name", "div", "ListBox", "Box", "rotate", "keyframes", "AnimatedSpinnerIcon", "SpinnerIcon", "AutocompleteOption", "id", "onSelect", "selected", "value", "setTimeout", "handleKeyDown", "_isEnterToClickElement", "currentTarget", "role", "onKeyDown", "autocompleteReducer", "state", "msg", "type", "activeValue", "focused", "query", "listFocused", "AUTOCOMPLETE_LISTBOX_IGNORE_KEYS", "AUTOCOMPLETE_POPOVER_PLACEMENT", "AUTOCOMPLETE_POPOVER_FALLBACK_PLACEMENTS", "DEFAULT_RENDER_VALUE", "option", "DEFAULT_FILTER_OPTION", "toLowerCase", "indexOf", "InnerAutocomplete", "border", "customValidity", "filterOption", "filterOptionProp", "fontSize", "icon", "listBox", "EMPTY_RECORD", "loading", "onChange", "onQueryChange", "openButton", "options", "optionsProp", "paddingProp", "popover", "prefix", "readOnly", "relatedElements", "renderOption", "renderOptionProp", "renderPopover", "renderValue", "suffix", "valueProp", "dispatch", "useReducer", "defaultRenderOption", "_ref23", "tone", "Text", "size", "textOverflow", "rootElementRef", "resultsPopoverElementRef", "inputElementRef", "listBoxElementRef", "listFocusedRef", "valueRef", "valuePropRef", "popoverMouseWithinRef", "listBoxId", "concat", "Array", "isArray", "EMPTY_ARRAY", "currentOption", "find", "o", "filteredOptions", "filter", "filteredOptionsLen", "length", "activeItemId", "expanded", "handleRootBlur", "focusInside", "activeElement", "handleRootFocus", "listBoxElement", "focusedElement", "HTMLElement", "handleOptionSelect", "v", "focus", "handleRootKeyDown", "preventDefault", "activeOption", "activeIndex", "nextActiveOption", "listEl", "includes", "handleInputChange", "nextQuery", "handleInputFocus", "handlePopoverMouseEnter", "handlePopoverMouseLeave", "handleClearButtonClick", "handleClearButtonFocus", "listElement", "activeItemElement", "childNodes", "_hasFocus", "focusFirstDescendant", "setRef", "el", "clearButton", "openButtonBoxPadding", "map", "openButtonPadding", "max", "openButtonProps", "handleOpenClick", "_raf", "openButtonNode", "Button", "ChevronDownIcon", "mode", "inputValue", "input", "TextInput", "autoCapitalize", "autoComplete", "autoCorrect", "iconRight", "inputMode", "onClear", "spellCheck", "handleListBoxKeyDown", "tabIndex", "Stack", "as", "space", "active", "results", "hidden", "inputElement", "Popover", "constrainSize", "matchReferenceWidth", "overflow", "_a", "_b", "Root", "styled", "ol", "__template", "ExpandButton", "Button", "Breadcrumbs", "forwardRef", "props", "ref", "children", "maxLength", "separator", "space", "spaceRaw", "restProps", "useArrayProp", "open", "setOpen", "useState", "expandElement", "setExpandElement", "popoverElement", "setPopoverElement", "collapse", "useCallback", "expand", "useClickOutside", "rawItems", "useMemo", "Children", "toArray", "filter", "child", "isValidElement", "items", "len", "length", "beforeLength", "Math", "ceil", "afterLength", "floor", "slice", "jsx", "Popover", "constrainSize", "content", "Stack", "as", "overflow", "padding", "placement", "portal", "fontSize", "mode", "onClick", "selected", "text", "map", "item", "itemIndex", "Fragment", "Box", "paddingX", "Text", "muted", "dialogStyle", "_ref24", "theme", "color", "sanity", "base", "display", "top", "left", "right", "bottom", "alignItems", "justifyContent", "outline", "background", "shadow", "umbra", "responsiveDialogPositionStyle", "media", "_responsive", "$position", "position", "key", "Symbol", "for", "globalScope", "createContext", "version", "DialogContext", "useDialog", "useContext", "_c", "_d", "_e", "_f", "isTargetWithinScope", "boundaryElement", "portalElement", "target", "containsOrEqualsElement", "Layer", "responsivePaddingStyle", "DialogContainer", "Container", "DialogCardRoot", "Card", "DialogLayout", "Flex", "DialogHeader", "DialogContent", "DialogFooter", "DialogCard", "__unstable_autoFocus", "autoFocus", "__unstable_hideCloseButton", "hideCloseButton", "contentRef", "footer", "header", "id", "onClickOutside", "onClose", "portalProp", "radius", "radiusProp", "scheme", "shadowProp", "width", "widthProp", "usePortal", "elements", "element", "useBoundaryElement", "forwardedRef", "useForwardedRef", "rootElement", "setRootElement", "localContentRef", "useRef", "layer", "useLayer", "isTopLayer", "labelId", "concat", "showCloseButton", "Boolean", "showHeader", "useEffect", "current", "focusFirstDescendant", "useGlobalKeyDown", "event", "document", "activeElement", "preventDefault", "stopPropagation", "setRef", "el", "setContentRef", "jsxs", "direction", "flex", "weight", "disabled", "icon", "CloseIcon", "tabIndex", "Dialog", "dialog", "useTheme", "cardRadius", "cardRadiusProp", "cardShadow", "onActivate", "onFocus", "paddingProp", "positionProp", "zOffset", "zOffsetProp", "preDivRef", "postDivRef", "cardRef", "focusedElementRef", "handleFocus", "cardElement", "focusLastDescendant", "isHTMLElement", "rootClickTimeoutRef", "handleRootClick", "clearTimeout", "setTimeout", "body", "contains", "focus", "Portal", "__unstable_name", "$padding", "role", "_a", "_b", "Root", "styled", "kbd", "__template", "Key", "KBD", "Hotkeys", "forwardRef", "props", "ref", "fontSize", "keys", "padding", "radius", "space", "spaceProp", "restProps", "useArrayProp", "length", "jsx", "Fragment", "children", "Inline", "as", "map", "key", "i", "Symbol", "for", "globalScope", "createContext", "MenuContext", "_isFocusable", "element", "isHTMLAnchorElement", "getAttribute", "isHTMLButtonElement", "disabled", "_getFocusableElements", "elements", "filter", "_getDOMPath", "rootElement", "el", "path", "e", "parentElement", "Array", "from", "childNodes", "index", "indexOf", "unshift", "EMPTY_PATH", "_sortElements", "WeakMap", "set", "_sort", "a", "b", "get", "len", "Math", "max", "aIndex", "bIndex", "sort", "useMenuController", "onKeyDown", "originElement", "shouldFocus", "elementsRef", "useRef", "setRootElement", "useState", "activeIndex", "_setActiveIndex", "activeIndexRef", "activeElement", "current", "mounted", "Boolean", "setActiveIndex", "useCallback", "nextActiveIndex", "mount", "selected", "push", "selectedIndex", "idx", "splice", "handleKeyDown", "event", "focus", "preventDefault", "stopPropagation", "focusableElements", "currentIndex", "focusableLen", "focusedElement", "focusedIndex", "handleItemMouseEnter", "currentTarget", "handleItemMouseLeave", "useEffect", "rafId", "window", "requestAnimationFrame", "_activeIndex", "cancelAnimationFrame", "Box", "Menu", "focusFirst", "focusLast", "onClickOutside", "onEscape", "onItemClick", "onItemSelect", "registerElement", "forwardedRef", "useForwardedRef", "isTopLayer", "useLayer", "handleRefChange", "useClickOutside", "useGlobalKeyDown", "value", "useMemo", "version", "onItemMouseEnter", "onItemMouseLeave", "onMouseEnter", "onMouseLeave", "Provider", "role", "tabIndex", "Stack", "MenuButton", "__unstable_disableRestoreFocusOnClose", "disableRestoreFocusOnClose", "boundaryElement", "deprecated_boundaryElement", "button", "buttonProp", "id", "menu", "menuProp", "onClose", "onOpen", "placement", "deprecated_placement", "popoverScheme", "deprecated_popoverScheme", "portal", "deprecated_portal", "popover", "popoverRadius", "deprecated_popoverRadius", "preventOverflow", "deprecated_preventOverflow", "open", "setOpen", "setShouldFocus", "buttonElement", "setButtonElement", "menuElements", "setChildMenuElements", "openRef", "handleButtonClick", "v", "handleButtonKeyDown", "handleMenuClickOutside", "target", "Node", "contains", "handleMenuEscape", "handleBlur", "relatedTarget", "handleItemClick", "els", "concat", "_el", "menuProps", "onBlurCapture", "isElement", "cloneElement", "setButtonRef", "onClick", "popoverProps", "overflow", "scheme", "Popover", "content", "MenuDivider", "hr", "selectableBaseStyle", "css", "selectableColorStyle", "$tone", "theme", "base", "muted", "selectable", "sanity", "color", "tone", "default", "_colorVarsStyle", "enabled", "pressed", "hovered", "styles", "card", "root", "Selectable", "responsiveRadiusStyle", "useMenu", "useContext", "Error", "isRecord", "MenuItem", "forwardRef", "props", "forwardedRef", "as", "children", "disabled", "fontSize", "hotkeys", "icon", "iconRight", "onClick", "padding", "paddingX", "paddingY", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft", "pressed", "radius", "selected", "selectedProp", "space", "text", "tone", "restProps", "menu", "useMenu", "activeElement", "mount", "onItemClick", "onItemMouseEnter", "onMouseEnter", "onItemMouseLeave", "onMouseLeave", "rootElement", "setRootElement", "useState", "active", "Boolean", "useEffect", "ref", "useForwardedRef", "handleClick", "useCallback", "event", "paddingProps", "useMemo", "setRef", "el", "current", "jsxs", "Selectable", "forwardedAs", "$radius", "useArrayProp", "$padding", "$tone", "role", "tabIndex", "type", "jsx", "Box", "Flex", "Text", "size", "isValidElement", "isValidElementType", "createElement", "flex", "marginLeft", "marginRight", "textOverflow", "style", "marginTop", "marginBottom", "Hotkeys", "keys", "_a", "_b", "_c", "_d", "keyframe", "keyframes", "__template", "animation", "css", "skeletonStyle", "_ref25", "$visible", "_ref26", "$animated", "Root", "styled", "responsiveRadiusStyle", "Skeleton", "animated", "delay", "visible", "setVisible", "timeout", "setTimeout", "clearTimeout", "_ref27", "$size", "$style", "theme", "media", "sanity", "font", "fonts", "styles", "_responsive", "sizeIndex", "sizes", "capHeight", "lineHeight", "ascenderHeight", "descenderHeight", "height", "TextSkeleton", "LabelSkeleton", "HeadingSkeleton", "CodeSkeleton", "CustomButton", "Button", "Tab", "id", "focused", "label", "onFocus", "elementRef", "useRef", "focusedRef", "handleBlur", "handleFocus", "focus", "mode", "onBlur", "_isReactElement", "node", "CustomInline", "Inline", "TabList", "childrenProp", "focusedIndex", "setFocusedIndex", "filter", "tabs", "map", "child", "childIndex", "cloneElement", "key", "handleTabFocus", "numTabs", "length", "tabIdx", "handleKeyDown", "prevIndex", "onKeyDown", "TabPanel", "Root", "styled", "Card", "_a", "__template", "TextBox", "Flex", "_b", "key", "Symbol", "for", "globalScope", "createContext", "ToastContext", "_a", "_b", "Root", "styled", "Layer", "__template", "ToastContainer", "div", "_findPrevItemElement", "state", "itemElements", "focusedElement", "_a", "idx", "indexOf", "els", "slice", "len", "length", "i", "itemKey", "getAttribute", "segments", "split", "pop", "p", "expanded", "j", "push", "k", "join", "_findNextItemElement", "_focusItemElement", "el", "focus", "firstChild", "HTMLElement", "key", "Symbol", "for", "globalScope", "createContext", "TreeContext", "Tree", "memo", "forwardRef", "props", "ref", "children", "space", "onFocus", "restProps", "forwardedRef", "useForwardedRef", "setFocusedElement", "useState", "focusedElementRef", "useRef", "path", "useMemo", "setItemElements", "setState", "stateRef", "useEffect", "current", "registerItem", "useCallback", "element", "selected", "s", "newState", "setExpanded", "itemState", "contextValue", "version", "level", "handleKeyDown", "event", "preventDefault", "nextEl", "prevEl", "itemPath", "parentKey", "parentState", "focusedKey", "handleFocus", "target", "_itemElements", "Array", "from", "querySelectorAll", "jsx", "Provider", "value", "Stack", "as", "onKeyDown", "role", "displayName", "_b", "_c", "treeItemRootStyle", "css", "__template", "treeItemRootColorStyle", "theme", "$tone", "base", "muted", "selectable", "sanity", "color", "tone", "default", "_colorVarsStyle", "enabled", "pressed", "hovered", "treeItemBoxStyle", "$level", "rem", "useTree", "tree", "useContext", "Error", "TreeGroup", "hidden", "marginTop", "Root", "styled", "li", "TreeItemBox", "Box", "attrs", "forwardedAs", "ToggleArrowText", "Text", "TreeItem", "expandedProp", "fontSize", "href", "icon", "id", "idProp", "linkAs", "onClick", "padding", "text", "weight", "rootRef", "treeitemRef", "_id", "useId", "concat", "focused", "tabIndex", "handleClick", "closest", "stopPropagation", "click", "content", "jsxs", "Flex", "marginRight", "style", "visibility", "pointerEvents", "size", "createElement", "ToggleArrowRightIcon", "transform", "flex", "textOverflow", "MarkdownInputStyles", "styled", "Box", "_templateObject", "_taggedTemplateLiteral", "_ref", "theme", "sanity", "color", "card", "enabled", "fg", "_ref2", "border", "_ref3", "_ref4", "_ref5", "selectable", "primary", "hovered", "bg", "_ref6", "_ref7", "_ref8", "_ref9", "SimpleMdeReact", "lazy", "useSimpleMdeReact", "mounted", "setMounted", "useState", "useEffect", "requestAnimationFrame", "defaultMdeTools", "MarkdownInput", "props", "_a", "value", "onChange", "elementProps", "onBlur", "onFocus", "ref", "reactMdeProps", "options", "mdeCustomOptions", "schemaType", "client", "useClient", "apiVersion", "imageUrl", "imageUpload", "useCallback", "file", "onSuccess", "onError", "assets", "upload", "then", "doc", "concat", "url", "catch", "e", "console", "error", "message", "mdeOptions", "useMemo", "autofocus", "spellChecker", "sideBySideFullscreen", "uploadImage", "imageUploadFunction", "toolbar", "status", "handleChange", "newValue", "PatchEvent", "from", "set", "unset", "jsx", "children", "Suspense", "fallback", "padding", "Text", "spellCheck", "markdownTypeName", "markdownSchemaType", "defineType", "type", "name", "title", "components", "input", "markdownSchema", "definePlugin", "config", "schema", "types"]
}
